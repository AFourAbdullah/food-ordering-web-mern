import{y as Kn,w as za,ae as kT,l as zT,Z as VT,x as ut,af as Zg,ag as FT,v as _a,o as jr,n as Gt,D as Yg,X as HT,ah as WT,O as Gu,ai as jT}from"./index-5beaefa8.js";import{r as qT,c as GT,u as KT}from"./util-d48bbdce.js";function Zl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ZT(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Gy(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function YT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Zl(t.outputLen),Zl(t.blockLen)}function JT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function XT(t,e){Gy(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Ku={number:Zl,bool:ZT,bytes:Gy,hash:YT,exists:JT,output:XT},Zu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ky=t=>t instanceof Uint8Array,EL=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Yu=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),$r=(t,e)=>t<<32-e|t>>>e,QT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!QT)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function eA(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Bc(t){if(typeof t=="string"&&(t=eA(t)),!Ky(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function SL(...t){const e=new Uint8Array(t.reduce((i,s)=>i+s.length,0));let r=0;return t.forEach(i=>{if(!Ky(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}class tA{clone(){return this._cloneInto()}}function Zy(t){const e=i=>t().update(Bc(i)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function TL(t){const e=(i,s)=>t(s).update(Bc(i)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=i=>t(i),e}function AL(t=32){if(Zu&&typeof Zu.getRandomValues=="function")return Zu.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function rA(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);const s=BigInt(32),a=BigInt(4294967295),u=Number(r>>s&a),l=Number(r&a),c=i?4:0,d=i?0:4;t.setUint32(e+c,u,i),t.setUint32(e+d,l,i)}let nA=class extends tA{constructor(e,r,i,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Yu(this.buffer)}update(e){Ku.exists(this);const{view:r,buffer:i,blockLen:s}=this;e=Bc(e);const a=e.length;for(let u=0;u<a;){const l=Math.min(s-this.pos,a-u);if(l===s){const c=Yu(e);for(;s<=a-u;u+=s)this.process(c,u);continue}i.set(e.subarray(u,u+l),this.pos),this.pos+=l,u+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ku.exists(this),Ku.output(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:a}=this;let{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>s-u&&(this.process(i,0),u=0);for(let I=u;I<s;I++)r[I]=0;rA(i,s-8,BigInt(this.length*8),a),this.process(i,0);const l=Yu(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,T=this.get();if(d>T.length)throw new Error("_sha2: outputLen bigger than state");for(let I=0;I<d;I++)l.setUint32(4*I,T[I],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:a,destroyed:u,pos:l}=this;return e.length=s,e.pos=l,e.finished=a,e.destroyed=u,s%r&&e.buffer.set(i),e}};const iA=(t,e,r)=>t&e^~t&r,oA=(t,e,r)=>t&e^t&r^e&r,sA=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ln=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$n=new Uint32Array(64);let Yy=class extends nA{constructor(){super(64,32,8,!1),this.A=Ln[0]|0,this.B=Ln[1]|0,this.C=Ln[2]|0,this.D=Ln[3]|0,this.E=Ln[4]|0,this.F=Ln[5]|0,this.G=Ln[6]|0,this.H=Ln[7]|0}get(){const{A:e,B:r,C:i,D:s,E:a,F:u,G:l,H:c}=this;return[e,r,i,s,a,u,l,c]}set(e,r,i,s,a,u,l,c){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=a|0,this.F=u|0,this.G=l|0,this.H=c|0}process(e,r){for(let I=0;I<16;I++,r+=4)$n[I]=e.getUint32(r,!1);for(let I=16;I<64;I++){const D=$n[I-15],U=$n[I-2],H=$r(D,7)^$r(D,18)^D>>>3,ee=$r(U,17)^$r(U,19)^U>>>10;$n[I]=ee+$n[I-7]+H+$n[I-16]|0}let{A:i,B:s,C:a,D:u,E:l,F:c,G:d,H:T}=this;for(let I=0;I<64;I++){const D=$r(l,6)^$r(l,11)^$r(l,25),U=T+D+iA(l,c,d)+sA[I]+$n[I]|0,ee=($r(i,2)^$r(i,13)^$r(i,22))+oA(i,s,a)|0;T=d,d=c,c=l,l=u+U|0,u=a,a=s,s=i,i=U+ee|0}i=i+this.A|0,s=s+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,c=c+this.F|0,d=d+this.G|0,T=T+this.H|0,this.set(i,s,a,u,l,c,d,T)}roundClean(){$n.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},aA=class extends Yy{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const fA=Zy(()=>new Yy),uA=Zy(()=>new aA),lA=Object.freeze(Object.defineProperty({__proto__:null,sha224:uA,sha256:fA},Symbol.toStringTag,{value:"Module"}));var cA={exports:{}},Jy={exports:{}},bt={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array},Xy={exports:{}};(function(t){const e=Kn,r=Object.getPrototypeOf(async function(){}).constructor,i=globalThis.Blob||e.Blob,s=typeof i<"u"?function(l){return l instanceof i}:function(l){return!1};class a extends Error{constructor(l){if(!Array.isArray(l))throw new TypeError(`Expected input to be an Array, got ${typeof l}`);let c="";for(let d=0;d<l.length;d++)c+=`    ${l[d].stack}
`;super(c),this.name="AggregateError",this.errors=l}}t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(u){let l=!1;return function(...c){l||(l=!0,u.apply(this,c))}},createDeferredPromise:function(){let u,l;return{promise:new Promise((d,T)=>{u=d,l=T}),resolve:u,reject:l}},promisify(u){return new Promise((l,c)=>{u((d,...T)=>d?c(d):l(...T))})},debuglog(){return function(){}},format(u,...l){return u.replace(/%([sdifj])/g,function(...[c,d]){const T=l.shift();return d==="f"?T.toFixed(6):d==="j"?JSON.stringify(T):d==="s"&&typeof T=="object"?`${T.constructor!==Object?T.constructor.name:""} {}`.trim():T.toString()})},inspect(u){switch(typeof u){case"string":if(u.includes("'"))if(u.includes('"')){if(!u.includes("`")&&!u.includes("${"))return`\`${u}\``}else return`"${u}"`;return`'${u}'`;case"number":return isNaN(u)?"NaN":Object.is(u,-0)?String(u):u;case"bigint":return`${String(u)}n`;case"boolean":case"undefined":return String(u);case"object":return"{}"}},types:{isAsyncFunction(u){return u instanceof r},isArrayBufferView(u){return ArrayBuffer.isView(u)}},isBlob:s},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(Xy);var mn=Xy.exports,xc={},Mo={exports:{}},Jg;function Nc(){if(Jg)return Mo.exports;Jg=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Mo.exports=t,Mo.exports.AbortSignal=e,Mo.exports.default=t,Mo.exports}const{format:hA,inspect:Ta,AggregateError:dA}=mn,gA=globalThis.AggregateError||dA,pA=Symbol("kIsNodeError"),yA=["string","function","number","object","Function","Object","boolean","bigint","symbol"],_A=/^([A-Z][a-z0-9]*)+$/,wA="__node_internal_",Va={};function yi(t,e){if(!t)throw new Va.ERR_INTERNAL_ASSERTION(e)}function Xg(t){let e="",r=t.length;const i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function bA(t,e,r){if(typeof e=="function")return yi(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);const i=(e.match(/%[dfijoOs]/g)||[]).length;return yi(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:hA(e,...r)}function Nt(t,e,r){r||(r=Error);class i extends r{constructor(...a){super(bA(t,e,a))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[pA]=!0,Va[t]=i}function Qg(t){const e=wA+t.name;return Object.defineProperty(t,"name",{value:e}),t}function mA(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new gA([e,t],e.message);return r.code=e.code,r}return t||e}let vA=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Va.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Nt("ERR_ASSERTION","%s",Error);Nt("ERR_INVALID_ARG_TYPE",(t,e,r)=>{yi(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";const s=[],a=[],u=[];for(const c of e)yi(typeof c=="string","All expected entries have to be of type string"),yA.includes(c)?s.push(c.toLowerCase()):_A.test(c)?a.push(c):(yi(c!=="object",'The value "object" should be written as "Object"'),u.push(c));if(a.length>0){const c=s.indexOf("object");c!==-1&&(s.splice(s,c,1),a.push("Object"))}if(s.length>0){switch(s.length){case 1:i+=`of type ${s[0]}`;break;case 2:i+=`one of type ${s[0]} or ${s[1]}`;break;default:{const c=s.pop();i+=`one of type ${s.join(", ")}, or ${c}`}}(a.length>0||u.length>0)&&(i+=" or ")}if(a.length>0){switch(a.length){case 1:i+=`an instance of ${a[0]}`;break;case 2:i+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const c=a.pop();i+=`an instance of ${a.join(", ")}, or ${c}`}}u.length>0&&(i+=" or ")}switch(u.length){case 0:break;case 1:u[0].toLowerCase()!==u[0]&&(i+="an "),i+=`${u[0]}`;break;case 2:i+=`one of ${u[0]} or ${u[1]}`;break;default:{const c=u.pop();i+=`one of ${u.join(", ")}, or ${c}`}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)i+=`. Received an instance of ${r.constructor.name}`;else{const c=Ta(r,{depth:-1});i+=`. Received ${c}`}}else{let c=Ta(r,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),i+=`. Received type ${typeof r} (${c})`}return i},TypeError);Nt("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=Ta(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);Nt("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;const s=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${s}.`},TypeError);Nt("ERR_MISSING_ARGS",(...t)=>{yi(t.length>0,"At least one arg needs to be specified");let e;const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`}break}return`${e} must be specified`},TypeError);Nt("ERR_OUT_OF_RANGE",(t,e,r)=>{yi(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Xg(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=Xg(i)),i+="n"):i=Ta(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);Nt("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Nt("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Nt("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Nt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Nt("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Nt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Nt("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Nt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Nt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Nt("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Nt("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Zt={AbortError:vA,aggregateTwoErrors:Qg(mA),hideStackFrames:Qg,codes:Va};const{ArrayIsArray:Oc,ArrayPrototypeIncludes:Qy,ArrayPrototypeJoin:e0,ArrayPrototypeMap:EA,NumberIsInteger:Ic,NumberIsNaN:SA,NumberMAX_SAFE_INTEGER:TA,NumberMIN_SAFE_INTEGER:AA,NumberParseInt:BA,ObjectPrototypeHasOwnProperty:xA,RegExpPrototypeExec:t0,String:NA,StringPrototypeToUpperCase:OA,StringPrototypeTrim:IA}=bt,{hideStackFrames:br,codes:{ERR_SOCKET_BAD_PORT:CA,ERR_INVALID_ARG_TYPE:zt,ERR_INVALID_ARG_VALUE:uo,ERR_OUT_OF_RANGE:_i,ERR_UNKNOWN_SIGNAL:ep}}=Zt,{normalizeEncoding:RA}=mn,{isAsyncFunction:PA,isArrayBufferView:LA}=mn.types,tp={};function $A(t){return t===(t|0)}function DA(t){return t===t>>>0}const MA=/^[0-7]+$/,UA="must be a 32-bit unsigned integer or an octal string";function kA(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(t0(MA,t)===null)throw new uo(e,t,UA);t=BA(t,8)}return r0(t,e),t}const zA=br((t,e,r=AA,i=TA)=>{if(typeof t!="number")throw new zt(e,"number",t);if(!Ic(t))throw new _i(e,"an integer",t);if(t<r||t>i)throw new _i(e,`>= ${r} && <= ${i}`,t)}),VA=br((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new zt(e,"number",t);if(!Ic(t))throw new _i(e,"an integer",t);if(t<r||t>i)throw new _i(e,`>= ${r} && <= ${i}`,t)}),r0=br((t,e,r=!1)=>{if(typeof t!="number")throw new zt(e,"number",t);if(!Ic(t))throw new _i(e,"an integer",t);const i=r?1:0,s=4294967295;if(t<i||t>s)throw new _i(e,`>= ${i} && <= ${s}`,t)});function Cc(t,e){if(typeof t!="string")throw new zt(e,"string",t)}function FA(t,e,r=void 0,i){if(typeof t!="number")throw new zt(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&SA(t))throw new _i(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}const HA=br((t,e,r)=>{if(!Qy(r,t)){const s="must be one of: "+e0(EA(r,a=>typeof a=="string"?`'${a}'`:NA(a)),", ");throw new uo(e,t,s)}});function n0(t,e){if(typeof t!="boolean")throw new zt(e,"boolean",t)}function Ju(t,e,r){return t==null||!xA(t,e)?r:t[e]}const WA=br((t,e,r=null)=>{const i=Ju(r,"allowArray",!1),s=Ju(r,"allowFunction",!1);if(!Ju(r,"nullable",!1)&&t===null||!i&&Oc(t)||typeof t!="object"&&(!s||typeof t!="function"))throw new zt(e,"Object",t)}),jA=br((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new zt(e,"a dictionary",t)}),Rc=br((t,e,r=0)=>{if(!Oc(t))throw new zt(e,"Array",t);if(t.length<r){const i=`must be longer than ${r}`;throw new uo(e,t,i)}});function qA(t,e){Rc(t,e);for(let r=0;r<t.length;r++)Cc(t[r],`${e}[${r}]`)}function GA(t,e){Rc(t,e);for(let r=0;r<t.length;r++)n0(t[r],`${e}[${r}]`)}function KA(t,e="signal"){if(Cc(t,e),tp[t]===void 0)throw tp[OA(t)]!==void 0?new ep(t+" (signals must use all capital letters)"):new ep(t)}const ZA=br((t,e="buffer")=>{if(!LA(t))throw new zt(e,["Buffer","TypedArray","DataView"],t)});function YA(t,e){const r=RA(e),i=t.length;if(r==="hex"&&i%2!==0)throw new uo("encoding",e,`is invalid for data of length ${i}`)}function JA(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&IA(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new CA(e,t,r);return t|0}const XA=br((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new zt(e,"AbortSignal",t)}),QA=br((t,e)=>{if(typeof t!="function")throw new zt(e,"Function",t)}),eB=br((t,e)=>{if(typeof t!="function"||PA(t))throw new zt(e,"Function",t)}),tB=br((t,e)=>{if(t!==void 0)throw new zt(e,"undefined",t)});function rB(t,e,r){if(!Qy(r,t))throw new zt(e,`('${e0(r,"|")}')`,t)}const nB=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function rp(t,e){if(typeof t>"u"||!t0(nB,t))throw new uo(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function iB(t){if(typeof t=="string")return rp(t,"hints"),t;if(Oc(t)){const e=t.length;let r="";if(e===0)return r;for(let i=0;i<e;i++){const s=t[i];rp(s,"hints"),r+=s,i!==e-1&&(r+=", ")}return r}throw new uo("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Fa={isInt32:$A,isUint32:DA,parseFileMode:kA,validateArray:Rc,validateStringArray:qA,validateBooleanArray:GA,validateBoolean:n0,validateBuffer:ZA,validateDictionary:jA,validateEncoding:YA,validateFunction:QA,validateInt32:VA,validateInteger:zA,validateNumber:FA,validateObject:WA,validateOneOf:HA,validatePlainFunction:eB,validatePort:JA,validateSignalName:KA,validateString:Cc,validateUint32:r0,validateUndefined:tB,validateUnion:rB,validateAbortSignal:XA,validateLinkHeaderValue:iB},Pc={exports:{}},i0={exports:{}},pt=i0.exports={},zr,Vr;function Yl(){throw new Error("setTimeout has not been defined")}function Jl(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?zr=setTimeout:zr=Yl}catch{zr=Yl}try{typeof clearTimeout=="function"?Vr=clearTimeout:Vr=Jl}catch{Vr=Jl}})();function o0(t){if(zr===setTimeout)return setTimeout(t,0);if((zr===Yl||!zr)&&setTimeout)return zr=setTimeout,setTimeout(t,0);try{return zr(t,0)}catch{try{return zr.call(null,t,0)}catch{return zr.call(this,t,0)}}}function oB(t){if(Vr===clearTimeout)return clearTimeout(t);if((Vr===Jl||!Vr)&&clearTimeout)return Vr=clearTimeout,clearTimeout(t);try{return Vr(t)}catch{try{return Vr.call(null,t)}catch{return Vr.call(this,t)}}}var dn=[],Xi=!1,pi,wa=-1;function sB(){!Xi||!pi||(Xi=!1,pi.length?dn=pi.concat(dn):wa=-1,dn.length&&s0())}function s0(){if(!Xi){var t=o0(sB);Xi=!0;for(var e=dn.length;e;){for(pi=dn,dn=[];++wa<e;)pi&&pi[wa].run();wa=-1,e=dn.length}pi=null,Xi=!1,oB(t)}}pt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];dn.push(new a0(t,e)),dn.length===1&&!Xi&&o0(s0)};function a0(t,e){this.fun=t,this.array=e}a0.prototype.run=function(){this.fun.apply(null,this.array)};pt.title="browser";pt.browser=!0;pt.env={};pt.argv=[];pt.version="";pt.versions={};function vn(){}pt.on=vn;pt.addListener=vn;pt.once=vn;pt.off=vn;pt.removeListener=vn;pt.removeAllListeners=vn;pt.emit=vn;pt.prependListener=vn;pt.prependOnceListener=vn;pt.listeners=function(t){return[]};pt.binding=function(t){throw new Error("process.binding is not supported")};pt.cwd=function(){return"/"};pt.chdir=function(t){throw new Error("process.chdir is not supported")};pt.umask=function(){return 0};var Ei=i0.exports;const{Symbol:Ha,SymbolAsyncIterator:np,SymbolIterator:ip,SymbolFor:f0}=bt,u0=Ha("kDestroyed"),l0=Ha("kIsErrored"),Xl=Ha("kIsReadable"),c0=Ha("kIsDisturbed"),aB=f0("nodejs.webstream.isClosedPromise"),fB=f0("nodejs.webstream.controllerErrorFunction");function Wa(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function ja(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function uB(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Kr(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function h0(t){return!!(t&&!Kr(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function d0(t){return!!(t&&!Kr(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function g0(t){return!!(t&&!Kr(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function lB(t){return h0(t)||d0(t)||g0(t)}function cB(t,e){return t==null?!1:e===!0?typeof t[np]=="function":e===!1?typeof t[ip]=="function":typeof t[np]=="function"||typeof t[ip]=="function"}function qa(t){if(!Kr(t))return null;const e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[u0]||i!=null&&i.destroyed)}function p0(t){if(!ja(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function hB(t,e){if(!ja(t))return null;if(t.writableFinished===!0)return!0;const r=t._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function dB(t){if(!Wa(t))return null;if(t.readableEnded===!0)return!0;const e=t._readableState;return!e||e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function y0(t,e){if(!Wa(t))return null;const r=t._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function _0(t){return t&&t[Xl]!=null?t[Xl]:typeof(t==null?void 0:t.readable)!="boolean"?null:qa(t)?!1:Wa(t)&&t.readable&&!y0(t)}function w0(t){return typeof(t==null?void 0:t.writable)!="boolean"?null:qa(t)?!1:ja(t)&&t.writable&&!p0(t)}function gB(t,e){return Kr(t)?qa(t)?!0:!((e==null?void 0:e.readable)!==!1&&_0(t)||(e==null?void 0:e.writable)!==!1&&w0(t)):null}function pB(t){var e,r;return Kr(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function yB(t){var e,r;return Kr(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function _B(t){if(!Kr(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,r=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(e==null?void 0:e.closed)||(r==null?void 0:r.closed):typeof t._closed=="boolean"&&b0(t)?t._closed:null}function b0(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function m0(t){return typeof t._sent100=="boolean"&&b0(t)}function wB(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function bB(t){if(!Kr(t))return null;const e=t._writableState,r=t._readableState,i=e||r;return!i&&m0(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function mB(t){var e;return!!(t&&((e=t[c0])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function vB(t){var e,r,i,s,a,u,l,c,d,T;return!!(t&&((e=(r=(i=(s=(a=(u=t[l0])!==null&&u!==void 0?u:t.readableErrored)!==null&&a!==void 0?a:t.writableErrored)!==null&&s!==void 0?s:(l=t._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&i!==void 0?i:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(d=t._readableState)===null||d===void 0?void 0:d.errored)!==null&&e!==void 0?e:!((T=t._writableState)===null||T===void 0)&&T.errored))}var En={kDestroyed:u0,isDisturbed:mB,kIsDisturbed:c0,isErrored:vB,kIsErrored:l0,isReadable:_0,kIsReadable:Xl,kIsClosedPromise:aB,kControllerErrorFunction:fB,isClosed:_B,isDestroyed:qa,isDuplexNodeStream:uB,isFinished:gB,isIterable:cB,isReadableNodeStream:Wa,isReadableStream:h0,isReadableEnded:dB,isReadableFinished:y0,isReadableErrored:yB,isNodeStream:Kr,isWebStream:lB,isWritable:w0,isWritableNodeStream:ja,isWritableStream:d0,isWritableEnded:p0,isWritableFinished:hB,isWritableErrored:pB,isServerRequest:wB,isServerResponse:m0,willEmitClose:bB,isTransformStream:g0};const zn=Ei,{AbortError:v0,codes:EB}=Zt,{ERR_INVALID_ARG_TYPE:SB,ERR_STREAM_PREMATURE_CLOSE:op}=EB,{kEmptyObject:Ql,once:ec}=mn,{validateAbortSignal:TB,validateFunction:AB,validateObject:BB,validateBoolean:xB}=Fa,{Promise:NB,PromisePrototypeThen:OB}=bt,{isClosed:IB,isReadable:sp,isReadableNodeStream:Xu,isReadableStream:CB,isReadableFinished:ap,isReadableErrored:fp,isWritable:up,isWritableNodeStream:lp,isWritableStream:RB,isWritableFinished:cp,isWritableErrored:hp,isNodeStream:PB,willEmitClose:LB,kIsClosedPromise:$B}=En;function DB(t){return t.setHeader&&typeof t.abort=="function"}const tc=()=>{};function E0(t,e,r){var i,s;if(arguments.length===2?(r=e,e=Ql):e==null?e=Ql:BB(e,"options"),AB(r,"callback"),TB(e.signal,"options.signal"),r=ec(r),CB(t)||RB(t))return MB(t,e,r);if(!PB(t))throw new SB("stream",["ReadableStream","WritableStream","Stream"],t);const a=(i=e.readable)!==null&&i!==void 0?i:Xu(t),u=(s=e.writable)!==null&&s!==void 0?s:lp(t),l=t._writableState,c=t._readableState,d=()=>{t.writable||D()};let T=LB(t)&&Xu(t)===a&&lp(t)===u,I=cp(t,!1);const D=()=>{I=!0,t.destroyed&&(T=!1),!(T&&(!t.readable||a))&&(!a||U)&&r.call(t)};let U=ap(t,!1);const H=()=>{U=!0,t.destroyed&&(T=!1),!(T&&(!t.writable||u))&&(!u||I)&&r.call(t)},ee=V=>{r.call(t,V)};let X=IB(t);const J=()=>{X=!0;const V=hp(t)||fp(t);if(V&&typeof V!="boolean")return r.call(t,V);if(a&&!U&&Xu(t,!0)&&!ap(t,!1))return r.call(t,new op);if(u&&!I&&!cp(t,!1))return r.call(t,new op);r.call(t)},S=()=>{X=!0;const V=hp(t)||fp(t);if(V&&typeof V!="boolean")return r.call(t,V);r.call(t)},F=()=>{t.req.on("finish",D)};DB(t)?(t.on("complete",D),T||t.on("abort",J),t.req?F():t.on("request",F)):u&&!l&&(t.on("end",d),t.on("close",d)),!T&&typeof t.aborted=="boolean"&&t.on("aborted",J),t.on("end",H),t.on("finish",D),e.error!==!1&&t.on("error",ee),t.on("close",J),X?zn.nextTick(J):l!=null&&l.errorEmitted||c!=null&&c.errorEmitted?T||zn.nextTick(S):(!a&&(!T||sp(t))&&(I||up(t)===!1)||!u&&(!T||up(t))&&(U||sp(t)===!1)||c&&t.req&&t.aborted)&&zn.nextTick(S);const w=()=>{r=tc,t.removeListener("aborted",J),t.removeListener("complete",D),t.removeListener("abort",J),t.removeListener("request",F),t.req&&t.req.removeListener("finish",D),t.removeListener("end",d),t.removeListener("close",d),t.removeListener("finish",D),t.removeListener("end",H),t.removeListener("error",ee),t.removeListener("close",J)};if(e.signal&&!X){const V=()=>{const q=r;w(),q.call(t,new v0(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)zn.nextTick(V);else{const q=r;r=ec((...Z)=>{e.signal.removeEventListener("abort",V),q.apply(t,Z)}),e.signal.addEventListener("abort",V)}}return w}function MB(t,e,r){let i=!1,s=tc;if(e.signal)if(s=()=>{i=!0,r.call(t,new v0(void 0,{cause:e.signal.reason}))},e.signal.aborted)zn.nextTick(s);else{const u=r;r=ec((...l)=>{e.signal.removeEventListener("abort",s),u.apply(t,l)}),e.signal.addEventListener("abort",s)}const a=(...u)=>{i||zn.nextTick(()=>r.apply(t,u))};return OB(t[$B].promise,a,a),tc}function UB(t,e){var r;let i=!1;return e===null&&(e=Ql),(r=e)!==null&&r!==void 0&&r.cleanup&&(xB(e.cleanup,"cleanup"),i=e.cleanup),new NB((s,a)=>{const u=E0(t,e,l=>{i&&u(),l?a(l):s()})})}Pc.exports=E0;Pc.exports.finished=UB;var Zn=Pc.exports;const qr=Ei,{aggregateTwoErrors:kB,codes:{ERR_MULTIPLE_CALLBACK:zB},AbortError:VB}=Zt,{Symbol:S0}=bt,{kDestroyed:FB,isDestroyed:HB,isFinished:WB,isServerRequest:jB}=En,T0=S0("kDestroy"),rc=S0("kConstruct");function A0(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function qB(t,e){const r=this._readableState,i=this._writableState,s=i||r;return i!=null&&i.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(A0(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),s.constructed?dp(this,t,e):this.once(T0,function(a){dp(this,kB(a,t),e)}),this)}function dp(t,e,r){let i=!1;function s(a){if(i)return;i=!0;const u=t._readableState,l=t._writableState;A0(a,l,u),l&&(l.closed=!0),u&&(u.closed=!0),typeof r=="function"&&r(a),a?qr.nextTick(GB,t,a):qr.nextTick(B0,t)}try{t._destroy(e||null,s)}catch(a){s(a)}}function GB(t,e){nc(t,e),B0(t)}function B0(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function nc(t,e){const r=t._readableState,i=t._writableState;i!=null&&i.errorEmitted||r!=null&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function KB(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function ic(t,e,r){const i=t._readableState,s=t._writableState;if(s!=null&&s.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||s!=null&&s.autoDestroy?t.destroy(e):e&&(e.stack,s&&!s.errored&&(s.errored=e),i&&!i.errored&&(i.errored=e),r?qr.nextTick(nc,t,e):nc(t,e))}function ZB(t,e){if(typeof t._construct!="function")return;const r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(rc,e),!(t.listenerCount(rc)>1)&&qr.nextTick(YB,t)}function YB(t){let e=!1;function r(i){if(e){ic(t,i??new zB);return}e=!0;const s=t._readableState,a=t._writableState,u=a||s;s&&(s.constructed=!0),a&&(a.constructed=!0),u.destroyed?t.emit(T0,i):i?ic(t,i,!0):qr.nextTick(JB,t)}try{t._construct(i=>{qr.nextTick(r,i)})}catch(i){qr.nextTick(r,i)}}function JB(t){t.emit(rc)}function gp(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function x0(t){t.emit("close")}function XB(t,e){t.emit("error",e),qr.nextTick(x0,t)}function QB(t,e){!t||HB(t)||(!e&&!WB(t)&&(e=new VB),jB(t)?(t.socket=null,t.destroy(e)):gp(t)?t.abort():gp(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?qr.nextTick(XB,t,e):qr.nextTick(x0,t),t.destroyed||(t[FB]=!0))}var lo={construct:ZB,destroyer:QB,destroy:qB,undestroy:KB,errorOrDestroy:ic};const{ArrayIsArray:e2,ObjectSetPrototypeOf:N0}=bt,{EventEmitter:Ga}=za();function Ka(t){Ga.call(this,t)}N0(Ka.prototype,Ga.prototype);N0(Ka,Ga);Ka.prototype.pipe=function(t,e){const r=this;function i(T){t.writable&&t.write(T)===!1&&r.pause&&r.pause()}r.on("data",i);function s(){r.readable&&r.resume&&r.resume()}t.on("drain",s),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",u),r.on("close",l));let a=!1;function u(){a||(a=!0,t.end())}function l(){a||(a=!0,typeof t.destroy=="function"&&t.destroy())}function c(T){d(),Ga.listenerCount(this,"error")===0&&this.emit("error",T)}oc(r,"error",c),oc(t,"error",c);function d(){r.removeListener("data",i),t.removeListener("drain",s),r.removeListener("end",u),r.removeListener("close",l),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d)}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t};function oc(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):e2(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}var Lc={Stream:Ka,prependListener:oc},O0={exports:{}};(function(t){const{AbortError:e,codes:r}=Zt,{isNodeStream:i,isWebStream:s,kControllerErrorFunction:a}=En,u=Zn,{ERR_INVALID_ARG_TYPE:l}=r,c=(d,T)=>{if(typeof d!="object"||!("aborted"in d))throw new l(T,"AbortSignal",d)};t.exports.addAbortSignal=function(T,I){if(c(T,"signal"),!i(I)&&!s(I))throw new l("stream",["ReadableStream","WritableStream","Stream"],I);return t.exports.addAbortSignalNoValidate(T,I)},t.exports.addAbortSignalNoValidate=function(d,T){if(typeof d!="object"||!("aborted"in d))return T;const I=i(T)?()=>{T.destroy(new e(void 0,{cause:d.reason}))}:()=>{T[a](new e(void 0,{cause:d.reason}))};return d.aborted?I():(d.addEventListener("abort",I),u(T,()=>d.removeEventListener("abort",I))),T}})(O0);var Za=O0.exports;const{StringPrototypeSlice:pp,SymbolIterator:t2,TypedArrayPrototypeSet:ia,Uint8Array:r2}=bt,{Buffer:Qu}=Kn,{inspect:n2}=mn;var i2=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){const r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return Qu.alloc(0);const r=Qu.allocUnsafe(e>>>0);let i=this.head,s=0;for(;i;)ia(r,i.data,s),s+=i.data.length,i=i.next;return r}consume(e,r){const i=this.head.data;if(e<i.length){const s=i.slice(0,e);return this.head.data=i.slice(e),s}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[t2](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",i=this.head,s=0;do{const a=i.data;if(e>a.length)r+=a,e-=a.length;else{e===a.length?(r+=a,++s,i.next?this.head=i.next:this.head=this.tail=null):(r+=pp(a,0,e),this.head=i,i.data=pp(a,e));break}++s}while((i=i.next)!==null);return this.length-=s,r}_getBuffer(e){const r=Qu.allocUnsafe(e),i=e;let s=this.head,a=0;do{const u=s.data;if(e>u.length)ia(r,u,i-e),e-=u.length;else{e===u.length?(ia(r,u,i-e),++a,s.next?this.head=s.next:this.head=this.tail=null):(ia(r,new r2(u.buffer,u.byteOffset,e),i-e),this.head=s,s.data=u.slice(e));break}++a}while((s=s.next)!==null);return this.length-=a,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return n2(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:o2,NumberIsInteger:s2}=bt,{ERR_INVALID_ARG_VALUE:a2}=Zt.codes;function f2(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function I0(t){return t?16:16*1024}function u2(t,e,r,i){const s=f2(e,i,r);if(s!=null){if(!s2(s)||s<0){const a=i?`options.${r}`:"options.highWaterMark";throw new a2(a,s)}return o2(s)}return I0(t.objectMode)}var $c={getHighWaterMark:u2,getDefaultHighWaterMark:I0};const yp=Ei,{PromisePrototypeThen:l2,SymbolAsyncIterator:_p,SymbolIterator:wp}=bt,{Buffer:c2}=Kn,{ERR_INVALID_ARG_TYPE:h2,ERR_STREAM_NULL_VALUES:d2}=Zt.codes;function g2(t,e,r){let i;if(typeof e=="string"||e instanceof c2)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let s;if(e&&e[_p])s=!0,i=e[_p]();else if(e&&e[wp])s=!1,i=e[wp]();else throw new h2("iterable",["Iterable"],e);const a=new t({objectMode:!0,highWaterMark:1,...r});let u=!1;a._read=function(){u||(u=!0,c())},a._destroy=function(d,T){l2(l(d),()=>yp.nextTick(T,d),I=>yp.nextTick(T,I||d))};async function l(d){const T=d!=null,I=typeof i.throw=="function";if(T&&I){const{value:D,done:U}=await i.throw(d);if(await D,U)return}if(typeof i.return=="function"){const{value:D}=await i.return();await D}}async function c(){for(;;){try{const{value:d,done:T}=s?await i.next():i.next();if(T)a.push(null);else{const I=d&&typeof d.then=="function"?await d:d;if(I===null)throw u=!1,new d2;if(a.push(I))continue;u=!1}}catch(d){a.destroy(d)}break}}return a}var C0=g2,el,bp;function Ya(){if(bp)return el;bp=1;const t=Ei,{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:i,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:u,ObjectSetPrototypeOf:l,Promise:c,SafeSet:d,SymbolAsyncIterator:T,Symbol:I}=bt;el=x,x.ReadableState=L;const{EventEmitter:D}=za(),{Stream:U,prependListener:H}=Lc,{Buffer:ee}=Kn,{addAbortSignal:X}=Za,J=Zn;let S=mn.debuglog("stream",P=>{S=P});const F=i2,w=lo,{getHighWaterMark:V,getDefaultHighWaterMark:q}=$c,{aggregateTwoErrors:Z,codes:{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_OUT_OF_RANGE:p,ERR_STREAM_PUSH_AFTER_EOF:O,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:g}}=Zt,{validateObject:E}=Fa,b=I("kPaused"),{StringDecoder:m}=kT,N=C0;l(x.prototype,U.prototype),l(x,U);const C=()=>{},{errorOrDestroy:R}=w;function L(P,k,ce){typeof ce!="boolean"&&(ce=k instanceof _n()),this.objectMode=!!(P&&P.objectMode),ce&&(this.objectMode=this.objectMode||!!(P&&P.readableObjectMode)),this.highWaterMark=P?V(this,P,"readableHighWaterMark",ce):q(!1),this.buffer=new F,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[b]=null,this.errorEmitted=!1,this.emitClose=!P||P.emitClose!==!1,this.autoDestroy=!P||P.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=P&&P.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,P&&P.encoding&&(this.decoder=new m(P.encoding),this.encoding=P.encoding)}function x(P){if(!(this instanceof x))return new x(P);const k=this instanceof _n();this._readableState=new L(P,this,k),P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.construct=="function"&&(this._construct=P.construct),P.signal&&!k&&X(P.signal,this)),U.call(this,P),w.construct(this,()=>{this._readableState.needReadable&&ge(this,this._readableState)})}x.prototype.destroy=w.destroy,x.prototype._undestroy=w.undestroy,x.prototype._destroy=function(P,k){k(P)},x.prototype[D.captureRejectionSymbol]=function(P){this.destroy(P)},x.prototype.push=function(P,k){return j(this,P,k,!1)},x.prototype.unshift=function(P,k){return j(this,P,k,!0)};function j(P,k,ce,he){S("readableAddChunk",k);const _e=P._readableState;let Ze;if(_e.objectMode||(typeof k=="string"?(ce=ce||_e.defaultEncoding,_e.encoding!==ce&&(he&&_e.encoding?k=ee.from(k,ce).toString(_e.encoding):(k=ee.from(k,ce),ce=""))):k instanceof ee?ce="":U._isUint8Array(k)?(k=U._uint8ArrayToBuffer(k),ce=""):k!=null&&(Ze=new y("chunk",["string","Buffer","Uint8Array"],k))),Ze)R(P,Ze);else if(k===null)_e.reading=!1,fe(P,_e);else if(_e.objectMode||k&&k.length>0)if(he)if(_e.endEmitted)R(P,new g);else{if(_e.destroyed||_e.errored)return!1;te(P,_e,k,!0)}else if(_e.ended)R(P,new O);else{if(_e.destroyed||_e.errored)return!1;_e.reading=!1,_e.decoder&&!ce?(k=_e.decoder.write(k),_e.objectMode||k.length!==0?te(P,_e,k,!1):ge(P,_e)):te(P,_e,k,!1)}else he||(_e.reading=!1,ge(P,_e));return!_e.ended&&(_e.length<_e.highWaterMark||_e.length===0)}function te(P,k,ce,he){k.flowing&&k.length===0&&!k.sync&&P.listenerCount("data")>0?(k.multiAwaitDrain?k.awaitDrainWriters.clear():k.awaitDrainWriters=null,k.dataEmitted=!0,P.emit("data",ce)):(k.length+=k.objectMode?1:ce.length,he?k.buffer.unshift(ce):k.buffer.push(ce),k.needReadable&&be(P)),ge(P,k)}x.prototype.isPaused=function(){const P=this._readableState;return P[b]===!0||P.flowing===!1},x.prototype.setEncoding=function(P){const k=new m(P);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;const ce=this._readableState.buffer;let he="";for(const _e of ce)he+=k.write(_e);return ce.clear(),he!==""&&ce.push(he),this._readableState.length=he.length,this};const ie=1073741824;function oe(P){if(P>ie)throw new p("size","<= 1GiB",P);return P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++,P}function re(P,k){return P<=0||k.length===0&&k.ended?0:k.objectMode?1:i(P)?k.flowing&&k.length?k.buffer.first().length:k.length:P<=k.length?P:k.ended?k.length:0}x.prototype.read=function(P){S("read",P),P===void 0?P=NaN:r(P)||(P=s(P,10));const k=this._readableState,ce=P;if(P>k.highWaterMark&&(k.highWaterMark=oe(P)),P!==0&&(k.emittedReadable=!1),P===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return S("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?ze(this):be(this),null;if(P=re(P,k),P===0&&k.ended)return k.length===0&&ze(this),null;let he=k.needReadable;if(S("need readable",he),(k.length===0||k.length-P<k.highWaterMark)&&(he=!0,S("length less than watermark",he)),k.ended||k.reading||k.destroyed||k.errored||!k.constructed)he=!1,S("reading, ended or constructing",he);else if(he){S("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0);try{this._read(k.highWaterMark)}catch(Ze){R(this,Ze)}k.sync=!1,k.reading||(P=re(ce,k))}let _e;return P>0?_e=Ie(P,k):_e=null,_e===null?(k.needReadable=k.length<=k.highWaterMark,P=0):(k.length-=P,k.multiAwaitDrain?k.awaitDrainWriters.clear():k.awaitDrainWriters=null),k.length===0&&(k.ended||(k.needReadable=!0),ce!==P&&k.ended&&ze(this)),_e!==null&&!k.errorEmitted&&!k.closeEmitted&&(k.dataEmitted=!0,this.emit("data",_e)),_e};function fe(P,k){if(S("onEofChunk"),!k.ended){if(k.decoder){const ce=k.decoder.end();ce&&ce.length&&(k.buffer.push(ce),k.length+=k.objectMode?1:ce.length)}k.ended=!0,k.sync?be(P):(k.needReadable=!1,k.emittedReadable=!0,ye(P))}}function be(P){const k=P._readableState;S("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(S("emitReadable",k.flowing),k.emittedReadable=!0,t.nextTick(ye,P))}function ye(P){const k=P._readableState;S("emitReadable_",k.destroyed,k.length,k.ended),!k.destroyed&&!k.errored&&(k.length||k.ended)&&(P.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,de(P)}function ge(P,k){!k.readingMore&&k.constructed&&(k.readingMore=!0,t.nextTick(Re,P,k))}function Re(P,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){const ce=k.length;if(S("maybeReadMore read 0"),P.read(0),ce===k.length)break}k.readingMore=!1}x.prototype._read=function(P){throw new v("_read()")},x.prototype.pipe=function(P,k){const ce=this,he=this._readableState;he.pipes.length===1&&(he.multiAwaitDrain||(he.multiAwaitDrain=!0,he.awaitDrainWriters=new d(he.awaitDrainWriters?[he.awaitDrainWriters]:[]))),he.pipes.push(P),S("pipe count=%d opts=%j",he.pipes.length,k);const Ze=(!k||k.end!==!1)&&P!==t.stdout&&P!==t.stderr?Yt:Tn;he.endEmitted?t.nextTick(Ze):ce.once("end",Ze),P.on("unpipe",Ge);function Ge(Cr,mr){S("onunpipe"),Cr===ce&&mr&&mr.hasUnpiped===!1&&(mr.hasUnpiped=!0,wo())}function Yt(){S("onend"),P.end()}let Vt,Yr=!1;function wo(){S("cleanup"),P.removeListener("close",mo),P.removeListener("finish",vo),Vt&&P.removeListener("drain",Vt),P.removeListener("error",bo),P.removeListener("unpipe",Ge),ce.removeListener("end",Yt),ce.removeListener("end",Tn),ce.removeListener("data",xi),Yr=!0,Vt&&he.awaitDrainWriters&&(!P._writableState||P._writableState.needDrain)&&Vt()}function Bi(){Yr||(he.pipes.length===1&&he.pipes[0]===P?(S("false write response, pause",0),he.awaitDrainWriters=P,he.multiAwaitDrain=!1):he.pipes.length>1&&he.pipes.includes(P)&&(S("false write response, pause",he.awaitDrainWriters.size),he.awaitDrainWriters.add(P)),ce.pause()),Vt||(Vt=ve(ce,P),P.on("drain",Vt))}ce.on("data",xi);function xi(Cr){S("ondata");const mr=P.write(Cr);S("dest.write",mr),mr===!1&&Bi()}function bo(Cr){if(S("onerror",Cr),Tn(),P.removeListener("error",bo),P.listenerCount("error")===0){const mr=P._writableState||P._readableState;mr&&!mr.errorEmitted?R(P,Cr):P.emit("error",Cr)}}H(P,"error",bo);function mo(){P.removeListener("finish",vo),Tn()}P.once("close",mo);function vo(){S("onfinish"),P.removeListener("close",mo),Tn()}P.once("finish",vo);function Tn(){S("unpipe"),ce.unpipe(P)}return P.emit("pipe",ce),P.writableNeedDrain===!0?he.flowing&&Bi():he.flowing||(S("pipe resume"),ce.resume()),P};function ve(P,k){return function(){const he=P._readableState;he.awaitDrainWriters===k?(S("pipeOnDrain",1),he.awaitDrainWriters=null):he.multiAwaitDrain&&(S("pipeOnDrain",he.awaitDrainWriters.size),he.awaitDrainWriters.delete(k)),(!he.awaitDrainWriters||he.awaitDrainWriters.size===0)&&P.listenerCount("data")&&P.resume()}}x.prototype.unpipe=function(P){const k=this._readableState,ce={hasUnpiped:!1};if(k.pipes.length===0)return this;if(!P){const _e=k.pipes;k.pipes=[],this.pause();for(let Ze=0;Ze<_e.length;Ze++)_e[Ze].emit("unpipe",this,{hasUnpiped:!1});return this}const he=e(k.pipes,P);return he===-1?this:(k.pipes.splice(he,1),k.pipes.length===0&&this.pause(),P.emit("unpipe",this,ce),this)},x.prototype.on=function(P,k){const ce=U.prototype.on.call(this,P,k),he=this._readableState;return P==="data"?(he.readableListening=this.listenerCount("readable")>0,he.flowing!==!1&&this.resume()):P==="readable"&&!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.flowing=!1,he.emittedReadable=!1,S("on readable",he.length,he.reading),he.length?be(this):he.reading||t.nextTick($,this)),ce},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(P,k){const ce=U.prototype.removeListener.call(this,P,k);return P==="readable"&&t.nextTick(Ae,this),ce},x.prototype.off=x.prototype.removeListener,x.prototype.removeAllListeners=function(P){const k=U.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&t.nextTick(Ae,this),k};function Ae(P){const k=P._readableState;k.readableListening=P.listenerCount("readable")>0,k.resumeScheduled&&k[b]===!1?k.flowing=!0:P.listenerCount("data")>0?P.resume():k.readableListening||(k.flowing=null)}function $(P){S("readable nexttick read 0"),P.read(0)}x.prototype.resume=function(){const P=this._readableState;return P.flowing||(S("resume"),P.flowing=!P.readableListening,M(this,P)),P[b]=!1,this};function M(P,k){k.resumeScheduled||(k.resumeScheduled=!0,t.nextTick(Y,P,k))}function Y(P,k){S("resume",k.reading),k.reading||P.read(0),k.resumeScheduled=!1,P.emit("resume"),de(P),k.flowing&&!k.reading&&P.read(0)}x.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[b]=!0,this};function de(P){const k=P._readableState;for(S("flow",k.flowing);k.flowing&&P.read()!==null;);}x.prototype.wrap=function(P){let k=!1;P.on("data",he=>{!this.push(he)&&P.pause&&(k=!0,P.pause())}),P.on("end",()=>{this.push(null)}),P.on("error",he=>{R(this,he)}),P.on("close",()=>{this.destroy()}),P.on("destroy",()=>{this.destroy()}),this._read=()=>{k&&P.resume&&(k=!1,P.resume())};const ce=u(P);for(let he=1;he<ce.length;he++){const _e=ce[he];this[_e]===void 0&&typeof P[_e]=="function"&&(this[_e]=P[_e].bind(P))}return this},x.prototype[T]=function(){return le(this)},x.prototype.iterator=function(P){return P!==void 0&&E(P,"options"),le(this,P)};function le(P,k){typeof P.read!="function"&&(P=x.wrap(P,{objectMode:!0}));const ce=Be(P,k);return ce.stream=P,ce}async function*Be(P,k){let ce=C;function he(Ge){this===P?(ce(),ce=C):ce=Ge}P.on("readable",he);let _e;const Ze=J(P,{writable:!1},Ge=>{_e=Ge?Z(_e,Ge):null,ce(),ce=C});try{for(;;){const Ge=P.destroyed?null:P.read();if(Ge!==null)yield Ge;else{if(_e)throw _e;if(_e===null)return;await new c(he)}}}catch(Ge){throw _e=Z(_e,Ge),_e}finally{(_e||(k==null?void 0:k.destroyOnReturn)!==!1)&&(_e===void 0||P._readableState.autoDestroy)?w.destroyer(P,null):(P.off("readable",he),Ze())}}a(x.prototype,{readable:{__proto__:null,get(){const P=this._readableState;return!!P&&P.readable!==!1&&!P.destroyed&&!P.errorEmitted&&!P.endEmitted},set(P){this._readableState&&(this._readableState.readable=!!P)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(P){this._readableState&&(this._readableState.destroyed=P)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(L.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[b]!==!1},set(P){this[b]=!!P}}}),x._fromList=Ie;function Ie(P,k){if(k.length===0)return null;let ce;return k.objectMode?ce=k.buffer.shift():!P||P>=k.length?(k.decoder?ce=k.buffer.join(""):k.buffer.length===1?ce=k.buffer.first():ce=k.buffer.concat(k.length),k.buffer.clear()):ce=k.buffer.consume(P,k.decoder),ce}function ze(P){const k=P._readableState;S("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,t.nextTick(He,k,P))}function He(P,k){if(S("endReadableNT",P.endEmitted,P.length),!P.errored&&!P.closeEmitted&&!P.endEmitted&&P.length===0){if(P.endEmitted=!0,k.emit("end"),k.writable&&k.allowHalfOpen===!1)t.nextTick(yt,k);else if(P.autoDestroy){const ce=k._writableState;(!ce||ce.autoDestroy&&(ce.finished||ce.writable===!1))&&k.destroy()}}}function yt(P){P.writable&&!P.writableEnded&&!P.destroyed&&P.end()}x.from=function(P,k){return N(x,P,k)};let lt;function Ir(){return lt===void 0&&(lt={}),lt}return x.fromWeb=function(P,k){return Ir().newStreamReadableFromReadableStream(P,k)},x.toWeb=function(P,k){return Ir().newReadableStreamFromStreamReadable(P,k)},x.wrap=function(P,k){var ce,he;return new x({objectMode:(ce=(he=P.readableObjectMode)!==null&&he!==void 0?he:P.objectMode)!==null&&ce!==void 0?ce:!0,...k,destroy(_e,Ze){w.destroyer(P,_e),Ze(_e)}}).wrap(P)},el}var tl,mp;function R0(){if(mp)return tl;mp=1;const t=Ei,{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:l,Symbol:c,SymbolHasInstance:d}=bt;tl=m,m.WritableState=E;const{EventEmitter:T}=za(),I=Lc.Stream,{Buffer:D}=Kn,U=lo,{addAbortSignal:H}=Za,{getHighWaterMark:ee,getDefaultHighWaterMark:X}=$c,{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:F,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:V,ERR_STREAM_ALREADY_FINISHED:q,ERR_STREAM_NULL_VALUES:Z,ERR_STREAM_WRITE_AFTER_END:y,ERR_UNKNOWN_ENCODING:v}=Zt.codes,{errorOrDestroy:p}=U;u(m.prototype,I.prototype),u(m,I);function O(){}const g=c("kOnFinished");function E($,M,Y){typeof Y!="boolean"&&(Y=M instanceof _n()),this.objectMode=!!($&&$.objectMode),Y&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?ee(this,$,"writableHighWaterMark",Y):X(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const de=!!($&&$.decodeStrings===!1);this.decodeStrings=!de,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=x.bind(void 0,M),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,b(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[g]=[]}function b($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}E.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},s(E.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function m($){const M=this instanceof _n();if(!M&&!i(m,this))return new m($);this._writableState=new E($,this,M),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&H($.signal,this)),I.call(this,$),U.construct(this,()=>{const Y=this._writableState;Y.writing||oe(this,Y),ye(this,Y)})}s(m,d,{__proto__:null,value:function($){return i(this,$)?!0:this!==m?!1:$&&$._writableState instanceof E}}),m.prototype.pipe=function(){p(this,new w)};function N($,M,Y,de){const le=$._writableState;if(typeof Y=="function")de=Y,Y=le.defaultEncoding;else{if(!Y)Y=le.defaultEncoding;else if(Y!=="buffer"&&!D.isEncoding(Y))throw new v(Y);typeof de!="function"&&(de=O)}if(M===null)throw new Z;if(!le.objectMode)if(typeof M=="string")le.decodeStrings!==!1&&(M=D.from(M,Y),Y="buffer");else if(M instanceof D)Y="buffer";else if(I._isUint8Array(M))M=I._uint8ArrayToBuffer(M),Y="buffer";else throw new J("chunk",["string","Buffer","Uint8Array"],M);let Be;return le.ending?Be=new y:le.destroyed&&(Be=new V("write")),Be?(t.nextTick(de,Be),p($,Be,!0),Be):(le.pendingcb++,C($,le,M,Y,de))}m.prototype.write=function($,M,Y){return N(this,$,M,Y)===!0},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||oe(this,$))},m.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=l(M)),!D.isEncoding(M))throw new v(M);return this._writableState.defaultEncoding=M,this};function C($,M,Y,de,le){const Be=M.objectMode?1:Y.length;M.length+=Be;const Ie=M.length<M.highWaterMark;return Ie||(M.needDrain=!0),M.writing||M.corked||M.errored||!M.constructed?(M.buffered.push({chunk:Y,encoding:de,callback:le}),M.allBuffers&&de!=="buffer"&&(M.allBuffers=!1),M.allNoop&&le!==O&&(M.allNoop=!1)):(M.writelen=Be,M.writecb=le,M.writing=!0,M.sync=!0,$._write(Y,de,M.onwrite),M.sync=!1),Ie&&!M.errored&&!M.destroyed}function R($,M,Y,de,le,Be,Ie){M.writelen=de,M.writecb=Ie,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new V("write")):Y?$._writev(le,M.onwrite):$._write(le,Be,M.onwrite),M.sync=!1}function L($,M,Y,de){--M.pendingcb,de(Y),ie(M),p($,Y)}function x($,M){const Y=$._writableState,de=Y.sync,le=Y.writecb;if(typeof le!="function"){p($,new F);return}Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0,M?(M.stack,Y.errored||(Y.errored=M),$._readableState&&!$._readableState.errored&&($._readableState.errored=M),de?t.nextTick(L,$,Y,M,le):L($,Y,M,le)):(Y.buffered.length>Y.bufferedIndex&&oe($,Y),de?Y.afterWriteTickInfo!==null&&Y.afterWriteTickInfo.cb===le?Y.afterWriteTickInfo.count++:(Y.afterWriteTickInfo={count:1,cb:le,stream:$,state:Y},t.nextTick(j,Y.afterWriteTickInfo)):te($,Y,1,le))}function j({stream:$,state:M,count:Y,cb:de}){return M.afterWriteTickInfo=null,te($,M,Y,de)}function te($,M,Y,de){for(!M.ending&&!$.destroyed&&M.length===0&&M.needDrain&&(M.needDrain=!1,$.emit("drain"));Y-- >0;)M.pendingcb--,de();M.destroyed&&ie(M),ye($,M)}function ie($){if($.writing)return;for(let le=$.bufferedIndex;le<$.buffered.length;++le){var M;const{chunk:Be,callback:Ie}=$.buffered[le],ze=$.objectMode?1:Be.length;$.length-=ze,Ie((M=$.errored)!==null&&M!==void 0?M:new V("write"))}const Y=$[g].splice(0);for(let le=0;le<Y.length;le++){var de;Y[le]((de=$.errored)!==null&&de!==void 0?de:new V("end"))}b($)}function oe($,M){if(M.corked||M.bufferProcessing||M.destroyed||!M.constructed)return;const{buffered:Y,bufferedIndex:de,objectMode:le}=M,Be=Y.length-de;if(!Be)return;let Ie=de;if(M.bufferProcessing=!0,Be>1&&$._writev){M.pendingcb-=Be-1;const ze=M.allNoop?O:yt=>{for(let lt=Ie;lt<Y.length;++lt)Y[lt].callback(yt)},He=M.allNoop&&Ie===0?Y:e(Y,Ie);He.allBuffers=M.allBuffers,R($,M,!0,M.length,He,"",ze),b(M)}else{do{const{chunk:ze,encoding:He,callback:yt}=Y[Ie];Y[Ie++]=null;const lt=le?1:ze.length;R($,M,!1,lt,ze,He,yt)}while(Ie<Y.length&&!M.writing);Ie===Y.length?b(M):Ie>256?(Y.splice(0,Ie),M.bufferedIndex=0):M.bufferedIndex=Ie}M.bufferProcessing=!1}m.prototype._write=function($,M,Y){if(this._writev)this._writev([{chunk:$,encoding:M}],Y);else throw new S("_write()")},m.prototype._writev=null,m.prototype.end=function($,M,Y){const de=this._writableState;typeof $=="function"?(Y=$,$=null,M=null):typeof M=="function"&&(Y=M,M=null);let le;if($!=null){const Be=N(this,$,M);Be instanceof r&&(le=Be)}return de.corked&&(de.corked=1,this.uncork()),le||(!de.errored&&!de.ending?(de.ending=!0,ye(this,de,!0),de.ended=!0):de.finished?le=new q("end"):de.destroyed&&(le=new V("end"))),typeof Y=="function"&&(le||de.finished?t.nextTick(Y,le):de[g].push(Y)),this};function re($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function fe($,M){let Y=!1;function de(le){if(Y){p($,le??F());return}if(Y=!0,M.pendingcb--,le){const Be=M[g].splice(0);for(let Ie=0;Ie<Be.length;Ie++)Be[Ie](le);p($,le,M.sync)}else re(M)&&(M.prefinished=!0,$.emit("prefinish"),M.pendingcb++,t.nextTick(ge,$,M))}M.sync=!0,M.pendingcb++;try{$._final(de)}catch(le){de(le)}M.sync=!1}function be($,M){!M.prefinished&&!M.finalCalled&&(typeof $._final=="function"&&!M.destroyed?(M.finalCalled=!0,fe($,M)):(M.prefinished=!0,$.emit("prefinish")))}function ye($,M,Y){re(M)&&(be($,M),M.pendingcb===0&&(Y?(M.pendingcb++,t.nextTick((de,le)=>{re(le)?ge(de,le):le.pendingcb--},$,M)):re(M)&&(M.pendingcb++,ge($,M))))}function ge($,M){M.pendingcb--,M.finished=!0;const Y=M[g].splice(0);for(let de=0;de<Y.length;de++)Y[de]();if($.emit("finish"),M.autoDestroy){const de=$._readableState;(!de||de.autoDestroy&&(de.endEmitted||de.readable===!1))&&$.destroy()}}a(m.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Re=U.destroy;m.prototype.destroy=function($,M){const Y=this._writableState;return!Y.destroyed&&(Y.bufferedIndex<Y.buffered.length||Y[g].length)&&t.nextTick(ie,Y),Re.call(this,$,M),this},m.prototype._undestroy=U.undestroy,m.prototype._destroy=function($,M){M($)},m.prototype[T.captureRejectionSymbol]=function($){this.destroy($)};let ve;function Ae(){return ve===void 0&&(ve={}),ve}return m.fromWeb=function($,M){return Ae().newStreamWritableFromWritableStream($,M)},m.toWeb=function($){return Ae().newWritableStreamFromStreamWritable($)},tl}var rl,vp;function p2(){if(vp)return rl;vp=1;const t=Ei,e=Kn,{isReadable:r,isWritable:i,isIterable:s,isNodeStream:a,isReadableNodeStream:u,isWritableNodeStream:l,isDuplexNodeStream:c}=En,d=Zn,{AbortError:T,codes:{ERR_INVALID_ARG_TYPE:I,ERR_INVALID_RETURN_VALUE:D}}=Zt,{destroyer:U}=lo,H=_n(),ee=Ya(),{createDeferredPromise:X}=mn,J=C0,S=globalThis.Blob||e.Blob,F=typeof S<"u"?function(p){return p instanceof S}:function(p){return!1},w=globalThis.AbortController||Nc().AbortController,{FunctionPrototypeCall:V}=bt;class q extends H{constructor(p){super(p),(p==null?void 0:p.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(p==null?void 0:p.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}rl=function v(p,O){if(c(p))return p;if(u(p))return y({readable:p});if(l(p))return y({writable:p});if(a(p))return y({writable:!1,readable:!1});if(typeof p=="function"){const{value:E,write:b,final:m,destroy:N}=Z(p);if(s(E))return J(q,E,{objectMode:!0,write:b,final:m,destroy:N});const C=E==null?void 0:E.then;if(typeof C=="function"){let R;const L=V(C,E,x=>{if(x!=null)throw new D("nully","body",x)},x=>{U(R,x)});return R=new q({objectMode:!0,readable:!1,write:b,final(x){m(async()=>{try{await L,t.nextTick(x,null)}catch(j){t.nextTick(x,j)}})},destroy:N})}throw new D("Iterable, AsyncIterable or AsyncFunction",O,E)}if(F(p))return v(p.arrayBuffer());if(s(p))return J(q,p,{objectMode:!0,writable:!1});if(typeof(p==null?void 0:p.writable)=="object"||typeof(p==null?void 0:p.readable)=="object"){const E=p!=null&&p.readable?u(p==null?void 0:p.readable)?p==null?void 0:p.readable:v(p.readable):void 0,b=p!=null&&p.writable?l(p==null?void 0:p.writable)?p==null?void 0:p.writable:v(p.writable):void 0;return y({readable:E,writable:b})}const g=p==null?void 0:p.then;if(typeof g=="function"){let E;return V(g,p,b=>{b!=null&&E.push(b),E.push(null)},b=>{U(E,b)}),E=new q({objectMode:!0,writable:!1,read(){}})}throw new I(O,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],p)};function Z(v){let{promise:p,resolve:O}=X();const g=new w,E=g.signal;return{value:v(async function*(){for(;;){const m=p;p=null;const{chunk:N,done:C,cb:R}=await m;if(t.nextTick(R),C)return;if(E.aborted)throw new T(void 0,{cause:E.reason});({promise:p,resolve:O}=X()),yield N}}(),{signal:E}),write(m,N,C){const R=O;O=null,R({chunk:m,done:!1,cb:C})},final(m){const N=O;O=null,N({done:!0,cb:m})},destroy(m,N){g.abort(),N(m)}}}function y(v){const p=v.readable&&typeof v.readable.read!="function"?ee.wrap(v.readable):v.readable,O=v.writable;let g=!!r(p),E=!!i(O),b,m,N,C,R;function L(x){const j=C;C=null,j?j(x):x&&R.destroy(x)}return R=new q({readableObjectMode:!!(p!=null&&p.readableObjectMode),writableObjectMode:!!(O!=null&&O.writableObjectMode),readable:g,writable:E}),E&&(d(O,x=>{E=!1,x&&U(p,x),L(x)}),R._write=function(x,j,te){O.write(x,j)?te():b=te},R._final=function(x){O.end(),m=x},O.on("drain",function(){if(b){const x=b;b=null,x()}}),O.on("finish",function(){if(m){const x=m;m=null,x()}})),g&&(d(p,x=>{g=!1,x&&U(p,x),L(x)}),p.on("readable",function(){if(N){const x=N;N=null,x()}}),p.on("end",function(){R.push(null)}),R._read=function(){for(;;){const x=p.read();if(x===null){N=R._read;return}if(!R.push(x))return}}),R._destroy=function(x,j){!x&&C!==null&&(x=new T),N=null,b=null,m=null,C===null?j(x):(C=j,U(O,x),U(p,x))},R}return rl}var nl,Ep;function _n(){if(Ep)return nl;Ep=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:i}=bt;nl=u;const s=Ya(),a=R0();i(u.prototype,s.prototype),i(u,s);{const T=r(a.prototype);for(let I=0;I<T.length;I++){const D=T[I];u.prototype[D]||(u.prototype[D]=a.prototype[D])}}function u(T){if(!(this instanceof u))return new u(T);s.call(this,T),a.call(this,T),T?(this.allowHalfOpen=T.allowHalfOpen!==!1,T.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),T.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(u.prototype,{writable:{__proto__:null,...e(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(a.prototype,"writableLength")},writableFinished:{__proto__:null,...e(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(T){this._readableState&&this._writableState&&(this._readableState.destroyed=T,this._writableState.destroyed=T)}}});let l;function c(){return l===void 0&&(l={}),l}u.fromWeb=function(T,I){return c().newStreamDuplexFromReadableWritablePair(T,I)},u.toWeb=function(T){return c().newReadableWritablePairFromDuplex(T)};let d;return u.from=function(T){return d||(d=p2()),d(T,"body")},nl}const{ObjectSetPrototypeOf:P0,Symbol:y2}=bt;var L0=wn;const{ERR_METHOD_NOT_IMPLEMENTED:_2}=Zt.codes,Dc=_n(),{getHighWaterMark:w2}=$c;P0(wn.prototype,Dc.prototype);P0(wn,Dc);const Ko=y2("kCallback");function wn(t){if(!(this instanceof wn))return new wn(t);const e=t?w2(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Dc.call(this,t),this._readableState.sync=!1,this[Ko]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",b2)}function sc(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function b2(){this._final!==sc&&sc.call(this)}wn.prototype._final=sc;wn.prototype._transform=function(t,e,r){throw new _2("_transform()")};wn.prototype._write=function(t,e,r){const i=this._readableState,s=this._writableState,a=i.length;this._transform(t,e,(u,l)=>{if(u){r(u);return}l!=null&&this.push(l),s.ended||a===i.length||i.length<i.highWaterMark?r():this[Ko]=r})};wn.prototype._read=function(){if(this[Ko]){const t=this[Ko];this[Ko]=null,t()}};const{ObjectSetPrototypeOf:$0}=bt;var D0=eo;const Mc=L0;$0(eo.prototype,Mc.prototype);$0(eo,Mc);function eo(t){if(!(this instanceof eo))return new eo(t);Mc.call(this,t)}eo.prototype._transform=function(t,e,r){r(null,t)};const qo=Ei,{ArrayIsArray:m2,Promise:v2,SymbolAsyncIterator:E2}=bt,Aa=Zn,{once:S2}=mn,T2=lo,Sp=_n(),{aggregateTwoErrors:A2,codes:{ERR_INVALID_ARG_TYPE:ac,ERR_INVALID_RETURN_VALUE:il,ERR_MISSING_ARGS:B2,ERR_STREAM_DESTROYED:x2,ERR_STREAM_PREMATURE_CLOSE:N2},AbortError:O2}=Zt,{validateFunction:I2,validateAbortSignal:C2}=Fa,{isIterable:di,isReadable:ol,isReadableNodeStream:ba,isNodeStream:Tp,isTransformStream:Ki,isWebStream:R2,isReadableStream:sl,isReadableEnded:P2}=En,L2=globalThis.AbortController||Nc().AbortController;let al,fl;function Ap(t,e,r){let i=!1;t.on("close",()=>{i=!0});const s=Aa(t,{readable:e,writable:r},a=>{i=!a});return{destroy:a=>{i||(i=!0,T2.destroyer(t,a||new x2("pipe")))},cleanup:s}}function $2(t){return I2(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function ul(t){if(di(t))return t;if(ba(t))return D2(t);throw new ac("val",["Readable","Iterable","AsyncIterable"],t)}async function*D2(t){fl||(fl=Ya()),yield*fl.prototype[E2].call(t)}async function oa(t,e,r,{end:i}){let s,a=null;const u=d=>{if(d&&(s=d),a){const T=a;a=null,T()}},l=()=>new v2((d,T)=>{s?T(s):a=()=>{s?T(s):d()}});e.on("drain",u);const c=Aa(e,{readable:!1},u);try{e.writableNeedDrain&&await l();for await(const d of t)e.write(d)||await l();i&&e.end(),await l(),r()}catch(d){r(s!==d?A2(s,d):d)}finally{c(),e.off("drain",u)}}async function ll(t,e,r,{end:i}){Ki(e)&&(e=e.writable);const s=e.getWriter();try{for await(const a of t)await s.ready,s.write(a).catch(()=>{});await s.ready,i&&await s.close(),r()}catch(a){try{await s.abort(a),r(a)}catch(u){r(u)}}}function M2(...t){return M0(t,S2($2(t)))}function M0(t,e,r){if(t.length===1&&m2(t[0])&&(t=t[0]),t.length<2)throw new B2("streams");const i=new L2,s=i.signal,a=r==null?void 0:r.signal,u=[];C2(a,"options.signal");function l(){U(new O2)}a==null||a.addEventListener("abort",l);let c,d;const T=[];let I=0;function D(J){U(J,--I===0)}function U(J,S){if(J&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=J),!(!c&&!S)){for(;T.length;)T.shift()(c);a==null||a.removeEventListener("abort",l),i.abort(),S&&(c||u.forEach(F=>F()),qo.nextTick(e,c,d))}}let H;for(let J=0;J<t.length;J++){const S=t[J],F=J<t.length-1,w=J>0,V=F||(r==null?void 0:r.end)!==!1,q=J===t.length-1;if(Tp(S)){let Z=function(y){y&&y.name!=="AbortError"&&y.code!=="ERR_STREAM_PREMATURE_CLOSE"&&D(y)};if(V){const{destroy:y,cleanup:v}=Ap(S,F,w);T.push(y),ol(S)&&q&&u.push(v)}S.on("error",Z),ol(S)&&q&&u.push(()=>{S.removeListener("error",Z)})}if(J===0)if(typeof S=="function"){if(H=S({signal:s}),!di(H))throw new il("Iterable, AsyncIterable or Stream","source",H)}else di(S)||ba(S)||Ki(S)?H=S:H=Sp.from(S);else if(typeof S=="function"){if(Ki(H)){var ee;H=ul((ee=H)===null||ee===void 0?void 0:ee.readable)}else H=ul(H);if(H=S(H,{signal:s}),F){if(!di(H,!0))throw new il("AsyncIterable",`transform[${J-1}]`,H)}else{var X;al||(al=D0);const Z=new al({objectMode:!0}),y=(X=H)===null||X===void 0?void 0:X.then;if(typeof y=="function")I++,y.call(H,O=>{d=O,O!=null&&Z.write(O),V&&Z.end(),qo.nextTick(D)},O=>{Z.destroy(O),qo.nextTick(D,O)});else if(di(H,!0))I++,oa(H,Z,D,{end:V});else if(sl(H)||Ki(H)){const O=H.readable||H;I++,oa(O,Z,D,{end:V})}else throw new il("AsyncIterable or Promise","destination",H);H=Z;const{destroy:v,cleanup:p}=Ap(H,!1,!0);T.push(v),q&&u.push(p)}}else if(Tp(S)){if(ba(H)){I+=2;const Z=U2(H,S,D,{end:V});ol(S)&&q&&u.push(Z)}else if(Ki(H)||sl(H)){const Z=H.readable||H;I++,oa(Z,S,D,{end:V})}else if(di(H))I++,oa(H,S,D,{end:V});else throw new ac("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],H);H=S}else if(R2(S)){if(ba(H))I++,ll(ul(H),S,D,{end:V});else if(sl(H)||di(H))I++,ll(H,S,D,{end:V});else if(Ki(H))I++,ll(H.readable,S,D,{end:V});else throw new ac("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],H);H=S}else H=Sp.from(S)}return(s!=null&&s.aborted||a!=null&&a.aborted)&&qo.nextTick(l),H}function U2(t,e,r,{end:i}){let s=!1;if(e.on("close",()=>{s||r(new N2)}),t.pipe(e,{end:!1}),i){let a=function(){s=!0,e.end()};P2(t)?qo.nextTick(a):t.once("end",a)}else r();return Aa(t,{readable:!0,writable:!1},a=>{const u=t._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&u&&u.ended&&!u.errored&&!u.errorEmitted?t.once("end",r).once("error",r):r(a)}),Aa(e,{readable:!1,writable:!0},r)}var Uc={pipelineImpl:M0,pipeline:M2};const{pipeline:k2}=Uc,sa=_n(),{destroyer:z2}=lo,{isNodeStream:aa,isReadable:Bp,isWritable:xp,isWebStream:cl,isTransformStream:fi,isWritableStream:Np,isReadableStream:Op}=En,{AbortError:V2,codes:{ERR_INVALID_ARG_VALUE:Ip,ERR_MISSING_ARGS:F2}}=Zt,H2=Zn;var U0=function(...e){if(e.length===0)throw new F2("streams");if(e.length===1)return sa.from(e[0]);const r=[...e];if(typeof e[0]=="function"&&(e[0]=sa.from(e[0])),typeof e[e.length-1]=="function"){const U=e.length-1;e[U]=sa.from(e[U])}for(let U=0;U<e.length;++U)if(!(!aa(e[U])&&!cl(e[U]))){if(U<e.length-1&&!(Bp(e[U])||Op(e[U])||fi(e[U])))throw new Ip(`streams[${U}]`,r[U],"must be readable");if(U>0&&!(xp(e[U])||Np(e[U])||fi(e[U])))throw new Ip(`streams[${U}]`,r[U],"must be writable")}let i,s,a,u,l;function c(U){const H=u;u=null,H?H(U):U?l.destroy(U):!D&&!I&&l.destroy()}const d=e[0],T=k2(e,c),I=!!(xp(d)||Np(d)||fi(d)),D=!!(Bp(T)||Op(T)||fi(T));if(l=new sa({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(T!=null&&T.writableObjectMode),writable:I,readable:D}),I){if(aa(d))l._write=function(H,ee,X){d.write(H,ee)?X():i=X},l._final=function(H){d.end(),s=H},d.on("drain",function(){if(i){const H=i;i=null,H()}});else if(cl(d)){const ee=(fi(d)?d.writable:d).getWriter();l._write=async function(X,J,S){try{await ee.ready,ee.write(X).catch(()=>{}),S()}catch(F){S(F)}},l._final=async function(X){try{await ee.ready,ee.close().catch(()=>{}),s=X}catch(J){X(J)}}}const U=fi(T)?T.readable:T;H2(U,()=>{if(s){const H=s;s=null,H()}})}if(D){if(aa(T))T.on("readable",function(){if(a){const U=a;a=null,U()}}),T.on("end",function(){l.push(null)}),l._read=function(){for(;;){const U=T.read();if(U===null){a=l._read;return}if(!l.push(U))return}};else if(cl(T)){const H=(fi(T)?T.readable:T).getReader();l._read=async function(){for(;;)try{const{value:ee,done:X}=await H.read();if(!l.push(ee))return;if(X){l.push(null);return}}catch{return}}}}return l._destroy=function(U,H){!U&&u!==null&&(U=new V2),a=null,i=null,s=null,u===null?H(U):(u=H,aa(T)&&z2(T,U))},l};const k0=globalThis.AbortController||Nc().AbortController,{codes:{ERR_INVALID_ARG_VALUE:W2,ERR_INVALID_ARG_TYPE:is,ERR_MISSING_ARGS:j2,ERR_OUT_OF_RANGE:q2},AbortError:Gr}=Zt,{validateAbortSignal:Si,validateInteger:G2,validateObject:Ti}=Fa,K2=bt.Symbol("kWeak"),{finished:Z2}=Zn,Y2=U0,{addAbortSignalNoValidate:J2}=Za,{isWritable:X2,isNodeStream:Q2}=En,{ArrayPrototypePush:ex,MathFloor:tx,Number:rx,NumberIsNaN:nx,Promise:Cp,PromiseReject:Rp,PromisePrototypeThen:ix,Symbol:z0}=bt,Ba=z0("kEmpty"),Pp=z0("kEof");function ox(t,e){if(e!=null&&Ti(e,"options"),(e==null?void 0:e.signal)!=null&&Si(e.signal,"options.signal"),Q2(t)&&!X2(t))throw new W2("stream",t,"must be writable");const r=Y2(this,t);return e!=null&&e.signal&&J2(e.signal,r),r}function Ja(t,e){if(typeof t!="function")throw new is("fn",["Function","AsyncFunction"],t);e!=null&&Ti(e,"options"),(e==null?void 0:e.signal)!=null&&Si(e.signal,"options.signal");let r=1;return(e==null?void 0:e.concurrency)!=null&&(r=tx(e.concurrency)),G2(r,"concurrency",1),async function*(){var s,a;const u=new k0,l=this,c=[],d=u.signal,T={signal:d},I=()=>u.abort();e!=null&&(s=e.signal)!==null&&s!==void 0&&s.aborted&&I(),e==null||(a=e.signal)===null||a===void 0||a.addEventListener("abort",I);let D,U,H=!1;function ee(){H=!0}async function X(){try{for await(let F of l){var J;if(H)return;if(d.aborted)throw new Gr;try{F=t(F,T)}catch(w){F=Rp(w)}F!==Ba&&(typeof((J=F)===null||J===void 0?void 0:J.catch)=="function"&&F.catch(ee),c.push(F),D&&(D(),D=null),!H&&c.length&&c.length>=r&&await new Cp(w=>{U=w}))}c.push(Pp)}catch(F){const w=Rp(F);ix(w,void 0,ee),c.push(w)}finally{var S;H=!0,D&&(D(),D=null),e==null||(S=e.signal)===null||S===void 0||S.removeEventListener("abort",I)}}X();try{for(;;){for(;c.length>0;){const J=await c[0];if(J===Pp)return;if(d.aborted)throw new Gr;J!==Ba&&(yield J),c.shift(),U&&(U(),U=null)}await new Cp(J=>{D=J})}}finally{u.abort(),H=!0,U&&(U(),U=null)}}.call(this)}function sx(t=void 0){return t!=null&&Ti(t,"options"),(t==null?void 0:t.signal)!=null&&Si(t.signal,"options.signal"),async function*(){let r=0;for await(const s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Gr({cause:t.signal.reason});yield[r++,s]}}.call(this)}async function V0(t,e=void 0){for await(const r of kc.call(this,t,e))return!0;return!1}async function ax(t,e=void 0){if(typeof t!="function")throw new is("fn",["Function","AsyncFunction"],t);return!await V0.call(this,async(...r)=>!await t(...r),e)}async function fx(t,e){for await(const r of kc.call(this,t,e))return r}async function ux(t,e){if(typeof t!="function")throw new is("fn",["Function","AsyncFunction"],t);async function r(i,s){return await t(i,s),Ba}for await(const i of Ja.call(this,r,e));}function kc(t,e){if(typeof t!="function")throw new is("fn",["Function","AsyncFunction"],t);async function r(i,s){return await t(i,s)?i:Ba}return Ja.call(this,r,e)}class lx extends j2{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function cx(t,e,r){var i;if(typeof t!="function")throw new is("reducer",["Function","AsyncFunction"],t);r!=null&&Ti(r,"options"),(r==null?void 0:r.signal)!=null&&Si(r.signal,"options.signal");let s=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){const d=new Gr(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Z2(this.destroy(d)),d}const a=new k0,u=a.signal;if(r!=null&&r.signal){const d={once:!0,[K2]:this};r.signal.addEventListener("abort",()=>a.abort(),d)}let l=!1;try{for await(const d of this){var c;if(l=!0,r!=null&&(c=r.signal)!==null&&c!==void 0&&c.aborted)throw new Gr;s?e=await t(e,d,{signal:u}):(e=d,s=!0)}if(!l&&!s)throw new lx}finally{a.abort()}return e}async function hx(t){t!=null&&Ti(t,"options"),(t==null?void 0:t.signal)!=null&&Si(t.signal,"options.signal");const e=[];for await(const i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Gr(void 0,{cause:t.signal.reason});ex(e,i)}return e}function dx(t,e){const r=Ja.call(this,t,e);return async function*(){for await(const s of r)yield*s}.call(this)}function F0(t){if(t=rx(t),nx(t))return 0;if(t<0)throw new q2("number",">= 0",t);return t}function gx(t,e=void 0){return e!=null&&Ti(e,"options"),(e==null?void 0:e.signal)!=null&&Si(e.signal,"options.signal"),t=F0(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Gr;for await(const a of this){var s;if(e!=null&&(s=e.signal)!==null&&s!==void 0&&s.aborted)throw new Gr;t--<=0&&(yield a)}}.call(this)}function px(t,e=void 0){return e!=null&&Ti(e,"options"),(e==null?void 0:e.signal)!=null&&Si(e.signal,"options.signal"),t=F0(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Gr;for await(const a of this){var s;if(e!=null&&(s=e.signal)!==null&&s!==void 0&&s.aborted)throw new Gr;if(t-- >0)yield a;else return}}.call(this)}xc.streamReturningOperators={asIndexedPairs:sx,drop:gx,filter:kc,flatMap:dx,map:Ja,take:px,compose:ox};xc.promiseReturningOperators={every:ax,forEach:ux,reduce:cx,toArray:hx,some:V0,find:fx};const{ArrayPrototypePop:yx,Promise:_x}=bt,{isIterable:wx,isNodeStream:bx,isWebStream:mx}=En,{pipelineImpl:vx}=Uc,{finished:Ex}=Zn;function Sx(...t){return new _x((e,r)=>{let i,s;const a=t[t.length-1];if(a&&typeof a=="object"&&!bx(a)&&!wx(a)&&!mx(a)){const u=yx(t);i=u.signal,s=u.end}vx(t,(u,l)=>{u?r(u):e(l)},{signal:i,end:s})})}var H0={finished:Ex,pipeline:Sx};const{Buffer:Tx}=Kn,{ObjectDefineProperty:gn,ObjectKeys:W0,ReflectApply:j0}=bt,{promisify:{custom:q0}}=mn,{streamReturningOperators:Lp,promiseReturningOperators:$p}=xc,{codes:{ERR_ILLEGAL_CONSTRUCTOR:G0}}=Zt,Ax=U0,{pipeline:K0}=Uc,{destroyer:Bx}=lo,Z0=Zn,zc=H0,Vc=En,gt=Jy.exports=Lc.Stream;gt.isDisturbed=Vc.isDisturbed;gt.isErrored=Vc.isErrored;gt.isReadable=Vc.isReadable;gt.Readable=Ya();for(const t of W0(Lp)){let r=function(...i){if(new.target)throw G0();return gt.Readable.from(j0(e,this,i))};const e=Lp[t];gn(r,"name",{__proto__:null,value:e.name}),gn(r,"length",{__proto__:null,value:e.length}),gn(gt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(const t of W0($p)){let r=function(...i){if(new.target)throw G0();return j0(e,this,i)};const e=$p[t];gn(r,"name",{__proto__:null,value:e.name}),gn(r,"length",{__proto__:null,value:e.length}),gn(gt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}gt.Writable=R0();gt.Duplex=_n();gt.Transform=L0;gt.PassThrough=D0;gt.pipeline=K0;const{addAbortSignal:xx}=Za;gt.addAbortSignal=xx;gt.finished=Z0;gt.destroy=Bx;gt.compose=Ax;gn(gt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return zc}});gn(K0,q0,{__proto__:null,enumerable:!0,get(){return zc.pipeline}});gn(Z0,q0,{__proto__:null,enumerable:!0,get(){return zc.finished}});gt.Stream=gt;gt._isUint8Array=function(e){return e instanceof Uint8Array};gt._uint8ArrayToBuffer=function(e){return Tx.from(e.buffer,e.byteOffset,e.byteLength)};var Nx=Jy.exports;(function(t){const e=Nx,r=H0,i=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=i,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(cA);function Dp(t,e,r){try{Reflect.apply(t,e,r)}catch(i){setTimeout(()=>{throw i})}}function Ox(t){const e=t.length,r=new Array(e);for(let i=0;i<e;i+=1)r[i]=t[i];return r}class Y0 extends zT.EventEmitter{emit(e){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];if(r){let c;if(a.length>0&&([c]=a),c instanceof Error)throw c;const d=new Error(`Unhandled error.${c?` (${c.message})`:""}`);throw d.context=c,d}const l=i[e];if(l===void 0)return!1;if(typeof l=="function")Dp(l,this,a);else{const c=l.length,d=Ox(l);for(let T=0;T<c;T+=1)Dp(d[T],this,a)}return!0}}function Ix(t){return async(e,r,i,s)=>{let a;const u=new Promise(T=>{a=T});let l=null,c=!1;const d=async()=>{c=!0,i(T=>{l=T,a()}),await u};try{await t(e,r,d),c?(await u,l(null)):s(null)}catch(T){l?l(T):s(T)}}}var Cx=Rx;function Rx(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const J0=VT(Cx);var gr={},os={},Xa={},X0={},to={},Qa={},St={};Object.defineProperty(St,"__esModule",{value:!0});St.output=St.exists=St.hash=St.bytes=St.bool=St.number=void 0;function xa(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}St.number=xa;function Q0(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}St.bool=Q0;function Fc(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}St.bytes=Fc;function e_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");xa(t.outputLen),xa(t.blockLen)}St.hash=e_;function t_(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}St.exists=t_;function r_(t,e){Fc(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}St.output=r_;const Px={number:xa,bool:Q0,bytes:Fc,hash:e_,exists:t_,output:r_};St.default=Px;var bn={},ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.crypto=void 0;ef.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=ef,r=w=>new Uint8Array(w.buffer,w.byteOffset,w.byteLength);t.u8=r;const i=w=>new Uint32Array(w.buffer,w.byteOffset,Math.floor(w.byteLength/4));t.u32=i;const s=w=>new DataView(w.buffer,w.byteOffset,w.byteLength);t.createView=s;const a=(w,V)=>w<<32-V|w>>>V;if(t.rotr=a,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const u=Array.from({length:256},(w,V)=>V.toString(16).padStart(2,"0"));function l(w){if(!(w instanceof Uint8Array))throw new Error("Uint8Array expected");let V="";for(let q=0;q<w.length;q++)V+=u[w[q]];return V}t.bytesToHex=l;function c(w){if(typeof w!="string")throw new TypeError("hexToBytes: expected string, got "+typeof w);if(w.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const V=new Uint8Array(w.length/2);for(let q=0;q<V.length;q++){const Z=q*2,y=w.slice(Z,Z+2),v=Number.parseInt(y,16);if(Number.isNaN(v)||v<0)throw new Error("Invalid byte sequence");V[q]=v}return V}t.hexToBytes=c;const d=async()=>{};t.nextTick=d;async function T(w,V,q){let Z=Date.now();for(let y=0;y<w;y++){q(y);const v=Date.now()-Z;v>=0&&v<V||(await(0,t.nextTick)(),Z+=v)}}t.asyncLoop=T;function I(w){if(typeof w!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof w}`);return new TextEncoder().encode(w)}t.utf8ToBytes=I;function D(w){if(typeof w=="string"&&(w=I(w)),!(w instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof w})`);return w}t.toBytes=D;function U(...w){if(!w.every(Z=>Z instanceof Uint8Array))throw new Error("Uint8Array list expected");if(w.length===1)return w[0];const V=w.reduce((Z,y)=>Z+y.length,0),q=new Uint8Array(V);for(let Z=0,y=0;Z<w.length;Z++){const v=w[Z];q.set(v,y),y+=v.length}return q}t.concatBytes=U;class H{clone(){return this._cloneInto()}}t.Hash=H;const ee=w=>Object.prototype.toString.call(w)==="[object Object]"&&w.constructor===Object;function X(w,V){if(V!==void 0&&(typeof V!="object"||!ee(V)))throw new TypeError("Options should be object or undefined");return Object.assign(w,V)}t.checkOpts=X;function J(w){const V=Z=>w().update(D(Z)).digest(),q=w();return V.outputLen=q.outputLen,V.blockLen=q.blockLen,V.create=()=>w(),V}t.wrapConstructor=J;function S(w){const V=(Z,y)=>w(y).update(D(Z)).digest(),q=w({});return V.outputLen=q.outputLen,V.blockLen=q.blockLen,V.create=Z=>w(Z),V}t.wrapConstructorWithOpts=S;function F(w=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(w));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=F})(bn);Object.defineProperty(Qa,"__esModule",{value:!0});Qa.SHA2=void 0;const hl=St,Uo=bn;function Lx(t,e,r,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,i);const s=BigInt(32),a=BigInt(4294967295),u=Number(r>>s&a),l=Number(r&a),c=i?4:0,d=i?0:4;t.setUint32(e+c,u,i),t.setUint32(e+d,l,i)}class $x extends Uo.Hash{constructor(e,r,i,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Uo.createView)(this.buffer)}update(e){hl.default.exists(this);const{view:r,buffer:i,blockLen:s}=this;e=(0,Uo.toBytes)(e);const a=e.length;for(let u=0;u<a;){const l=Math.min(s-this.pos,a-u);if(l===s){const c=(0,Uo.createView)(e);for(;s<=a-u;u+=s)this.process(c,u);continue}i.set(e.subarray(u,u+l),this.pos),this.pos+=l,u+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hl.default.exists(this),hl.default.output(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:a}=this;let{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>s-u&&(this.process(i,0),u=0);for(let I=u;I<s;I++)r[I]=0;Lx(i,s-8,BigInt(this.length*8),a),this.process(i,0);const l=(0,Uo.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,T=this.get();if(d>T.length)throw new Error("_sha2: outputLen bigger than state");for(let I=0;I<d;I++)l.setUint32(4*I,T[I],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:a,destroyed:u,pos:l}=this;return e.length=s,e.pos=l,e.finished=a,e.destroyed=u,s%r&&e.buffer.set(i),e}}Qa.SHA2=$x;Object.defineProperty(to,"__esModule",{value:!0});to.sha224=to.sha256=void 0;const Dx=Qa,dr=bn,Mx=(t,e,r)=>t&e^~t&r,Ux=(t,e,r)=>t&e^t&r^e&r,kx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mn=new Uint32Array(64);class n_ extends Dx.SHA2{constructor(){super(64,32,8,!1),this.A=Dn[0]|0,this.B=Dn[1]|0,this.C=Dn[2]|0,this.D=Dn[3]|0,this.E=Dn[4]|0,this.F=Dn[5]|0,this.G=Dn[6]|0,this.H=Dn[7]|0}get(){const{A:e,B:r,C:i,D:s,E:a,F:u,G:l,H:c}=this;return[e,r,i,s,a,u,l,c]}set(e,r,i,s,a,u,l,c){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=a|0,this.F=u|0,this.G=l|0,this.H=c|0}process(e,r){for(let I=0;I<16;I++,r+=4)Mn[I]=e.getUint32(r,!1);for(let I=16;I<64;I++){const D=Mn[I-15],U=Mn[I-2],H=(0,dr.rotr)(D,7)^(0,dr.rotr)(D,18)^D>>>3,ee=(0,dr.rotr)(U,17)^(0,dr.rotr)(U,19)^U>>>10;Mn[I]=ee+Mn[I-7]+H+Mn[I-16]|0}let{A:i,B:s,C:a,D:u,E:l,F:c,G:d,H:T}=this;for(let I=0;I<64;I++){const D=(0,dr.rotr)(l,6)^(0,dr.rotr)(l,11)^(0,dr.rotr)(l,25),U=T+D+Mx(l,c,d)+kx[I]+Mn[I]|0,ee=((0,dr.rotr)(i,2)^(0,dr.rotr)(i,13)^(0,dr.rotr)(i,22))+Ux(i,s,a)|0;T=d,d=c,c=l,l=u+U|0,u=a,a=s,s=i,i=U+ee|0}i=i+this.A|0,s=s+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,c=c+this.F|0,d=d+this.G|0,T=T+this.H|0,this.set(i,s,a,u,l,c,d,T)}roundClean(){Mn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class zx extends n_{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}to.sha256=(0,dr.wrapConstructor)(()=>new n_);to.sha224=(0,dr.wrapConstructor)(()=>new zx);var $e={},wi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateObject=t.createHmacDrbg=t.bitMask=t.bitSet=t.bitGet=t.bitLen=t.utf8ToBytes=t.equalBytes=t.concatBytes=t.ensureBytes=t.numberToVarBytesBE=t.numberToBytesLE=t.numberToBytesBE=t.bytesToNumberLE=t.bytesToNumberBE=t.hexToBytes=t.hexToNumber=t.numberToHexUnpadded=t.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=BigInt(0),r=BigInt(1),i=BigInt(2),s=g=>g instanceof Uint8Array,a=Array.from({length:256},(g,E)=>E.toString(16).padStart(2,"0"));function u(g){if(!s(g))throw new Error("Uint8Array expected");let E="";for(let b=0;b<g.length;b++)E+=a[g[b]];return E}t.bytesToHex=u;function l(g){const E=g.toString(16);return E.length&1?`0${E}`:E}t.numberToHexUnpadded=l;function c(g){if(typeof g!="string")throw new Error("hex string expected, got "+typeof g);return BigInt(g===""?"0":`0x${g}`)}t.hexToNumber=c;function d(g){if(typeof g!="string")throw new Error("hex string expected, got "+typeof g);if(g.length%2)throw new Error("hex string is invalid: unpadded "+g.length);const E=new Uint8Array(g.length/2);for(let b=0;b<E.length;b++){const m=b*2,N=g.slice(m,m+2),C=Number.parseInt(N,16);if(Number.isNaN(C)||C<0)throw new Error("invalid byte sequence");E[b]=C}return E}t.hexToBytes=d;function T(g){return c(u(g))}t.bytesToNumberBE=T;function I(g){if(!s(g))throw new Error("Uint8Array expected");return c(u(Uint8Array.from(g).reverse()))}t.bytesToNumberLE=I;const D=(g,E)=>d(g.toString(16).padStart(E*2,"0"));t.numberToBytesBE=D;const U=(g,E)=>(0,t.numberToBytesBE)(g,E).reverse();t.numberToBytesLE=U;const H=g=>d(l(g));t.numberToVarBytesBE=H;function ee(g,E,b){let m;if(typeof E=="string")try{m=d(E)}catch(C){throw new Error(`${g} must be valid hex string, got "${E}". Cause: ${C}`)}else if(s(E))m=Uint8Array.from(E);else throw new Error(`${g} must be hex string or Uint8Array`);const N=m.length;if(typeof b=="number"&&N!==b)throw new Error(`${g} expected ${b} bytes, got ${N}`);return m}t.ensureBytes=ee;function X(...g){const E=new Uint8Array(g.reduce((m,N)=>m+N.length,0));let b=0;return g.forEach(m=>{if(!s(m))throw new Error("Uint8Array expected");E.set(m,b),b+=m.length}),E}t.concatBytes=X;function J(g,E){if(g.length!==E.length)return!1;for(let b=0;b<g.length;b++)if(g[b]!==E[b])return!1;return!0}t.equalBytes=J;function S(g){if(typeof g!="string")throw new Error(`utf8ToBytes expected string, got ${typeof g}`);return new TextEncoder().encode(g)}t.utf8ToBytes=S;function F(g){let E;for(E=0;g>e;g>>=r,E+=1);return E}t.bitLen=F;const w=(g,E)=>g>>BigInt(E)&r;t.bitGet=w;const V=(g,E,b)=>g|(b?r:e)<<BigInt(E);t.bitSet=V;const q=g=>(i<<BigInt(g-1))-r;t.bitMask=q;const Z=g=>new Uint8Array(g),y=g=>Uint8Array.from(g);function v(g,E,b){if(typeof g!="number"||g<2)throw new Error("hashLen must be a number");if(typeof E!="number"||E<2)throw new Error("qByteLen must be a number");if(typeof b!="function")throw new Error("hmacFn must be a function");let m=Z(g),N=Z(g),C=0;const R=()=>{m.fill(1),N.fill(0),C=0},L=(...ie)=>b(N,m,...ie),x=(ie=Z())=>{N=L(y([0]),ie),m=L(),ie.length!==0&&(N=L(y([1]),ie),m=L())},j=()=>{if(C++>=1e3)throw new Error("drbg: tried 1000 values");let ie=0;const oe=[];for(;ie<E;){m=L();const re=m.slice();oe.push(re),ie+=m.length}return X(...oe)};return(ie,oe)=>{R(),x(ie);let re;for(;!(re=oe(j()));)x();return R(),re}}t.createHmacDrbg=v;const p={bigint:g=>typeof g=="bigint",function:g=>typeof g=="function",boolean:g=>typeof g=="boolean",string:g=>typeof g=="string",isSafeInteger:g=>Number.isSafeInteger(g),array:g=>Array.isArray(g),field:(g,E)=>E.Fp.isValid(g),hash:g=>typeof g=="function"&&Number.isSafeInteger(g.outputLen)};function O(g,E,b={}){const m=(N,C,R)=>{const L=p[C];if(typeof L!="function")throw new Error(`Invalid validator "${C}", expected function`);const x=g[N];if(!(R&&x===void 0)&&!L(x,g))throw new Error(`Invalid param ${String(N)}=${x} (${typeof x}), expected ${C}`)};for(const[N,C]of Object.entries(E))m(N,C,!1);for(const[N,C]of Object.entries(b))m(N,C,!0);return g}t.validateObject=O})(wi);Object.defineProperty($e,"__esModule",{value:!0});$e.hashToPrivateScalar=$e.FpSqrtEven=$e.FpSqrtOdd=$e.Field=$e.nLength=$e.FpIsSquare=$e.FpDiv=$e.FpInvertBatch=$e.FpPow=$e.validateField=$e.isNegativeLE=$e.FpSqrt=$e.tonelliShanks=$e.invert=$e.pow2=$e.pow=$e.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hn=wi,Tt=BigInt(0),nt=BigInt(1),Hn=BigInt(2),Vx=BigInt(3),fc=BigInt(4),Mp=BigInt(5),Up=BigInt(8);BigInt(9);BigInt(16);function pr(t,e){const r=t%e;return r>=Tt?r:e+r}$e.mod=pr;function i_(t,e,r){if(r<=Tt||e<Tt)throw new Error("Expected power/modulo > 0");if(r===nt)return Tt;let i=nt;for(;e>Tt;)e&nt&&(i=i*t%r),t=t*t%r,e>>=nt;return i}$e.pow=i_;function Fx(t,e,r){let i=t;for(;e-- >Tt;)i*=i,i%=r;return i}$e.pow2=Fx;function Na(t,e){if(t===Tt||e<=Tt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=pr(t,e),i=e,s=Tt,a=nt;for(;r!==Tt;){const l=i/r,c=i%r,d=s-a*l;i=r,r=c,s=a,a=d}if(i!==nt)throw new Error("invert: does not exist");return pr(s,e)}$e.invert=Na;function o_(t){const e=(t-nt)/Hn;let r,i,s;for(r=t-nt,i=0;r%Hn===Tt;r/=Hn,i++);for(s=Hn;s<t&&i_(s,e,t)!==t-nt;s++);if(i===1){const u=(t+nt)/fc;return function(c,d){const T=c.pow(d,u);if(!c.eql(c.sqr(T),d))throw new Error("Cannot find square root");return T}}const a=(r+nt)/Hn;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let d=i,T=l.pow(l.mul(l.ONE,s),r),I=l.pow(c,a),D=l.pow(c,r);for(;!l.eql(D,l.ONE);){if(l.eql(D,l.ZERO))return l.ZERO;let U=1;for(let ee=l.sqr(D);U<d&&!l.eql(ee,l.ONE);U++)ee=l.sqr(ee);const H=l.pow(T,nt<<BigInt(d-U-1));T=l.sqr(H),I=l.mul(I,H),D=l.mul(D,T),d=U}return I}}$e.tonelliShanks=o_;function s_(t){if(t%fc===Vx){const e=(t+nt)/fc;return function(i,s){const a=i.pow(s,e);if(!i.eql(i.sqr(a),s))throw new Error("Cannot find square root");return a}}if(t%Up===Mp){const e=(t-Mp)/Up;return function(i,s){const a=i.mul(s,Hn),u=i.pow(a,e),l=i.mul(s,u),c=i.mul(i.mul(l,Hn),u),d=i.mul(l,i.sub(c,i.ONE));if(!i.eql(i.sqr(d),s))throw new Error("Cannot find square root");return d}}return o_(t)}$e.FpSqrt=s_;const Hx=(t,e)=>(pr(t,e)&nt)===nt;$e.isNegativeLE=Hx;const Wx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jx(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Wx.reduce((i,s)=>(i[s]="function",i),e);return(0,hn.validateObject)(t,r)}$e.validateField=jx;function a_(t,e,r){if(r<Tt)throw new Error("Expected power > 0");if(r===Tt)return t.ONE;if(r===nt)return e;let i=t.ONE,s=e;for(;r>Tt;)r&nt&&(i=t.mul(i,s)),s=t.sqr(s),r>>=nt;return i}$e.FpPow=a_;function f_(t,e){const r=new Array(e.length),i=e.reduce((a,u,l)=>t.is0(u)?a:(r[l]=a,t.mul(a,u)),t.ONE),s=t.inv(i);return e.reduceRight((a,u,l)=>t.is0(u)?a:(r[l]=t.mul(a,r[l]),t.mul(a,u)),s),r}$e.FpInvertBatch=f_;function qx(t,e,r){return t.mul(e,typeof r=="bigint"?Na(r,t.ORDER):t.inv(r))}$e.FpDiv=qx;function Gx(t){const e=(t.ORDER-nt)/Hn;return r=>{const i=t.pow(r,e);return t.eql(i,t.ZERO)||t.eql(i,t.ONE)}}$e.FpIsSquare=Gx;function Hc(t,e){const r=e!==void 0?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}$e.nLength=Hc;function Kx(t,e,r=!1,i={}){if(t<=Tt)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:a}=Hc(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=s_(t),l=Object.freeze({ORDER:t,BITS:s,BYTES:a,MASK:(0,hn.bitMask)(s),ZERO:Tt,ONE:nt,create:c=>pr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Tt<=c&&c<t},is0:c=>c===Tt,isOdd:c=>(c&nt)===nt,neg:c=>pr(-c,t),eql:(c,d)=>c===d,sqr:c=>pr(c*c,t),add:(c,d)=>pr(c+d,t),sub:(c,d)=>pr(c-d,t),mul:(c,d)=>pr(c*d,t),pow:(c,d)=>a_(l,c,d),div:(c,d)=>pr(c*Na(d,t),t),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>Na(c,t),sqrt:i.sqrt||(c=>u(l,c)),invertBatch:c=>f_(l,c),cmov:(c,d,T)=>T?d:c,toBytes:c=>r?(0,hn.numberToBytesLE)(c,a):(0,hn.numberToBytesBE)(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return r?(0,hn.bytesToNumberLE)(c):(0,hn.bytesToNumberBE)(c)}});return Object.freeze(l)}$e.Field=Kx;function Zx(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}$e.FpSqrtOdd=Zx;function Yx(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}$e.FpSqrtEven=Yx;function Jx(t,e,r=!1){t=(0,hn.ensureBytes)("privateHash",t);const i=t.length,s=Hc(e).nByteLength+8;if(s<24||i<s||i>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${i}`);const a=r?(0,hn.bytesToNumberLE)(t):(0,hn.bytesToNumberBE)(t);return pr(a,e-nt)+nt}$e.hashToPrivateScalar=Jx;var Wc={},ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.validateBasic=ro.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kp=$e,Xx=wi,Qx=BigInt(0),dl=BigInt(1);function eN(t,e){const r=(s,a)=>{const u=a.negate();return s?u:a},i=s=>{const a=Math.ceil(e/s)+1,u=2**(s-1);return{windows:a,windowSize:u}};return{constTimeNegate:r,unsafeLadder(s,a){let u=t.ZERO,l=s;for(;a>Qx;)a&dl&&(u=u.add(l)),l=l.double(),a>>=dl;return u},precomputeWindow(s,a){const{windows:u,windowSize:l}=i(a),c=[];let d=s,T=d;for(let I=0;I<u;I++){T=d,c.push(T);for(let D=1;D<l;D++)T=T.add(d),c.push(T);d=T.double()}return c},wNAF(s,a,u){const{windows:l,windowSize:c}=i(s);let d=t.ZERO,T=t.BASE;const I=BigInt(2**s-1),D=2**s,U=BigInt(s);for(let H=0;H<l;H++){const ee=H*c;let X=Number(u&I);u>>=U,X>c&&(X-=D,u+=dl);const J=ee,S=ee+Math.abs(X)-1,F=H%2!==0,w=X<0;X===0?T=T.add(r(F,a[J])):d=d.add(r(w,a[S]))}return{p:d,f:T}},wNAFCached(s,a,u,l){const c=s._WINDOW_SIZE||1;let d=a.get(s);return d||(d=this.precomputeWindow(s,c),c!==1&&a.set(s,l(d))),this.wNAF(c,d,u)}}}ro.wNAF=eN;function tN(t){return(0,kp.validateField)(t.Fp),(0,Xx.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,kp.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}ro.validateBasic=tN;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=$e,r=wi,i=wi,s=ro;function a(S){const F=(0,s.validateBasic)(S);r.validateObject(F,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:w,Fp:V,a:q}=F;if(w){if(!V.eql(q,V.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof w!="object"||typeof w.beta!="bigint"||typeof w.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...F})}const{bytesToNumberBE:u,hexToBytes:l}=r;t.DER={Err:class extends Error{constructor(F=""){super(F)}},_parseInt(S){const{Err:F}=t.DER;if(S.length<2||S[0]!==2)throw new F("Invalid signature integer tag");const w=S[1],V=S.subarray(2,w+2);if(!w||V.length!==w)throw new F("Invalid signature integer: wrong length");if(V[0]&128)throw new F("Invalid signature integer: negative");if(V[0]===0&&!(V[1]&128))throw new F("Invalid signature integer: unnecessary leading zero");return{d:u(V),l:S.subarray(w+2)}},toSig(S){const{Err:F}=t.DER,w=typeof S=="string"?l(S):S;if(!(w instanceof Uint8Array))throw new Error("ui8a expected");let V=w.length;if(V<2||w[0]!=48)throw new F("Invalid signature tag");if(w[1]!==V-2)throw new F("Invalid signature: incorrect length");const{d:q,l:Z}=t.DER._parseInt(w.subarray(2)),{d:y,l:v}=t.DER._parseInt(Z);if(v.length)throw new F("Invalid signature: left bytes after parsing");return{r:q,s:y}},hexFromSig(S){const F=O=>Number.parseInt(O[0],16)&8?"00"+O:O,w=O=>{const g=O.toString(16);return g.length&1?`0${g}`:g},V=F(w(S.s)),q=F(w(S.r)),Z=V.length/2,y=q.length/2,v=w(Z),p=w(y);return`30${w(y+Z+4)}02${p}${q}02${v}${V}`}};const c=BigInt(0),d=BigInt(1),T=BigInt(2),I=BigInt(3),D=BigInt(4);function U(S){const F=a(S),{Fp:w}=F,V=F.toBytes||((N,C,R)=>{const L=C.toAffine();return r.concatBytes(Uint8Array.from([4]),w.toBytes(L.x),w.toBytes(L.y))}),q=F.fromBytes||(N=>{const C=N.subarray(1),R=w.fromBytes(C.subarray(0,w.BYTES)),L=w.fromBytes(C.subarray(w.BYTES,2*w.BYTES));return{x:R,y:L}});function Z(N){const{a:C,b:R}=F,L=w.sqr(N),x=w.mul(L,N);return w.add(w.add(x,w.mul(N,C)),R)}if(!w.eql(w.sqr(F.Gy),Z(F.Gx)))throw new Error("bad generator point: equation left != right");function y(N){return typeof N=="bigint"&&c<N&&N<F.n}function v(N){if(!y(N))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(N){const{allowedPrivateKeyLengths:C,nByteLength:R,wrapPrivateKey:L,n:x}=F;if(C&&typeof N!="bigint"){if(N instanceof Uint8Array&&(N=r.bytesToHex(N)),typeof N!="string"||!C.includes(N.length))throw new Error("Invalid key");N=N.padStart(R*2,"0")}let j;try{j=typeof N=="bigint"?N:r.bytesToNumberBE((0,i.ensureBytes)("private key",N,R))}catch{throw new Error(`private key must be ${R} bytes, hex or bigint, not ${typeof N}`)}return L&&(j=e.mod(j,x)),v(j),j}const O=new Map;function g(N){if(!(N instanceof E))throw new Error("ProjectivePoint expected")}class E{constructor(C,R,L){if(this.px=C,this.py=R,this.pz=L,C==null||!w.isValid(C))throw new Error("x required");if(R==null||!w.isValid(R))throw new Error("y required");if(L==null||!w.isValid(L))throw new Error("z required")}static fromAffine(C){const{x:R,y:L}=C||{};if(!C||!w.isValid(R)||!w.isValid(L))throw new Error("invalid affine point");if(C instanceof E)throw new Error("projective point not allowed");const x=j=>w.eql(j,w.ZERO);return x(R)&&x(L)?E.ZERO:new E(R,L,w.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const R=w.invertBatch(C.map(L=>L.pz));return C.map((L,x)=>L.toAffine(R[x])).map(E.fromAffine)}static fromHex(C){const R=E.fromAffine(q((0,i.ensureBytes)("pointHex",C)));return R.assertValidity(),R}static fromPrivateKey(C){return E.BASE.multiply(p(C))}_setWindowSize(C){this._WINDOW_SIZE=C,O.delete(this)}assertValidity(){if(this.is0()){if(F.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:C,y:R}=this.toAffine();if(!w.isValid(C)||!w.isValid(R))throw new Error("bad point: x or y not FE");const L=w.sqr(R),x=Z(C);if(!w.eql(L,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:C}=this.toAffine();if(w.isOdd)return!w.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){g(C);const{px:R,py:L,pz:x}=this,{px:j,py:te,pz:ie}=C,oe=w.eql(w.mul(R,ie),w.mul(j,x)),re=w.eql(w.mul(L,ie),w.mul(te,x));return oe&&re}negate(){return new E(this.px,w.neg(this.py),this.pz)}double(){const{a:C,b:R}=F,L=w.mul(R,I),{px:x,py:j,pz:te}=this;let ie=w.ZERO,oe=w.ZERO,re=w.ZERO,fe=w.mul(x,x),be=w.mul(j,j),ye=w.mul(te,te),ge=w.mul(x,j);return ge=w.add(ge,ge),re=w.mul(x,te),re=w.add(re,re),ie=w.mul(C,re),oe=w.mul(L,ye),oe=w.add(ie,oe),ie=w.sub(be,oe),oe=w.add(be,oe),oe=w.mul(ie,oe),ie=w.mul(ge,ie),re=w.mul(L,re),ye=w.mul(C,ye),ge=w.sub(fe,ye),ge=w.mul(C,ge),ge=w.add(ge,re),re=w.add(fe,fe),fe=w.add(re,fe),fe=w.add(fe,ye),fe=w.mul(fe,ge),oe=w.add(oe,fe),ye=w.mul(j,te),ye=w.add(ye,ye),fe=w.mul(ye,ge),ie=w.sub(ie,fe),re=w.mul(ye,be),re=w.add(re,re),re=w.add(re,re),new E(ie,oe,re)}add(C){g(C);const{px:R,py:L,pz:x}=this,{px:j,py:te,pz:ie}=C;let oe=w.ZERO,re=w.ZERO,fe=w.ZERO;const be=F.a,ye=w.mul(F.b,I);let ge=w.mul(R,j),Re=w.mul(L,te),ve=w.mul(x,ie),Ae=w.add(R,L),$=w.add(j,te);Ae=w.mul(Ae,$),$=w.add(ge,Re),Ae=w.sub(Ae,$),$=w.add(R,x);let M=w.add(j,ie);return $=w.mul($,M),M=w.add(ge,ve),$=w.sub($,M),M=w.add(L,x),oe=w.add(te,ie),M=w.mul(M,oe),oe=w.add(Re,ve),M=w.sub(M,oe),fe=w.mul(be,$),oe=w.mul(ye,ve),fe=w.add(oe,fe),oe=w.sub(Re,fe),fe=w.add(Re,fe),re=w.mul(oe,fe),Re=w.add(ge,ge),Re=w.add(Re,ge),ve=w.mul(be,ve),$=w.mul(ye,$),Re=w.add(Re,ve),ve=w.sub(ge,ve),ve=w.mul(be,ve),$=w.add($,ve),ge=w.mul(Re,$),re=w.add(re,ge),ge=w.mul(M,$),oe=w.mul(Ae,oe),oe=w.sub(oe,ge),ge=w.mul(Ae,Re),fe=w.mul(M,fe),fe=w.add(fe,ge),new E(oe,re,fe)}subtract(C){return this.add(C.negate())}is0(){return this.equals(E.ZERO)}wNAF(C){return m.wNAFCached(this,O,C,R=>{const L=w.invertBatch(R.map(x=>x.pz));return R.map((x,j)=>x.toAffine(L[j])).map(E.fromAffine)})}multiplyUnsafe(C){const R=E.ZERO;if(C===c)return R;if(v(C),C===d)return this;const{endo:L}=F;if(!L)return m.unsafeLadder(this,C);let{k1neg:x,k1:j,k2neg:te,k2:ie}=L.splitScalar(C),oe=R,re=R,fe=this;for(;j>c||ie>c;)j&d&&(oe=oe.add(fe)),ie&d&&(re=re.add(fe)),fe=fe.double(),j>>=d,ie>>=d;return x&&(oe=oe.negate()),te&&(re=re.negate()),re=new E(w.mul(re.px,L.beta),re.py,re.pz),oe.add(re)}multiply(C){v(C);let R=C,L,x;const{endo:j}=F;if(j){const{k1neg:te,k1:ie,k2neg:oe,k2:re}=j.splitScalar(R);let{p:fe,f:be}=this.wNAF(ie),{p:ye,f:ge}=this.wNAF(re);fe=m.constTimeNegate(te,fe),ye=m.constTimeNegate(oe,ye),ye=new E(w.mul(ye.px,j.beta),ye.py,ye.pz),L=fe.add(ye),x=be.add(ge)}else{const{p:te,f:ie}=this.wNAF(R);L=te,x=ie}return E.normalizeZ([L,x])[0]}multiplyAndAddUnsafe(C,R,L){const x=E.BASE,j=(ie,oe)=>oe===c||oe===d||!ie.equals(x)?ie.multiplyUnsafe(oe):ie.multiply(oe),te=j(this,R).add(j(C,L));return te.is0()?void 0:te}toAffine(C){const{px:R,py:L,pz:x}=this,j=this.is0();C==null&&(C=j?w.ONE:w.inv(x));const te=w.mul(R,C),ie=w.mul(L,C),oe=w.mul(x,C);if(j)return{x:w.ZERO,y:w.ZERO};if(!w.eql(oe,w.ONE))throw new Error("invZ was invalid");return{x:te,y:ie}}isTorsionFree(){const{h:C,isTorsionFree:R}=F;if(C===d)return!0;if(R)return R(E,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:R}=F;return C===d?this:R?R(E,this):this.multiplyUnsafe(F.h)}toRawBytes(C=!0){return this.assertValidity(),V(E,this,C)}toHex(C=!0){return r.bytesToHex(this.toRawBytes(C))}}E.BASE=new E(F.Gx,F.Gy,w.ONE),E.ZERO=new E(w.ZERO,w.ONE,w.ZERO);const b=F.nBitLength,m=(0,s.wNAF)(E,F.endo?Math.ceil(b/2):b);return{CURVE:F,ProjectivePoint:E,normPrivateKeyToScalar:p,weierstrassEquation:Z,isWithinCurveOrder:y}}t.weierstrassPoints=U;function H(S){const F=(0,s.validateBasic)(S);return r.validateObject(F,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...F})}function ee(S){const F=H(S),{Fp:w,n:V}=F,q=w.BYTES+1,Z=2*w.BYTES+1;function y($){return c<$&&$<w.ORDER}function v($){return e.mod($,V)}function p($){return e.invert($,V)}const{ProjectivePoint:O,normPrivateKeyToScalar:g,weierstrassEquation:E,isWithinCurveOrder:b}=U({...F,toBytes($,M,Y){const de=M.toAffine(),le=w.toBytes(de.x),Be=r.concatBytes;return Y?Be(Uint8Array.from([M.hasEvenY()?2:3]),le):Be(Uint8Array.from([4]),le,w.toBytes(de.y))},fromBytes($){const M=$.length,Y=$[0],de=$.subarray(1);if(M===q&&(Y===2||Y===3)){const le=r.bytesToNumberBE(de);if(!y(le))throw new Error("Point is not on curve");const Be=E(le);let Ie=w.sqrt(Be);const ze=(Ie&d)===d;return(Y&1)===1!==ze&&(Ie=w.neg(Ie)),{x:le,y:Ie}}else if(M===Z&&Y===4){const le=w.fromBytes(de.subarray(0,w.BYTES)),Be=w.fromBytes(de.subarray(w.BYTES,2*w.BYTES));return{x:le,y:Be}}else throw new Error(`Point of length ${M} was invalid. Expected ${q} compressed bytes or ${Z} uncompressed bytes`)}}),m=$=>r.bytesToHex(r.numberToBytesBE($,F.nByteLength));function N($){const M=V>>d;return $>M}function C($){return N($)?v(-$):$}const R=($,M,Y)=>r.bytesToNumberBE($.slice(M,Y));class L{constructor(M,Y,de){this.r=M,this.s=Y,this.recovery=de,this.assertValidity()}static fromCompact(M){const Y=F.nByteLength;return M=(0,i.ensureBytes)("compactSignature",M,Y*2),new L(R(M,0,Y),R(M,Y,2*Y))}static fromDER(M){const{r:Y,s:de}=t.DER.toSig((0,i.ensureBytes)("DER",M));return new L(Y,de)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new L(this.r,this.s,M)}recoverPublicKey(M){const{r:Y,s:de,recovery:le}=this,Be=re((0,i.ensureBytes)("msgHash",M));if(le==null||![0,1,2,3].includes(le))throw new Error("recovery id invalid");const Ie=le===2||le===3?Y+F.n:Y;if(Ie>=w.ORDER)throw new Error("recovery id 2 or 3 invalid");const ze=le&1?"03":"02",He=O.fromHex(ze+m(Ie)),yt=p(Ie),lt=v(-Be*yt),Ir=v(de*yt),P=O.BASE.multiplyAndAddUnsafe(He,lt,Ir);if(!P)throw new Error("point at infinify");return P.assertValidity(),P}hasHighS(){return N(this.s)}normalizeS(){return this.hasHighS()?new L(this.r,v(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const x={isValidPrivateKey($){try{return g($),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const $=F.randomBytes(w.BYTES+8),M=e.hashToPrivateScalar($,V);return r.numberToBytesBE(M,F.nByteLength)},precompute($=8,M=O.BASE){return M._setWindowSize($),M.multiply(BigInt(3)),M}};function j($,M=!0){return O.fromPrivateKey($).toRawBytes(M)}function te($){const M=$ instanceof Uint8Array,Y=typeof $=="string",de=(M||Y)&&$.length;return M?de===q||de===Z:Y?de===2*q||de===2*Z:$ instanceof O}function ie($,M,Y=!0){if(te($))throw new Error("first arg must be private key");if(!te(M))throw new Error("second arg must be public key");return O.fromHex(M).multiply(g($)).toRawBytes(Y)}const oe=F.bits2int||function($){const M=r.bytesToNumberBE($),Y=$.length*8-F.nBitLength;return Y>0?M>>BigInt(Y):M},re=F.bits2int_modN||function($){return v(oe($))},fe=r.bitMask(F.nBitLength);function be($){if(typeof $!="bigint")throw new Error("bigint expected");if(!(c<=$&&$<fe))throw new Error(`bigint expected < 2^${F.nBitLength}`);return r.numberToBytesBE($,F.nByteLength)}function ye($,M,Y=ge){if(["recovered","canonical"].some(ce=>ce in Y))throw new Error("sign() legacy options not supported");const{hash:de,randomBytes:le}=F;let{lowS:Be,prehash:Ie,extraEntropy:ze}=Y;Be==null&&(Be=!0),$=(0,i.ensureBytes)("msgHash",$),Ie&&($=(0,i.ensureBytes)("prehashed msgHash",de($)));const He=re($),yt=g(M),lt=[be(yt),be(He)];if(ze!=null){const ce=ze===!0?le(w.BYTES):ze;lt.push((0,i.ensureBytes)("extraEntropy",ce,w.BYTES))}const Ir=r.concatBytes(...lt),P=He;function k(ce){const he=oe(ce);if(!b(he))return;const _e=p(he),Ze=O.BASE.multiply(he).toAffine(),Ge=v(Ze.x);if(Ge===c)return;const Yt=v(_e*v(P+Ge*yt));if(Yt===c)return;let Vt=(Ze.x===Ge?0:2)|Number(Ze.y&d),Yr=Yt;return Be&&N(Yt)&&(Yr=C(Yt),Vt^=1),new L(Ge,Yr,Vt)}return{seed:Ir,k2sig:k}}const ge={lowS:F.lowS,prehash:!1},Re={lowS:F.lowS,prehash:!1};function ve($,M,Y=ge){const{seed:de,k2sig:le}=ye($,M,Y);return r.createHmacDrbg(F.hash.outputLen,F.nByteLength,F.hmac)(de,le)}O.BASE._setWindowSize(8);function Ae($,M,Y,de=Re){var Ze;const le=$;if(M=(0,i.ensureBytes)("msgHash",M),Y=(0,i.ensureBytes)("publicKey",Y),"strict"in de)throw new Error("options.strict was renamed to lowS");const{lowS:Be,prehash:Ie}=de;let ze,He;try{if(typeof le=="string"||le instanceof Uint8Array)try{ze=L.fromDER(le)}catch(Ge){if(!(Ge instanceof t.DER.Err))throw Ge;ze=L.fromCompact(le)}else if(typeof le=="object"&&typeof le.r=="bigint"&&typeof le.s=="bigint"){const{r:Ge,s:Yt}=le;ze=new L(Ge,Yt)}else throw new Error("PARSE");He=O.fromHex(Y)}catch(Ge){if(Ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Be&&ze.hasHighS())return!1;Ie&&(M=F.hash(M));const{r:yt,s:lt}=ze,Ir=re(M),P=p(lt),k=v(Ir*P),ce=v(yt*P),he=(Ze=O.BASE.multiplyAndAddUnsafe(He,k,ce))==null?void 0:Ze.toAffine();return he?v(he.x)===yt:!1}return{CURVE:F,getPublicKey:j,getSharedSecret:ie,sign:ve,verify:Ae,ProjectivePoint:O,Signature:L,utils:x}}t.weierstrass=ee;function X(S,F){const w=S.ORDER;let V=c;for(let b=w-d;b%T===c;b/=T)V+=d;const q=V,Z=(w-d)/T**q,y=(Z-d)/T,v=T**q-d,p=T**(q-d),O=S.pow(F,Z),g=S.pow(F,(Z+d)/T);let E=(b,m)=>{let N=O,C=S.pow(m,v),R=S.sqr(C);R=S.mul(R,m);let L=S.mul(b,R);L=S.pow(L,y),L=S.mul(L,C),C=S.mul(L,m),R=S.mul(L,b);let x=S.mul(R,C);L=S.pow(x,p);let j=S.eql(L,S.ONE);C=S.mul(R,g),L=S.mul(x,N),R=S.cmov(C,R,j),x=S.cmov(L,x,j);for(let te=q;te>d;te--){let ie=T**(te-T),oe=S.pow(x,ie);const re=S.eql(oe,S.ONE);C=S.mul(R,N),N=S.mul(N,N),oe=S.mul(x,N),R=S.cmov(C,R,re),x=S.cmov(oe,x,re)}return{isValid:j,value:R}};if(S.ORDER%D===I){const b=(S.ORDER-I)/D,m=S.sqrt(S.neg(F));E=(N,C)=>{let R=S.sqr(C);const L=S.mul(N,C);R=S.mul(R,L);let x=S.pow(R,b);x=S.mul(x,L);const j=S.mul(x,m),te=S.mul(S.sqr(x),C),ie=S.eql(te,N);let oe=S.cmov(j,x,ie);return{isValid:ie,value:oe}}}return E}t.SWUFpSqrtRatio=X;function J(S,F){if(e.validateField(S),!S.isValid(F.A)||!S.isValid(F.B)||!S.isValid(F.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const w=X(S,F.Z);if(!S.isOdd)throw new Error("Fp.isOdd is not implemented!");return V=>{let q,Z,y,v,p,O,g,E;q=S.sqr(V),q=S.mul(q,F.Z),Z=S.sqr(q),Z=S.add(Z,q),y=S.add(Z,S.ONE),y=S.mul(y,F.B),v=S.cmov(F.Z,S.neg(Z),!S.eql(Z,S.ZERO)),v=S.mul(v,F.A),Z=S.sqr(y),O=S.sqr(v),p=S.mul(O,F.A),Z=S.add(Z,p),Z=S.mul(Z,y),O=S.mul(O,v),p=S.mul(O,F.B),Z=S.add(Z,p),g=S.mul(q,y);const{isValid:b,value:m}=w(Z,O);E=S.mul(q,V),E=S.mul(E,m),g=S.cmov(g,y,b),E=S.cmov(E,m,b);const N=S.isOdd(V)===S.isOdd(E);return E=S.cmov(S.neg(E),E,N),g=S.div(g,v),{x:g,y:E}}}t.mapToCurveSimpleSWU=J})(Wc);var yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.createHasher=yr.isogenyMap=yr.hash_to_field=yr.expand_message_xof=yr.expand_message_xmd=void 0;const rN=$e,Br=wi;function nN(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return(0,Br.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}const iN=Br.bytesToNumberBE;function Vn(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const r=Array.from({length:e}).fill(0);for(let i=e-1;i>=0;i--)r[i]=t&255,t>>>=8;return new Uint8Array(r)}function oN(t,e){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t[i]^e[i];return r}function ts(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function jc(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function u_(t,e,r,i){ts(t),ts(e),jc(r),e.length>255&&(e=i((0,Br.concatBytes)((0,Br.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:a}=i,u=Math.ceil(r/s);if(u>255)throw new Error("Invalid xmd length");const l=(0,Br.concatBytes)(e,Vn(e.length,1)),c=Vn(0,a),d=Vn(r,2),T=new Array(u),I=i((0,Br.concatBytes)(c,t,d,Vn(0,1),l));T[0]=i((0,Br.concatBytes)(I,Vn(1,1),l));for(let U=1;U<=u;U++){const H=[oN(I,T[U-1]),Vn(U+1,1),l];T[U]=i((0,Br.concatBytes)(...H))}return(0,Br.concatBytes)(...T).slice(0,r)}yr.expand_message_xmd=u_;function l_(t,e,r,i,s){if(ts(t),ts(e),jc(r),e.length>255){const a=Math.ceil(2*i/8);e=s.create({dkLen:a}).update((0,Br.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(t).update(Vn(r,2)).update(e).update(Vn(e.length,1)).digest()}yr.expand_message_xof=l_;function uc(t,e,r){(0,Br.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:i,k:s,m:a,hash:u,expand:l,DST:c}=r;ts(t),jc(e);const d=nN(c),T=i.toString(2).length,I=Math.ceil((T+s)/8),D=e*a*I;let U;if(l==="xmd")U=u_(t,d,D,u);else if(l==="xof")U=l_(t,d,D,s,u);else if(l==="_internal_pass")U=t;else throw new Error('expand must be "xmd" or "xof"');const H=new Array(e);for(let ee=0;ee<e;ee++){const X=new Array(a);for(let J=0;J<a;J++){const S=I*(J+ee*a),F=U.subarray(S,S+I);X[J]=(0,rN.mod)(iN(F),i)}H[ee]=X}return H}yr.hash_to_field=uc;function sN(t,e){const r=e.map(i=>Array.from(i).reverse());return(i,s)=>{const[a,u,l,c]=r.map(d=>d.reduce((T,I)=>t.add(t.mul(T,i),I)));return i=t.div(a,u),s=t.mul(s,t.div(l,c)),{x:i,y:s}}}yr.isogenyMap=sN;function aN(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(i,s){const a=uc(i,2,{...r,DST:r.DST,...s}),u=t.fromAffine(e(a[0])),l=t.fromAffine(e(a[1])),c=u.add(l).clearCofactor();return c.assertValidity(),c},encodeToCurve(i,s){const a=uc(i,1,{...r,DST:r.encodeDST,...s}),u=t.fromAffine(e(a[0])).clearCofactor();return u.assertValidity(),u}}}yr.createHasher=aN;var no={},c_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const e=St,r=bn;class i extends r.Hash{constructor(u,l){super(),this.finished=!1,this.destroyed=!1,e.default.hash(u);const c=(0,r.toBytes)(l);if(this.iHash=u.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,T=new Uint8Array(d);T.set(c.length>d?u.create().update(c).digest():c);for(let I=0;I<T.length;I++)T[I]^=54;this.iHash.update(T),this.oHash=u.create();for(let I=0;I<T.length;I++)T[I]^=106;this.oHash.update(T),T.fill(0)}update(u){return e.default.exists(this),this.iHash.update(u),this}digestInto(u){e.default.exists(this),e.default.bytes(u,this.outputLen),this.finished=!0,this.iHash.digestInto(u),this.oHash.update(u),this.oHash.digestInto(u),this.destroy()}digest(){const u=new Uint8Array(this.oHash.outputLen);return this.digestInto(u),u}_cloneInto(u){u||(u=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:d,destroyed:T,blockLen:I,outputLen:D}=this;return u=u,u.finished=d,u.destroyed=T,u.blockLen=I,u.outputLen=D,u.oHash=l._cloneInto(u.oHash),u.iHash=c._cloneInto(u.iHash),u}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s=(a,u,l)=>new i(a,u).update(l).digest();t.hmac=s,t.hmac.create=(a,u)=>new i(a,u)})(c_);Object.defineProperty(no,"__esModule",{value:!0});no.createCurve=no.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fN=c_,zp=bn,uN=Wc;function h_(t){return{hash:t,hmac:(e,...r)=>(0,fN.hmac)(t,e,(0,zp.concatBytes)(...r)),randomBytes:zp.randomBytes}}no.getHash=h_;function lN(t,e){const r=i=>(0,uN.weierstrass)({...t,...h_(i)});return Object.freeze({...r(e),create:r})}no.createCurve=lN;(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r=to,i=bn,s=$e,a=Wc,u=wi,l=yr,c=no,d=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),T=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),I=BigInt(1),D=BigInt(2),U=(L,x)=>(L+x/D)/x;function H(L){const x=d,j=BigInt(3),te=BigInt(6),ie=BigInt(11),oe=BigInt(22),re=BigInt(23),fe=BigInt(44),be=BigInt(88),ye=L*L*L%x,ge=ye*ye*L%x,Re=(0,s.pow2)(ge,j,x)*ge%x,ve=(0,s.pow2)(Re,j,x)*ge%x,Ae=(0,s.pow2)(ve,D,x)*ye%x,$=(0,s.pow2)(Ae,ie,x)*Ae%x,M=(0,s.pow2)($,oe,x)*$%x,Y=(0,s.pow2)(M,fe,x)*M%x,de=(0,s.pow2)(Y,be,x)*Y%x,le=(0,s.pow2)(de,fe,x)*M%x,Be=(0,s.pow2)(le,j,x)*ge%x,Ie=(0,s.pow2)(Be,re,x)*$%x,ze=(0,s.pow2)(Ie,te,x)*ye%x,He=(0,s.pow2)(ze,D,x);if(!ee.eql(ee.sqr(He),L))throw new Error("Cannot find square root");return He}const ee=(0,s.Field)(d,void 0,void 0,{sqrt:H});t.secp256k1=(0,c.createCurve)({a:BigInt(0),b:BigInt(7),Fp:ee,n:T,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:L=>{const x=T,j=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),te=-I*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ie=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),oe=j,re=BigInt("0x100000000000000000000000000000000"),fe=U(oe*L,x),be=U(-te*L,x);let ye=(0,s.mod)(L-fe*j-be*ie,x),ge=(0,s.mod)(-fe*te-be*oe,x);const Re=ye>re,ve=ge>re;if(Re&&(ye=x-ye),ve&&(ge=x-ge),ye>re||ge>re)throw new Error("splitScalar: Endomorphism failed, k="+L);return{k1neg:Re,k1:ye,k2neg:ve,k2:ge}}}},r.sha256);const X=BigInt(0),J=L=>typeof L=="bigint"&&X<L&&L<d,S=L=>typeof L=="bigint"&&X<L&&L<T,F={};function w(L,...x){let j=F[L];if(j===void 0){const te=(0,r.sha256)(Uint8Array.from(L,ie=>ie.charCodeAt(0)));j=(0,u.concatBytes)(te,te),F[L]=j}return(0,r.sha256)((0,u.concatBytes)(j,...x))}const V=L=>L.toRawBytes(!0).slice(1),q=L=>(0,u.numberToBytesBE)(L,32),Z=L=>(0,s.mod)(L,d),y=L=>(0,s.mod)(L,T),v=t.secp256k1.ProjectivePoint,p=(L,x,j)=>v.BASE.multiplyAndAddUnsafe(L,x,j);function O(L){let x=t.secp256k1.utils.normPrivateKeyToScalar(L),j=v.fromPrivateKey(x);return{scalar:j.hasEvenY()?x:y(-x),bytes:V(j)}}function g(L){if(!J(L))throw new Error("bad x: need 0 < x < p");const x=Z(L*L),j=Z(x*L+BigInt(7));let te=H(j);te%D!==X&&(te=Z(-te));const ie=new v(L,te,I);return ie.assertValidity(),ie}function E(...L){return y((0,u.bytesToNumberBE)(w("BIP0340/challenge",...L)))}function b(L){return O(L).bytes}function m(L,x,j=(0,i.randomBytes)(32)){const te=(0,u.ensureBytes)("message",L),{bytes:ie,scalar:oe}=O(x),re=(0,u.ensureBytes)("auxRand",j,32),fe=q(oe^(0,u.bytesToNumberBE)(w("BIP0340/aux",re))),be=w("BIP0340/nonce",fe,ie,te),ye=y((0,u.bytesToNumberBE)(be));if(ye===X)throw new Error("sign failed: k is zero");const{bytes:ge,scalar:Re}=O(ye),ve=E(ge,ie,te),Ae=new Uint8Array(64);if(Ae.set(ge,0),Ae.set(q(y(Re+ve*oe)),32),!N(Ae,te,ie))throw new Error("sign: Invalid signature produced");return Ae}function N(L,x,j){const te=(0,u.ensureBytes)("signature",L,64),ie=(0,u.ensureBytes)("message",x),oe=(0,u.ensureBytes)("publicKey",j,32);try{const re=g((0,u.bytesToNumberBE)(oe)),fe=(0,u.bytesToNumberBE)(te.subarray(0,32));if(!J(fe))return!1;const be=(0,u.bytesToNumberBE)(te.subarray(32,64));if(!S(be))return!1;const ye=E(q(fe),V(re),ie),ge=p(re,be,y(-ye));return!(!ge||!ge.hasEvenY()||ge.toAffine().x!==fe)}catch{return!1}}t.schnorr={getPublicKey:b,sign:m,verify:N,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:g,pointToBytes:V,numberToBytesBE:u.numberToBytesBE,bytesToNumberBE:u.bytesToNumberBE,taggedHash:w,mod:s.mod}};const C=l.isogenyMap(ee,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(L=>L.map(x=>BigInt(x)))),R=(0,a.mapToCurveSimpleSWU)(ee,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ee.create(BigInt("-11"))});e=l.createHasher(t.secp256k1.ProjectivePoint,L=>{const{x,y:j}=R(ee.create(L[0]));return C(x,j)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ee.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256}),t.hashToCurve=e.hashToCurve,t.encodeToCurve=e.encodeToCurve})(X0);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=void 0;var e=X0;Object.defineProperty(t,"secp256k1",{enumerable:!0,get:function(){return e.secp256k1}})})(Xa);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_WITHDRAWALS_PER_PAYLOAD=t.RLP_EMPTY_STRING=t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.SECP256K1_ORDER_DIV_2=t.SECP256K1_ORDER=t.MAX_INTEGER_BIGINT=t.MAX_INTEGER=t.MAX_UINT64=void 0;const e=Kn,r=Xa;t.MAX_UINT64=BigInt("0xffffffffffffffff"),t.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.SECP256K1_ORDER=r.secp256k1.CURVE.n,t.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),t.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=e.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=e.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=e.Buffer.from(t.KECCAK256_RLP_S,"hex"),t.RLP_EMPTY_STRING=e.Buffer.from([128]),t.MAX_WITHDRAWALS_PER_PAYLOAD=16})(os);var tf={};Object.defineProperty(tf,"__esModule",{value:!0});tf.GWEI_TO_WEI=void 0;tf.GWEI_TO_WEI=BigInt(1e9);var qc={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.RLP=Hr.utils=Hr.decode=Hr.encode=void 0;function Gc(t){if(Array.isArray(t)){const r=[];let i=0;for(let s=0;s<t.length;s++){const a=Gc(t[s]);r.push(a),i+=a.length}return cc(Fp(i,192),...r)}const e=w_(t);return e.length===1&&e[0]<128?e:cc(Fp(e.length,128),e)}Hr.encode=Gc;function Fi(t,e,r){if(r>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,r)}function Vp(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return p_(g_(t))}function Fp(t,e){if(t<56)return Uint8Array.from([t+e]);const r=hc(t),i=r.length/2,s=hc(e+55+i);return Uint8Array.from(Oa(s+r))}function d_(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const r=w_(t),i=lc(r);if(e)return i;if(i.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return i.data}Hr.decode=d_;function lc(t){let e,r,i,s,a;const u=[],l=t[0];if(l<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(l<=183){if(e=l-127,l===128?i=Uint8Array.from([]):i=Fi(t,1,e),e===2&&i[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:i,remainder:t.slice(e)}}else if(l<=191){if(r=l-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=Vp(Fi(t,1,r)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return i=Fi(t,r,e+r),{data:i,remainder:t.slice(e+r)}}else if(l<=247){for(e=l-191,s=Fi(t,1,e);s.length;)a=lc(s),u.push(a.data),s=a.remainder;return{data:u,remainder:t.slice(e)}}else{if(r=l-246,e=Vp(Fi(t,1,r)),e<56)throw new Error("invalid RLP: encoded list too short");const c=r+e;if(c>t.length)throw new Error("invalid RLP: total length is larger than the data");for(s=Fi(t,r,c);s.length;)a=lc(s),u.push(a.data),s=a.remainder;return{data:u,remainder:t.slice(c)}}}const cN=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function g_(t){let e="";for(let r=0;r<t.length;r++)e+=cN[t[r]];return e}function p_(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function Oa(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const i=r*2;e[r]=p_(t.slice(i,i+2))}return e}function cc(...t){if(t.length===1)return t[0];const e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e);for(let i=0,s=0;i<t.length;i++){const a=t[i];r.set(a,s),s+=a.length}return r}function y_(t){return new TextEncoder().encode(t)}function hc(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function hN(t){return t.length%2?`0${t}`:t}function __(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function dN(t){return typeof t!="string"?t:__(t)?t.slice(2):t}function w_(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return __(t)?Oa(hN(dN(t))):y_(t);if(typeof t=="number"||typeof t=="bigint")return t?Oa(hc(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}Hr.utils={bytesToHex:g_,concatBytes:cc,hexToBytes:Oa,utf8ToBytes:y_};Hr.RLP={encode:Gc,decode:d_};var xr={},Xe={},b_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const e=BigInt(2**32-1),r=BigInt(32);function i(p,O=!1){return O?{h:Number(p&e),l:Number(p>>r&e)}:{h:Number(p>>r&e)|0,l:Number(p&e)|0}}t.fromBig=i;function s(p,O=!1){let g=new Uint32Array(p.length),E=new Uint32Array(p.length);for(let b=0;b<p.length;b++){const{h:m,l:N}=i(p[b],O);[g[b],E[b]]=[m,N]}return[g,E]}t.split=s;const a=(p,O)=>BigInt(p>>>0)<<r|BigInt(O>>>0);t.toBig=a;const u=(p,O,g)=>p>>>g,l=(p,O,g)=>p<<32-g|O>>>g,c=(p,O,g)=>p>>>g|O<<32-g,d=(p,O,g)=>p<<32-g|O>>>g,T=(p,O,g)=>p<<64-g|O>>>g-32,I=(p,O,g)=>p>>>g-32|O<<64-g,D=(p,O)=>O,U=(p,O)=>p,H=(p,O,g)=>p<<g|O>>>32-g,ee=(p,O,g)=>O<<g|p>>>32-g,X=(p,O,g)=>O<<g-32|p>>>64-g,J=(p,O,g)=>p<<g-32|O>>>64-g;function S(p,O,g,E){const b=(O>>>0)+(E>>>0);return{h:p+g+(b/2**32|0)|0,l:b|0}}t.add=S;const F=(p,O,g)=>(p>>>0)+(O>>>0)+(g>>>0),w=(p,O,g,E)=>O+g+E+(p/2**32|0)|0,V=(p,O,g,E)=>(p>>>0)+(O>>>0)+(g>>>0)+(E>>>0),q=(p,O,g,E,b)=>O+g+E+b+(p/2**32|0)|0,Z=(p,O,g,E,b)=>(p>>>0)+(O>>>0)+(g>>>0)+(E>>>0)+(b>>>0),y=(p,O,g,E,b,m)=>O+g+E+b+m+(p/2**32|0)|0,v={fromBig:i,split:s,toBig:t.toBig,shrSH:u,shrSL:l,rotrSH:c,rotrSL:d,rotrBH:T,rotrBL:I,rotr32H:D,rotr32L:U,rotlSH:H,rotlSL:ee,rotlBH:X,rotlBL:J,add:S,add3L:F,add3H:w,add4L:V,add4H:q,add5H:y,add5L:Z};t.default=v})(b_);Object.defineProperty(Xe,"__esModule",{value:!0});Xe.shake256=Xe.shake128=Xe.keccak_512=Xe.keccak_384=Xe.keccak_256=Xe.keccak_224=Xe.sha3_512=Xe.sha3_384=Xe.sha3_256=Xe.sha3_224=Xe.Keccak=Xe.keccakP=void 0;const Hi=St,rs=b_,Zo=bn,[m_,v_,E_]=[[],[],[]],gN=BigInt(0),ko=BigInt(1),pN=BigInt(2),yN=BigInt(7),_N=BigInt(256),wN=BigInt(113);for(let t=0,e=ko,r=1,i=0;t<24;t++){[r,i]=[i,(2*r+3*i)%5],m_.push(2*(5*i+r)),v_.push((t+1)*(t+2)/2%64);let s=gN;for(let a=0;a<7;a++)e=(e<<ko^(e>>yN)*wN)%_N,e&pN&&(s^=ko<<(ko<<BigInt(a))-ko);E_.push(s)}const[bN,mN]=rs.default.split(E_,!0),Hp=(t,e,r)=>r>32?rs.default.rotlBH(t,e,r):rs.default.rotlSH(t,e,r),Wp=(t,e,r)=>r>32?rs.default.rotlBL(t,e,r):rs.default.rotlSL(t,e,r);function S_(t,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let u=0;u<10;u++)r[u]=t[u]^t[u+10]^t[u+20]^t[u+30]^t[u+40];for(let u=0;u<10;u+=2){const l=(u+8)%10,c=(u+2)%10,d=r[c],T=r[c+1],I=Hp(d,T,1)^r[l],D=Wp(d,T,1)^r[l+1];for(let U=0;U<50;U+=10)t[u+U]^=I,t[u+U+1]^=D}let s=t[2],a=t[3];for(let u=0;u<24;u++){const l=v_[u],c=Hp(s,a,l),d=Wp(s,a,l),T=m_[u];s=t[T],a=t[T+1],t[T]=c,t[T+1]=d}for(let u=0;u<50;u+=10){for(let l=0;l<10;l++)r[l]=t[u+l];for(let l=0;l<10;l++)t[u+l]^=~r[(l+2)%10]&r[(l+4)%10]}t[0]^=bN[i],t[1]^=mN[i]}r.fill(0)}Xe.keccakP=S_;class ss extends Zo.Hash{constructor(e,r,i,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Hi.default.number(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Zo.u32)(this.state)}keccak(){S_(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Hi.default.exists(this);const{blockLen:r,state:i}=this;e=(0,Zo.toBytes)(e);const s=e.length;for(let a=0;a<s;){const u=Math.min(r-this.pos,s-a);for(let l=0;l<u;l++)i[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Hi.default.exists(this,!1),Hi.default.bytes(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,a=e.length;s<a;){this.posOut>=i&&this.keccak();const u=Math.min(i-this.posOut,a-s);e.set(r.subarray(this.posOut,this.posOut+u),s),this.posOut+=u,s+=u}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Hi.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Hi.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:a,enableXOF:u}=this;return e||(e=new ss(r,i,s,u,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=i,e.outputLen=s,e.enableXOF=u,e.destroyed=this.destroyed,e}}Xe.Keccak=ss;const Yn=(t,e,r)=>(0,Zo.wrapConstructor)(()=>new ss(e,t,r));Xe.sha3_224=Yn(6,144,224/8);Xe.sha3_256=Yn(6,136,256/8);Xe.sha3_384=Yn(6,104,384/8);Xe.sha3_512=Yn(6,72,512/8);Xe.keccak_224=Yn(1,144,224/8);Xe.keccak_256=Yn(1,136,256/8);Xe.keccak_384=Yn(1,104,384/8);Xe.keccak_512=Yn(1,72,512/8);const T_=(t,e,r)=>(0,Zo.wrapConstructorWithOpts)((i={})=>new ss(e,t,i.dkLen===void 0?r:i.dkLen,!0));Xe.shake128=T_(31,168,128/8);Xe.shake256=T_(31,136,256/8);var Ia={exports:{}};Ia.exports;(function(t,e){var r=ut&&ut.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.wrapHash=e.equalsBytes=e.hexToBytes=e.bytesToUtf8=e.utf8ToBytes=e.createView=e.concatBytes=e.toHex=e.bytesToHex=e.assertBytes=e.assertBool=void 0;const i=r(St),s=bn,a=i.default.bool;e.assertBool=a;const u=i.default.bytes;e.assertBytes=u;var l=bn;Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return l.bytesToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return l.bytesToHex}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return l.concatBytes}}),Object.defineProperty(e,"createView",{enumerable:!0,get:function(){return l.createView}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return l.utf8ToBytes}});function c(D){if(!(D instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof D}`);return new TextDecoder().decode(D)}e.bytesToUtf8=c;function d(D){const U=D.startsWith("0x")?D.substring(2):D;return(0,s.hexToBytes)(U)}e.hexToBytes=d;function T(D,U){if(D.length!==U.length)return!1;for(let H=0;H<D.length;H++)if(D[H]!==U[H])return!1;return!0}e.equalsBytes=T;function I(D){return U=>(i.default.bytes(U),D(U))}e.wrapHash=I,e.crypto=(()=>{const D=typeof self=="object"&&"crypto"in self?self.crypto:void 0,U=typeof Zg=="function"&&Zg.bind(t);return{node:U&&!D?U("crypto"):void 0,web:D}})()})(Ia,Ia.exports);var A_=Ia.exports;Object.defineProperty(xr,"__esModule",{value:!0});xr.keccak512=xr.keccak384=xr.keccak256=xr.keccak224=void 0;const ns=Xe,rf=A_;xr.keccak224=(0,rf.wrapHash)(ns.keccak_224);xr.keccak256=(()=>{const t=(0,rf.wrapHash)(ns.keccak_256);return t.create=ns.keccak_256.create,t})();xr.keccak384=(0,rf.wrapHash)(ns.keccak_384);xr.keccak512=(0,rf.wrapHash)(ns.keccak_512);var Ai={},_r={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.isHexString=Qe.getKeys=Qe.fromAscii=Qe.fromUtf8=Qe.toAscii=Qe.arrayContainsArray=Qe.getBinarySize=Qe.padToEven=Qe.stripHexPrefix=Qe.isHexPrefixed=void 0;function B_(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t[0]==="0"&&t[1]==="x"}Qe.isHexPrefixed=B_;const vN=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return B_(t)?t.slice(2):t};Qe.stripHexPrefix=vN;function x_(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}Qe.padToEven=x_;function EN(t){if(typeof t!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof t}`);return Buffer.byteLength(t,"utf8")}Qe.getBinarySize=EN;function SN(t,e,r){if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof t}'`);if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof e}'`);return e[r===!0?"some":"every"](i=>t.indexOf(i)>=0)}Qe.arrayContainsArray=SN;function TN(t){let e="",r=0;const i=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<i;r+=2){const s=parseInt(t.substr(r,2),16);e+=String.fromCharCode(s)}return e}Qe.toAscii=TN;function AN(t){const e=Buffer.from(t,"utf8");return`0x${x_(e.toString("hex")).replace(/^0+|0+$/g,"")}`}Qe.fromUtf8=AN;function BN(t){let e="";for(let r=0;r<t.length;r++){const s=t.charCodeAt(r).toString(16);e+=s.length<2?`0${s}`:s}return`0x${e}`}Qe.fromAscii=BN;function xN(t,e,r){if(!Array.isArray(t))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof t}`);if(typeof e!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof t}`);const i=[];for(let s=0;s<t.length;s++){let a=t[s][e];if(r===!0&&!a)a="";else if(typeof a!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof a}`);i.push(a)}return i}Qe.getKeys=xN;function NN(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}Qe.isHexString=NN;Object.defineProperty(_r,"__esModule",{value:!0});_r.assertIsString=_r.assertIsArray=_r.assertIsBuffer=_r.assertIsHexString=void 0;const ON=Qe,IN=function(t){if(!(0,ON.isHexString)(t)){const e=`This method only supports 0x-prefixed hex strings but input was: ${t}`;throw new Error(e)}};_r.assertIsHexString=IN;const CN=function(t){if(!Buffer.isBuffer(t)){const e=`This method only supports Buffer but input was: ${t}`;throw new Error(e)}};_r.assertIsBuffer=CN;const RN=function(t){if(!Array.isArray(t)){const e=`This method only supports number arrays but input was: ${t}`;throw new Error(e)}};_r.assertIsArray=RN;const PN=function(t){if(typeof t!="string"){const e=`This method only supports strings but input was: ${t}`;throw new Error(e)}};_r.assertIsString=PN;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.intToUnpaddedBuffer=t.bigIntToUnpaddedBuffer=t.bigIntToHex=t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.short=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToInt=t.bigIntToBuffer=t.bufferToBigInt=t.bufferToHex=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;const e=_r,r=Qe,i=function(b){if(!Number.isSafeInteger(b)||b<0)throw new Error(`Received an invalid integer type: ${b}`);return`0x${b.toString(16)}`};t.intToHex=i;const s=function(b){const m=(0,t.intToHex)(b);return Buffer.from((0,r.padToEven)(m.slice(2)),"hex")};t.intToBuffer=s;const a=function(b){return Buffer.allocUnsafe(b).fill(0)};t.zeros=a;const u=function(b,m,N){const C=(0,t.zeros)(m);return N?b.length<m?(b.copy(C),C):b.slice(0,m):b.length<m?(b.copy(C,m-b.length),C):b.slice(-m)},l=function(b,m){return(0,e.assertIsBuffer)(b),u(b,m,!1)};t.setLengthLeft=l;const c=function(b,m){return(0,e.assertIsBuffer)(b),u(b,m,!0)};t.setLengthRight=c;const d=function(b){let m=b[0];for(;b.length>0&&m.toString()==="0";)b=b.slice(1),m=b[0];return b},T=function(b){return(0,e.assertIsBuffer)(b),d(b)};t.unpadBuffer=T;const I=function(b){return(0,e.assertIsArray)(b),d(b)};t.unpadArray=I;const D=function(b){return(0,e.assertIsHexString)(b),b=(0,r.stripHexPrefix)(b),"0x"+d(b)};t.unpadHexString=D;const U=function(b){if(b==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(b)||Array.isArray(b)||b instanceof Uint8Array)return Buffer.from(b);if(typeof b=="string"){if(!(0,r.isHexString)(b))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${b}`);return Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(b)),"hex")}if(typeof b=="number")return(0,t.intToBuffer)(b);if(typeof b=="bigint"){if(b<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${b}`);let m=b.toString(16);return m.length%2&&(m="0"+m),Buffer.from(m,"hex")}if(b.toArray)return Buffer.from(b.toArray());if(b.toBuffer)return Buffer.from(b.toBuffer());throw new Error("invalid type")};t.toBuffer=U;const H=function(b){return b=(0,t.toBuffer)(b),"0x"+b.toString("hex")};t.bufferToHex=H;function ee(b){const m=(0,t.bufferToHex)(b);return BigInt(m==="0x"?0:m)}t.bufferToBigInt=ee;function X(b){return(0,t.toBuffer)("0x"+b.toString(16))}t.bigIntToBuffer=X;const J=function(b){const m=Number(ee(b));if(!Number.isSafeInteger(m))throw new Error("Number exceeds 53 bits");return m};t.bufferToInt=J;const S=function(b){return BigInt.asIntN(256,ee(b))};t.fromSigned=S;const F=function(b){return X(BigInt.asUintN(256,b))};t.toUnsigned=F;const w=function(b){return typeof b!="string"||(0,r.isHexPrefixed)(b)?b:"0x"+b};t.addHexPrefix=w;function V(b,m=50){const N=Buffer.isBuffer(b)?b.toString("hex"):b;return N.length<=m?N:N.slice(0,m)+""}t.short=V;const q=function(b){const m=/^(00)+|(00)+$/g;if(b=(0,r.stripHexPrefix)(b),b.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(b.replace(m,""),"hex").toString("utf8")};t.toUtf8=q;const Z=function(b){if(Buffer.isBuffer(b))return`0x${b.toString("hex")}`;if(b instanceof Array){const m=[];for(let N=0;N<b.length;N++)m.push((0,t.baToJSON)(b[N]));return m}};t.baToJSON=Z;const y=function(b){for(const[m,N]of Object.entries(b))if(N!==void 0&&N.length>0&&N[0]===0)throw new Error(`${m} cannot have leading zeroes, received: ${N.toString("hex")}`)};t.validateNoLeadingZeroes=y;function v(b){return Array.isArray(b)?b.map(m=>v(m)):Buffer.from(b)}t.arrToBufArr=v;function p(b){return Array.isArray(b)?b.map(m=>p(m)):Uint8Array.from(b??[])}t.bufArrToArr=p;const O=b=>"0x"+b.toString(16);t.bigIntToHex=O;function g(b){return(0,t.unpadBuffer)(X(b))}t.bigIntToUnpaddedBuffer=g;function E(b){return(0,t.unpadBuffer)((0,t.intToBuffer)(b))}t.intToUnpaddedBuffer=E})(Ai);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.accountBodyToRLP=t.accountBodyToSlim=t.accountBodyFromSlim=t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;const e=Hr,r=xr,i=Xa,s=A_,a=Ai,u=os,l=_r,c=Qe,d=BigInt(0);class T{constructor(E=d,b=d,m=u.KECCAK256_RLP,N=u.KECCAK256_NULL){this.nonce=E,this.balance=b,this.storageRoot=m,this.codeHash=N,this._validate()}static fromAccountData(E){const{nonce:b,balance:m,storageRoot:N,codeHash:C}=E;return new T(b!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(b)):void 0,m!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(m)):void 0,N!==void 0?(0,a.toBuffer)(N):void 0,C!==void 0?(0,a.toBuffer)(C):void 0)}static fromRlpSerializedAccount(E){const b=(0,a.arrToBufArr)(e.RLP.decode(Uint8Array.from(E)));if(!Array.isArray(b))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(b)}static fromValuesArray(E){const[b,m,N,C]=E;return new T((0,a.bufferToBigInt)(b),(0,a.bufferToBigInt)(m),N,C)}_validate(){if(this.nonce<d)throw new Error("nonce must be greater than zero");if(this.balance<d)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return Buffer.from(e.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(u.KECCAK256_NULL)}isEmpty(){return this.balance===d&&this.nonce===d&&this.codeHash.equals(u.KECCAK256_NULL)}}t.Account=T;const I=function(g){try{(0,l.assertIsString)(g)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(g)};t.isValidAddress=I;const D=function(g,E){(0,l.assertIsHexString)(g);const b=(0,c.stripHexPrefix)(g).toLowerCase();let m="";E!==void 0&&(m=(0,a.bufferToBigInt)((0,a.toBuffer)(E)).toString()+"0x");const N=Buffer.from(m+b,"utf8"),C=(0,s.bytesToHex)((0,r.keccak256)(N));let R="0x";for(let L=0;L<b.length;L++)parseInt(C[L],16)>=8?R+=b[L].toUpperCase():R+=b[L];return R};t.toChecksumAddress=D;const U=function(g,E){return(0,t.isValidAddress)(g)&&(0,t.toChecksumAddress)(g,E)===g};t.isValidChecksumAddress=U;const H=function(g,E){return(0,l.assertIsBuffer)(g),(0,l.assertIsBuffer)(E),(0,a.bufferToBigInt)(E)===BigInt(0)?Buffer.from((0,r.keccak256)(e.RLP.encode((0,a.bufArrToArr)([g,null])))).slice(-20):Buffer.from((0,r.keccak256)(e.RLP.encode((0,a.bufArrToArr)([g,E])))).slice(-20)};t.generateAddress=H;const ee=function(g,E,b){if((0,l.assertIsBuffer)(g),(0,l.assertIsBuffer)(E),(0,l.assertIsBuffer)(b),g.length!==20)throw new Error("Expected from to be of length 20");if(E.length!==32)throw new Error("Expected salt to be of length 32");const m=(0,r.keccak256)(Buffer.concat([Buffer.from("ff","hex"),g,E,(0,r.keccak256)(b)]));return(0,a.toBuffer)(m).slice(-20)};t.generateAddress2=ee;const X=function(g){return i.secp256k1.utils.isValidPrivateKey(g)};t.isValidPrivate=X;const J=function(g,E=!1){if((0,l.assertIsBuffer)(g),g.length===64)try{return i.secp256k1.ProjectivePoint.fromHex(Buffer.concat([Buffer.from([4]),g])),!0}catch{return!1}if(!E)return!1;try{return i.secp256k1.ProjectivePoint.fromHex(g),!0}catch{return!1}};t.isValidPublic=J;const S=function(g,E=!1){if((0,l.assertIsBuffer)(g),E&&g.length!==64&&(g=Buffer.from(i.secp256k1.ProjectivePoint.fromHex(g).toRawBytes(!1).slice(1))),g.length!==64)throw new Error("Expected pubKey to be of length 64");return Buffer.from((0,r.keccak256)(g)).slice(-20)};t.pubToAddress=S,t.publicToAddress=t.pubToAddress;const F=function(g){return(0,l.assertIsBuffer)(g),Buffer.from(i.secp256k1.ProjectivePoint.fromPrivateKey(g).toRawBytes(!1).slice(1))};t.privateToPublic=F;const w=function(g){return(0,t.publicToAddress)((0,t.privateToPublic)(g))};t.privateToAddress=w;const V=function(g){return(0,l.assertIsBuffer)(g),g.length!==64&&(g=Buffer.from(i.secp256k1.ProjectivePoint.fromHex(g).toRawBytes(!1).slice(1))),g};t.importPublic=V;const q=function(){const E=(0,a.zeros)(20);return(0,a.bufferToHex)(E)};t.zeroAddress=q;const Z=function(g){try{(0,l.assertIsString)(g)}catch{return!1}return(0,t.zeroAddress)()===g};t.isZeroAddress=Z;function y(g){const[E,b,m,N]=g;return[E,b,(0,a.arrToBufArr)(m).length===0?u.KECCAK256_RLP:m,(0,a.arrToBufArr)(N).length===0?u.KECCAK256_NULL:N]}t.accountBodyFromSlim=y;const v=new Uint8Array(0);function p(g){const[E,b,m,N]=g;return[E,b,(0,a.arrToBufArr)(m).equals(u.KECCAK256_RLP)?v:m,(0,a.arrToBufArr)(N).equals(u.KECCAK256_NULL)?v:N]}t.accountBodyToSlim=p;function O(g,E=!0){const b=E?y(g):g;return(0,a.arrToBufArr)(e.RLP.encode(b))}t.accountBodyToRLP=O})(qc);var as={};Object.defineProperty(as,"__esModule",{value:!0});as.Address=void 0;const zo=qc,fa=Ai;class ln{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new ln((0,fa.zeros)(20))}static fromString(e){if(!(0,zo.isValidAddress)(e))throw new Error("Invalid address");return new ln((0,fa.toBuffer)(e))}static fromPublicKey(e){if(!Buffer.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,zo.pubToAddress)(e);return new ln(r)}static fromPrivateKey(e){if(!Buffer.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,zo.privateToAddress)(e);return new ln(r)}static generate(e,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new ln((0,zo.generateAddress)(e.buf,(0,fa.bigIntToBuffer)(r)))}static generate2(e,r,i){if(!Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!Buffer.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new ln((0,zo.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(ln.zero())}isPrecompileOrSystemAddress(){const e=(0,fa.bufferToBigInt)(this.buf),r=BigInt(0),i=BigInt("0xffff");return e>=r&&e<=i}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return Buffer.from(this.buf)}}as.Address=ln;var nf={},Kc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=void 0;const e=Ai,r=Qe;var i;(function(a){a[a.Number=0]="Number",a[a.BigInt=1]="BigInt",a[a.Buffer=2]="Buffer",a[a.PrefixedHexString=3]="PrefixedHexString"})(i=t.TypeOutput||(t.TypeOutput={}));function s(a,u){if(a===null)return null;if(a===void 0)return;if(typeof a=="string"&&!(0,r.isHexString)(a))throw new Error(`A string must be provided with a 0x-prefix, given: ${a}`);if(typeof a=="number"&&!Number.isSafeInteger(a))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const l=(0,e.toBuffer)(a);switch(u){case i.Buffer:return l;case i.BigInt:return(0,e.bufferToBigInt)(l);case i.Number:{const c=(0,e.bufferToBigInt)(l);if(c>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(c)}case i.PrefixedHexString:return(0,e.bufferToHex)(l);default:throw new Error("unknown outputType")}}t.toType=s})(Kc);Object.defineProperty(nf,"__esModule",{value:!0});nf.Withdrawal=void 0;const jp=as,gl=Ai,ft=Kc;class Yo{constructor(e,r,i,s){this.index=e,this.validatorIndex=r,this.address=i,this.amount=s}static fromWithdrawalData(e){const{index:r,validatorIndex:i,address:s,amount:a}=e,u=(0,ft.toType)(r,ft.TypeOutput.BigInt),l=(0,ft.toType)(i,ft.TypeOutput.BigInt),c=new jp.Address((0,ft.toType)(s,ft.TypeOutput.Buffer)),d=(0,ft.toType)(a,ft.TypeOutput.BigInt);return new Yo(u,l,c,d)}static fromValuesArray(e){if(e.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[r,i,s,a]=e;return Yo.fromWithdrawalData({index:r,validatorIndex:i,address:s,amount:a})}static toBufferArray(e){const{index:r,validatorIndex:i,address:s,amount:a}=e,u=(0,ft.toType)(r,ft.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,ft.toType)(r,ft.TypeOutput.Buffer),l=(0,ft.toType)(i,ft.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,ft.toType)(i,ft.TypeOutput.Buffer);let c;s instanceof jp.Address?c=s.buf:c=(0,ft.toType)(s,ft.TypeOutput.Buffer);const d=(0,ft.toType)(a,ft.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,ft.toType)(a,ft.TypeOutput.Buffer);return[u,l,c,d]}raw(){return Yo.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,gl.bigIntToHex)(this.index),validatorIndex:(0,gl.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,gl.bigIntToHex)(this.amount)}}}nf.Withdrawal=Yo;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.hashPersonalMessage=Rt.isValidSignature=Rt.fromRpcSig=Rt.toCompactSig=Rt.toRpcSig=Rt.ecrecover=Rt.ecsign=void 0;const LN=xr,N_=Xa,Kt=Ai,pl=os,$N=_r;function DN(t,e,r){const i=N_.secp256k1.sign(t,e),s=i.toCompactRawBytes(),a=Buffer.from(s.slice(0,32)),u=Buffer.from(s.slice(32,64)),l=r===void 0?BigInt(i.recovery+27):BigInt(i.recovery+35)+BigInt(r)*BigInt(2);return{r:a,s:u,v:l}}Rt.ecsign=DN;function of(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function sf(t){return t===BigInt(0)||t===BigInt(1)}const MN=function(t,e,r,i,s){const a=Buffer.concat([(0,Kt.setLengthLeft)(r,32),(0,Kt.setLengthLeft)(i,32)],64),u=of(e,s);if(!sf(u))throw new Error("Invalid signature v value");const c=N_.secp256k1.Signature.fromCompact(a).addRecoveryBit(Number(u)).recoverPublicKey(t);return Buffer.from(c.toRawBytes(!1).slice(1))};Rt.ecrecover=MN;const UN=function(t,e,r,i){const s=of(t,i);if(!sf(s))throw new Error("Invalid signature v value");return(0,Kt.bufferToHex)(Buffer.concat([(0,Kt.setLengthLeft)(e,32),(0,Kt.setLengthLeft)(r,32),(0,Kt.toBuffer)(t)]))};Rt.toRpcSig=UN;const kN=function(t,e,r,i){const s=of(t,i);if(!sf(s))throw new Error("Invalid signature v value");let a=r;return(t>BigInt(28)&&t%BigInt(2)===BigInt(1)||t===BigInt(1)||t===BigInt(28))&&(a=Buffer.from(r),a[0]|=128),(0,Kt.bufferToHex)(Buffer.concat([(0,Kt.setLengthLeft)(e,32),(0,Kt.setLengthLeft)(a,32)]))};Rt.toCompactSig=kN;const zN=function(t){const e=(0,Kt.toBuffer)(t);let r,i,s;if(e.length>=65)r=e.slice(0,32),i=e.slice(32,64),s=(0,Kt.bufferToBigInt)(e.slice(64));else if(e.length===64)r=e.slice(0,32),i=e.slice(32,64),s=BigInt((0,Kt.bufferToInt)(e.slice(32,33))>>7),i[0]&=127;else throw new Error("Invalid signature length");return s<27&&(s=s+BigInt(27)),{v:s,r,s:i}};Rt.fromRpcSig=zN;const VN=function(t,e,r,i=!0,s){if(e.length!==32||r.length!==32||!sf(of(t,s)))return!1;const a=(0,Kt.bufferToBigInt)(e),u=(0,Kt.bufferToBigInt)(r);return!(a===BigInt(0)||a>=pl.SECP256K1_ORDER||u===BigInt(0)||u>=pl.SECP256K1_ORDER||i&&u>=pl.SECP256K1_ORDER_DIV_2)};Rt.isValidSignature=VN;const FN=function(t){(0,$N.assertIsBuffer)(t);const e=Buffer.from(`Ethereum Signed Message:
${t.length}`,"utf-8");return Buffer.from((0,LN.keccak256)(Buffer.concat([e,t])))};Rt.hashPersonalMessage=FN;var O_={},I_={},af={},Ke={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.gindexChild=Ve.gindexParent=Ve.gindexSibling=Ve.concatGindices=Ve.getGindexBits=Ve.gindexIterator=Ve.getGindicesAtDepth=Ve.iterateAtDepth=Ve.countToDepth=Ve.convertGindexToBitstring=Ve.toGindexBitstring=Ve.toGindex=Ve.bitIndexBigInt=void 0;function HN(t){return t.toString(2).length-1}Ve.bitIndexBigInt=HN;function Zc(t,e){const r=BigInt(1)<<BigInt(t);if(e>=r)throw new Error(`index ${e} too large for depth ${t}`);return r|e}Ve.toGindex=Zc;function WN(t,e){const r=e?Number(e).toString(2):"";if(r.length>t)throw new Error("index too large for depth");return"1"+r.padStart(t,"0")}Ve.toGindexBitstring=WN;function jN(t){if(typeof t=="string"){if(t.length===0)throw new Error(io);return t}else{if(t<1)throw new Error(io);return t.toString(2)}}Ve.convertGindexToBitstring=jN;function qN(t){return t<=1?0:(t-BigInt(1)).toString(2).length}Ve.countToDepth=qN;function GN(t,e,r){const i=BigInt(1)<<BigInt(t);if(e+r>i)throw new Error("Too large for depth");let s=Zc(t,e);const a=s+r;return{[Symbol.iterator](){return{next(){if(s<a){const u=s;return s++,{done:!1,value:u}}else return{done:!0,value:void 0}}}}}}Ve.iterateAtDepth=GN;function KN(t,e,r){const i=BigInt(1)<<BigInt(t);if(e+r>i)throw new Error("Too large for depth");let s=Zc(t,BigInt(e));const a=[];for(let u=0;u<r;u++)a.push(s++);return a}Ve.getGindicesAtDepth=KN;const io="Invalid gindex";function ZN(t){let e;if(typeof t=="string"){if(!t.length)throw new Error(io);e=t}else{if(t<1)throw new Error(io);e=t.toString(2)}let r=1;const i=()=>{if(r===e.length)return{done:!0,value:void 0};const s=Number(e[r]);return r++,{done:!1,value:s}};return{[Symbol.iterator](){return{next:i}},remainingBitLength(){return e.length-r}}}Ve.gindexIterator=ZN;function YN(t){let e;if(typeof t=="string"){if(!t.length)throw new Error(io);e=t}else{if(t<1)throw new Error(io);e=t.toString(2)}const r=[];for(let i=1;i<e.length;i++)r.push(Number(e[i]));return r}Ve.getGindexBits=YN;function JN(t){return BigInt(t.reduce((e,r)=>e+r.toString(2).slice(1),"0b1"))}Ve.concatGindices=JN;function XN(t){return t^BigInt(1)}Ve.gindexSibling=XN;function QN(t){return t/BigInt(2)}Ve.gindexParent=QN;function eO(t,e){return t*BigInt(2)+BigInt(e)}Ve.gindexChild=eO;var fs={},ff={};const tO=FT(lA);var bi={},oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.byteArrayToHashObject=oo.hashObjectToByteArray=void 0;function rO(t,e,r){let i=t.h0;e[0+r]=i&255,i=i>>8,e[1+r]=i&255,i=i>>8,e[2+r]=i&255,i=i>>8,e[3+r]=i&255,i=t.h1,e[4+r]=i&255,i=i>>8,e[5+r]=i&255,i=i>>8,e[6+r]=i&255,i=i>>8,e[7+r]=i&255,i=t.h2,e[8+r]=i&255,i=i>>8,e[9+r]=i&255,i=i>>8,e[10+r]=i&255,i=i>>8,e[11+r]=i&255,i=t.h3,e[12+r]=i&255,i=i>>8,e[13+r]=i&255,i=i>>8,e[14+r]=i&255,i=i>>8,e[15+r]=i&255,i=t.h4,e[16+r]=i&255,i=i>>8,e[17+r]=i&255,i=i>>8,e[18+r]=i&255,i=i>>8,e[19+r]=i&255,i=t.h5,e[20+r]=i&255,i=i>>8,e[21+r]=i&255,i=i>>8,e[22+r]=i&255,i=i>>8,e[23+r]=i&255,i=t.h6,e[24+r]=i&255,i=i>>8,e[25+r]=i&255,i=i>>8,e[26+r]=i&255,i=i>>8,e[27+r]=i&255,i=t.h7,e[28+r]=i&255,i=i>>8,e[29+r]=i&255,i=i>>8,e[30+r]=i&255,i=i>>8,e[31+r]=i&255}oo.hashObjectToByteArray=rO;function nO(t){let e=0;e|=t[3]&255,e=e<<8,e|=t[2]&255,e=e<<8,e|=t[1]&255,e=e<<8,e|=t[0]&255;const r=e;e=0,e|=t[7]&255,e=e<<8,e|=t[6]&255,e=e<<8,e|=t[5]&255,e=e<<8,e|=t[4]&255;const i=e;e=0,e|=t[11]&255,e=e<<8,e|=t[10]&255,e=e<<8,e|=t[9]&255,e=e<<8,e|=t[8]&255;const s=e;e=0,e|=t[15]&255,e=e<<8,e|=t[14]&255,e=e<<8,e|=t[13]&255,e=e<<8,e|=t[12]&255;const a=e;e=0,e|=t[19]&255,e=e<<8,e|=t[18]&255,e=e<<8,e|=t[17]&255,e=e<<8,e|=t[16]&255;const u=e;e=0,e|=t[23]&255,e=e<<8,e|=t[22]&255,e=e<<8,e|=t[21]&255,e=e<<8,e|=t[20]&255;const l=e;e=0,e|=t[27]&255,e=e<<8,e|=t[26]&255,e=e<<8,e|=t[25]&255,e=e<<8,e|=t[24]&255;const c=e;return e=0,e|=t[31]&255,e=e<<8,e|=t[30]&255,e=e<<8,e|=t[29]&255,e=e<<8,e|=t[28]&255,{h0:r,h1:i,h2:s,h3:a,h4:u,h5:l,h6:c,h7:e}}oo.byteArrayToHashObject=nO;Object.defineProperty(bi,"__esModule",{value:!0});bi.uint8ArrayToHashObject=bi.hashObjectToUint8Array=void 0;const C_=oo;function iO(t){const e=new Uint8Array(32);return C_.hashObjectToByteArray(t,e,0),e}bi.hashObjectToUint8Array=iO;function oO(t){return C_.byteArrayToHashObject(t)}bi.uint8ArrayToHashObject=oO;Object.defineProperty(ff,"__esModule",{value:!0});ff.hasher=void 0;const sO=tO,yl=bi,qp=(t,e)=>sO.sha256.create().update(t).update(e).digest();ff.hasher={digest64:qp,digest64HashObjects:(t,e)=>yl.uint8ArrayToHashObject(qp(yl.hashObjectToUint8Array(t),yl.hashObjectToUint8Array(e)))};var R_={};Object.defineProperty(R_,"__esModule",{value:!0});(function(t){var e=ut&&ut.__createBinding||(Object.create?function(a,u,l,c){c===void 0&&(c=l),Object.defineProperty(a,c,{enumerable:!0,get:function(){return u[l]}})}:function(a,u,l,c){c===void 0&&(c=l),a[c]=u[l]}),r=ut&&ut.__exportStar||function(a,u){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&e(u,a,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.setHasher=t.hasher=void 0;const i=ff;r(R_,t),r(bi,t),t.hasher=i.hasher;function s(a){t.hasher=a}t.setHasher=s})(fs);var et={};Object.defineProperty(et,"__esModule",{value:!0});et.bitwiseOrNodeH=et.setNodeH=et.getNodeH=et.compose=et.identity=et.LeafNode=et.BranchNode=et.Node=void 0;const Ca=fs,Gp=2**32;class Yc{constructor(e,r,i,s,a,u,l,c){this.h0=e,this.h1=r,this.h2=i,this.h3=s,this.h4=a,this.h5=u,this.h6=l,this.h7=c}applyHash(e){this.h0=e.h0,this.h1=e.h1,this.h2=e.h2,this.h3=e.h3,this.h4=e.h4,this.h5=e.h5,this.h6=e.h6,this.h7=e.h7}}et.Node=Yc;class aO extends Yc{constructor(e,r){if(super(null,0,0,0,0,0,0,0),this._left=e,this._right=r,!e)throw new Error("Left node is undefined");if(!r)throw new Error("Right node is undefined")}get rootHashObject(){return this.h0===null&&super.applyHash(Ca.hasher.digest64HashObjects(this.left.rootHashObject,this.right.rootHashObject)),this}get root(){return Ca.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this._left}get right(){return this._right}}et.BranchNode=aO;class Zi extends Yc{static fromRoot(e){return this.fromHashObject(Ca.uint8ArrayToHashObject(e))}static fromHashObject(e){return new Zi(e.h0,e.h1,e.h2,e.h3,e.h4,e.h5,e.h6,e.h7)}static fromZero(){return new Zi(0,0,0,0,0,0,0,0)}static fromUint32(e){return new Zi(e,0,0,0,0,0,0,0)}clone(){return Zi.fromHashObject(this)}get rootHashObject(){return this}get root(){return Ca.hashObjectToUint8Array(this)}isLeaf(){return!0}get left(){throw Error("LeafNode has no left node")}get right(){throw Error("LeafNode has no right node")}writeToBytes(e,r,i){e.set(this.root.slice(0,i),r)}getUint(e,r,i){const s=Math.floor(r/4);if(e<4){const a=r%4*8,u=Mr(this,s);return e===1?255&u>>a:65535&u>>a}else{if(e===4)return Mr(this,s)>>>0;if(e===8){const a=Mr(this,s),u=Mr(this,s+1);return u===0?a>>>0:u===-1&&a===-1&&i?1/0:(a>>>0)+(u>>>0)*Gp}else throw Error("uintBytes > 8")}}getUintBigint(e,r){const i=Math.floor(r/4);if(e<4){const s=r%4*8,a=Mr(this,i);return BigInt(e===1?255&a>>s:65535&a>>s)}else{if(e===4)return BigInt(Mr(this,i)>>>0);{const s=Math.ceil(e/4);let a=BigInt(0);for(let u=0;u<s;u++)a+=BigInt(Mr(this,i+u)>>>0)<<BigInt(32*u);return a}}}setUint(e,r,i,s){const a=Math.floor(r/4);if(e<4){const u=r%4*8;let l=Mr(this,a);e===1?(l&=~(255<<u),l|=i<<u):(l&=~(65535<<u),l|=i<<u),Ur(this,a,l)}else if(e===4)Ur(this,a,i);else if(e===8)i===1/0&&s?(Ur(this,a,-1),Ur(this,a+1,-1)):(Ur(this,a,i&4294967295),Ur(this,a+1,i/Gp&4294967295));else throw Error("uintBytes > 8")}setUintBigint(e,r,i){const s=Math.floor(r/4);if(e<4){const a=Number(i),u=r%4*8;let l=Mr(this,s);e===1?(l&=~(255<<u),l|=a<<u):(l&=~(65535<<u),l|=a<<u),Ur(this,s,l)}else if(e===4)Ur(this,s,Number(i));else{const a=s+Math.ceil(e/4);for(let u=s;u<a;u++)Ur(this,u,Number(i&BigInt(4294967295))),i=i>>BigInt(32)}}bitwiseOrUint(e,r,i){const s=Math.floor(r/4);if(e<4){const a=r%4*8;ma(this,s,i<<a)}else if(e===4)ma(this,s,i);else{const a=s+Math.ceil(e/4);for(let u=s;u<a;u++)ma(this,u,i&4294967295),i>>=32}}}et.LeafNode=Zi;function fO(t){return t}et.identity=fO;function uO(t,e){return function(r){return e(t(r))}}et.compose=uO;function Mr(t,e){if(e===0)return t.h0;if(e===1)return t.h1;if(e===2)return t.h2;if(e===3)return t.h3;if(e===4)return t.h4;if(e===5)return t.h5;if(e===6)return t.h6;if(e===7)return t.h7;throw Error("hIndex > 7")}et.getNodeH=Mr;function Ur(t,e,r){if(e===0)t.h0=r;else if(e===1)t.h1=r;else if(e===2)t.h2=r;else if(e===3)t.h3=r;else if(e===4)t.h4=r;else if(e===5)t.h5=r;else if(e===6)t.h6=r;else if(e===7)t.h7=r;else throw Error("hIndex > 7")}et.setNodeH=Ur;function ma(t,e,r){if(e===0)t.h0|=r;else if(e===1)t.h1|=r;else if(e===2)t.h2|=r;else if(e===3)t.h3|=r;else if(e===4)t.h4|=r;else if(e===5)t.h5|=r;else if(e===6)t.h6|=r;else if(e===7)t.h7|=r;else throw Error("hIndex > 7")}et.bitwiseOrNodeH=ma;var qn={},pn={},co={};Object.defineProperty(co,"__esModule",{value:!0});co.zeroNode=void 0;const P_=et,Wi=[P_.LeafNode.fromZero()];function lO(t){if(t>=Wi.length)for(let e=Wi.length;e<=t;e++)Wi[e]=new P_.BranchNode(Wi[e-1],Wi[e-1]);return Wi[t]}co.zeroNode=lO;Object.defineProperty(pn,"__esModule",{value:!0});pn.subtreeFillToContents=pn.subtreeFillToLength=pn.subtreeFillToDepth=void 0;const Wn=et,Jo=co;function dc(t,e){let r=t;for(;e>0;)r=new Wn.BranchNode(r,r),e--;return r}pn.subtreeFillToDepth=dc;function gc(t,e,r){const i=1<<e;if(r>i)throw new Error("ERR_TOO_MANY_NODES");if(r===i)return dc(t,e);if(e===0){if(r===1)return t;throw new Error("ERR_NAVIGATION")}if(e===1)return new Wn.BranchNode(t,r>1?t:Jo.zeroNode(0));const s=i>>1;return r<=s?new Wn.BranchNode(gc(t,e-1,r),Jo.zeroNode(e-1)):new Wn.BranchNode(dc(t,e-1),gc(t,e-1,r-s))}pn.subtreeFillToLength=gc;function cO(t,e){const r=2**e;if(t.length>r)throw new Error(`nodes.length ${t.length} over maxIndex at depth ${e}`);if(t.length===0)return Jo.zeroNode(e);if(e===0)return t[0];if(e===1)return t.length>1?new Wn.BranchNode(t[0],t[1]):new Wn.BranchNode(t[0],Jo.zeroNode(0));let i=t.length;for(let s=e;s>0;s--){const a=i%2,u=i-a;for(let l=0;l<u;l+=2)t[l/2]=new Wn.BranchNode(t[l],t[l+1]);a>0&&(t[u/2]=new Wn.BranchNode(t[u],Jo.zeroNode(e-s))),i=u/2+a}return t[0]}pn.subtreeFillToContents=cO;Object.defineProperty(qn,"__esModule",{value:!0});qn.packedNodeRootsToBytes=qn.packedRootsBytesToLeafNodes=qn.packedRootsBytesToNode=void 0;const hO=pn,Yi=et;function dO(t,e,r,i){const s=L_(e,r,i);return hO.subtreeFillToContents(s,t)}qn.packedRootsBytesToNode=dO;function L_(t,e,r){const i=r-e,s=Math.floor(i/32),a=new Array(Math.ceil(i/32));for(let l=0;l<s;l++){const c=e+l*32;a[l]=new Yi.LeafNode(t.getInt32(c+0,!0),t.getInt32(c+4,!0),t.getInt32(c+8,!0),t.getInt32(c+12,!0),t.getInt32(c+16,!0),t.getInt32(c+20,!0),t.getInt32(c+24,!0),t.getInt32(c+28,!0))}const u=i%32;if(u>0){const l=new Yi.LeafNode(0,0,0,0,0,0,0,0);a[s]=l;const c=Math.floor(u/4);for(let T=0;T<c;T++)Yi.setNodeH(l,T,t.getInt32(e+s*32+T*4,!0));const d=i%4;if(d>0){let T=0;for(let I=0;I<d;I++)T|=t.getUint8(e+i-d+I)<<I*8;Yi.setNodeH(l,c,T)}}return a}qn.packedRootsBytesToLeafNodes=L_;function gO(t,e,r,i){const s=r%32,a=Math.floor(r/32);for(let u=0;u<a;u++){const l=i[u],c=e+u*32;t.setInt32(c+0,l.h0,!0),t.setInt32(c+4,l.h1,!0),t.setInt32(c+8,l.h2,!0),t.setInt32(c+12,l.h3,!0),t.setInt32(c+16,l.h4,!0),t.setInt32(c+20,l.h5,!0),t.setInt32(c+24,l.h6,!0),t.setInt32(c+28,l.h7,!0)}if(s>0){const u=i[a],l=Math.floor(s/4);for(let d=0;d<l;d++)t.setInt32(e+a*32+d*4,Yi.getNodeH(u,d),!0);const c=r%4;if(c>0){const d=Yi.getNodeH(u,l);for(let T=0;T<c;T++)t.setUint8(e+r-c+T,d>>T*8&255)}}}qn.packedNodeRootsToBytes=gO;var _l={},ui={},ot={},Jc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeFromSingleProof=t.createSingleProof=t.ERR_INVALID_NAV=void 0;const e=et,r=Ve;t.ERR_INVALID_NAV="Invalid tree navigation";function i(a,u){const l=[];let c=a;for(const d of r.gindexIterator(u))if(d){if(c.isLeaf())throw new Error(t.ERR_INVALID_NAV);l.push(c.left.root),c=c.right}else{if(c.isLeaf())throw new Error(t.ERR_INVALID_NAV);l.push(c.right.root),c=c.left}return[c.root,l.reverse()]}t.createSingleProof=i;function s(a,u,l){let c=e.LeafNode.fromRoot(u);const d=l.slice().reverse();for(;a>1;){const T=e.LeafNode.fromRoot(d.pop());a%BigInt(2)===BigInt(0)?c=new e.BranchNode(c,T):c=new e.BranchNode(T,c),a=a/BigInt(2)}return c}t.createNodeFromSingleProof=s})(Jc);var Kp;function $_(){if(Kp)return ot;Kp=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.treeZeroAfterIndex=ot.iterateNodesAtDepth=ot.getNodesAtDepth=ot.setNodesAtDepth=ot.setNodeAtDepth=ot.getNodeAtDepth=ot.setNodeWithFn=ot.setNode=ot.getNode=ot.Tree=void 0;const t=co,e=Ve,r=et,i=D_(),s=Jc;class a{constructor(w,V){this._rootNode=w,V&&(typeof WeakRef>"u"?this.hook=V:this.hook=new WeakRef(V))}static createFromProof(w){return new a(i.createNodeFromProof(w))}get rootNode(){return this._rootNode}set rootNode(w){if(this._rootNode=w,this.hook)if(typeof WeakRef>"u")this.hook(w);else{const V=this.hook.deref();V?V(w):this.hook=void 0}}get root(){return this.rootNode.root}clone(){return new a(this.rootNode)}getSubtree(w){return new a(this.getNode(w),V=>this.setNode(w,V))}getNode(w){return u(this.rootNode,w)}getNodeAtDepth(w,V){return I(this.rootNode,w,V)}getRoot(w){return this.getNode(w).root}setNode(w,V){this.rootNode=l(this.rootNode,w,V)}setNodeWithFn(w,V){this.rootNode=c(this.rootNode,w,V)}setNodeAtDepth(w,V,q){this.rootNode=D(this.rootNode,w,V,q)}setRoot(w,V){this.setNode(w,r.LeafNode.fromRoot(V))}getNodesAtDepth(w,V,q){return H(this.rootNode,w,V,q)}iterateNodesAtDepth(w,V,q){return ee(this.rootNode,w,V,q)}getSingleProof(w){return s.createSingleProof(this.rootNode,w)[1]}getProof(w){return i.createProof(this.rootNode,w)}}ot.Tree=a;function u(F,w){const V=e.convertGindexToBitstring(w);let q=F;for(let Z=1;Z<V.length;Z++){if(q.isLeaf())throw new Error(`Invalid tree - found leaf at depth ${Z}`);q=V[Z]==="1"?q.right:q.left}return q}ot.getNode=u;function l(F,w,V){const q=e.convertGindexToBitstring(w),Z=d(F,q);return T(q,Z,V)}ot.setNode=l;function c(F,w,V){const q=e.convertGindexToBitstring(w),Z=d(F,q),y=Z[Z.length-1],p=q[q.length-1]==="1"?y.right:y.left,O=V(p);return T(q,Z,O)}ot.setNodeWithFn=c;function d(F,w){let V=F;const q=[F];for(let Z=1;Z<w.length-1;Z++)w[Z]==="1"?V=V.right:V=V.left,q.push(V);return q}function T(F,w,V){let q=V;for(let Z=F.length-1;Z>=1;Z--)F[Z]==="1"?q=new r.BranchNode(w[Z-1].left,q):q=new r.BranchNode(q,w[Z-1].right);return q}function I(F,w,V){if(w===0)return F;if(w===1)return V===0?F.left:F.right;const q=w-1,Z=0;let y=F;for(let v=q;v>=Z;v--)y=J(v,V)?y.left:y.right;return y}ot.getNodeAtDepth=I;function D(F,w,V,q){return U(F,w,[V],[q])}ot.setNodeAtDepth=D;function U(F,w,V,q){if(w===0)return q.length>0?q[0]:F;const Z=new Array(w),y=new Array(w),v=w-1,p=0;let O=v,g=F;Z[v]=F;for(let E=0;E<V.length;E++){const b=V[E];for(let R=O;R>p;R--)g=J(R,b)?g.left:g.right,Z[R-1]=g;O=p,(b&1)!==1?b+1===V[E+1]?(g=new r.BranchNode(q[E],q[E+1]),E++):g=new r.BranchNode(q[E],g.right):g=new r.BranchNode(g.left,q[E]);const N=E>=V.length-1,C=N?v:S(b,V[E+1]);for(let R=p+1;R<=C;R++)if(J(R,b))N||R!==C?g=new r.BranchNode(g,Z[R].right):(y[R]=g,g=Z[R]);else{const L=y[R];L!==void 0?(g=new r.BranchNode(L,g),y[R]=void 0):g=new r.BranchNode(Z[R].left,g)}O=C}return g}ot.setNodesAtDepth=U;function H(F,w,V,q){if(w===0)return V===0&&q>0?[F]:[];if(w===1)return q===0?[]:q===1?V===0?[F.left]:[F.right]:[F.left,F.right];const Z=w-1,y=0;let v=Z,p=F;const O=new Array(w),g=new Array(w),E=new Array(q);O[Z]=F;for(let b=0;b<q;b++){for(let m=v;m>=y;m--){m!==v&&(O[m]=p);const N=J(m,V+b);g[m]=N,p=N?p.left:p.right}E[b]=p;for(let m=y;m<=Z;m++)if(g[m]===!0){v=m;break}p=O[v]}return E}ot.getNodesAtDepth=H;function*ee(F,w,V,q){const Z=V+q,y=w-1,v=0;let p=y,O=F;const g=new Array(w),E=new Array(w);g[y]=F;for(let b=V;b<Z;b++){for(let m=p;m>=v;m--){m!==p&&(g[m]=O);const N=J(m,b);E[m]=N,O=N?O.left:O.right}yield O;for(let m=v;m<=y;m++)if(E[m]===!0){p=m;break}O=g[p]}}ot.iterateNodesAtDepth=ee;function X(F,w,V){if(V<0)return t.zeroNode(w);const q=new Array(w),Z=w-1,y=0;let v=Z,p=F;q[Z]=F;for(let O=v;O>=y;O--)p=J(O,V)?p.left:p.right,q[O-1]=p;v=y;for(let O=y;O<=Z;O++)J(O,V)?p=new r.BranchNode(p,t.zeroNode(O)):p=new r.BranchNode(q[O].left,p);return p}ot.treeZeroAfterIndex=X;function J(F,w){if(F>31){const q=w/4294967296>>>0,Z=1<<F-32;return(q&Z)!==Z}const V=1<<F;return(w&V)!==V}function S(F,w){return Math.ceil(Math.log2(-~(F^w)))-1}return ot}var uf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.computeMultiProofBitstrings=t.SortOrder=t.filterParentBitstrings=t.sortDecreasingBitstrings=t.sortInOrderBitstrings=t.computeProofBitstrings=t.computeProofGindices=void 0;const e=Ve;function r(d){const T=new Set,I=new Set;let D=d;for(;D>1;)T.add(D),I.add(e.gindexSibling(D)),D=e.gindexParent(D);return{path:T,branch:I}}t.computeProofGindices=r;function i(d){const T=new Set,I=new Set;let D=d;for(;D.length>1;){T.add(D);const U=D[D.length-1],H=D.substring(0,D.length-1);I.add(H+(Number(U)^1)),D=H}return{path:T,branch:I}}t.computeProofBitstrings=i;function s(d,T){return d.length?d.map(I=>I.padEnd(T)).sort().map(I=>I.trim()):[]}t.sortInOrderBitstrings=s;function a(d){return d.length?d.sort((T,I)=>{if(T.length<I.length)return 1;if(I.length<T.length)return-1;let D=T.indexOf("0"),U=I.indexOf("0");for(;;){if(D===-1)return-1;if(U===-1||D<U)return 1;if(U<D)return-1;D=T.indexOf("0",D+1),U=I.indexOf("0",U+1)}}):[]}t.sortDecreasingBitstrings=a;function u(d){const T=d.slice().sort((D,U)=>D.length-U.length),I=[];e:for(let D=0;D<T.length;D++){const U=T[D];for(let H=D+1;H<T.length;H++)if(T[H].startsWith(U))continue e;I.push(U)}return I}t.filterParentBitstrings=u;var l;(function(d){d[d.InOrder=0]="InOrder",d[d.Decreasing=1]="Decreasing",d[d.Unsorted=2]="Unsorted"})(l=t.SortOrder||(t.SortOrder={}));function c(d,T=!0,I=l.InOrder){const D=u(d),U=new Set(T?D:[]),H=new Set,ee=new Set;let X=1;for(const J of D){J.length>X&&(X=J.length);const{path:S,branch:F}=i(J);S.forEach(w=>H.add(w)),F.forEach(w=>ee.add(w))}switch(H.forEach(J=>ee.delete(J)),ee.forEach(J=>U.add(J)),I){case l.InOrder:return s(Array.from(U),X);case l.Decreasing:return a(Array.from(U));case l.Unsorted:return Array.from(U)}}t.computeMultiProofBitstrings=c})(uf);var Zp;function pO(){if(Zp)return ui;Zp=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.createNodeFromMultiProof=ui.createMultiProof=void 0;const t=et,e=$_(),r=uf;function i(a,u){const l=new e.Tree(a),c=r.computeMultiProofBitstrings(u.map(D=>D.toString(2)),!1,r.SortOrder.Decreasing),d=u.slice().sort((D,U)=>D<U?1:-1),T=d.map(D=>l.getRoot(D)),I=c.map(D=>l.getRoot(D));return[T,I,d]}ui.createMultiProof=i;function s(a,u,l){var U,H;if(a.length!==l.length)throw new Error("Leaves length should equal gindices length");const c=l.map(ee=>ee.toString(2)),d=r.computeMultiProofBitstrings(c,!1,r.SortOrder.Decreasing);if(d.length!==u.length)throw new Error("Witnesses length should equal witnesses gindices length");const T=Math.max(((U=c[0])==null?void 0:U.length)??0,((H=d[0])==null?void 0:H.length)??0),I=Object.fromEntries(Array.from({length:T},(ee,X)=>[X+1,{}]));for(let ee=0;ee<c.length;ee++){const X=c[ee],J=a[ee];I[X.length][X]=t.LeafNode.fromRoot(J)}for(let ee=0;ee<d.length;ee++){const X=d[ee],J=u[ee];I[X.length][X]=t.LeafNode.fromRoot(J)}for(let ee=T;ee>1;ee--){const X=I[ee],J=I[ee-1];for(const S of Object.keys(X)){const F=X[S];if(!F)continue;const w=S[S.length-1]==="0",V=S.substring(0,S.length-1),q=V+(w?"1":"0"),Z=X[q];if(!Z)throw new Error(`Sibling not found: ${q}`);const y=w?new t.BranchNode(F,Z):new t.BranchNode(Z,F);J[V]=y,delete X[S],delete X[q]}}const D=I[1][1];if(!D)throw new Error("Internal consistency error: no root found");return D}return ui.createNodeFromMultiProof=s,ui}var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.createNodeFromCompactMultiProof=kt.createCompactMultiProof=kt.compactMultiProofToNode=kt.nodeToCompactMultiProof=kt.descriptorToBitlist=kt.computeDescriptor=void 0;const yO=Ve,Yp=et,_O=uf;function wO(t){const e=new Set,r=new Set;for(const u of t){const l=yO.convertGindexToBitstring(u);e.add(l);const{branch:c,path:d}=_O.computeProofBitstrings(l);d.delete(l);for(const T of d)r.add(T);for(const T of c)e.add(T)}for(const u of r)e.delete(u);const i=Array.from(e).sort((u,l)=>u.localeCompare(l));let s="";for(const u of i)for(let l=0;l<u.length;l++)if(u[u.length-1-l]==="1"){s+="1".padStart(l+1,"0");break}s.length%8!=0&&(s=s.padEnd(8-s.length%8+s.length,"0"));const a=new Uint8Array(s.length/8);for(let u=0;u<a.length;u++)a[u]=+("0b"+s.substring(u*8,(u+1)*8));return a}kt.computeDescriptor=wO;function Jp(t,e){const r=e%8,i=Math.floor(e/8),s=t[i];switch(r){case 0:return(s&128)!==0;case 1:return(s&64)!==0;case 2:return(s&32)!==0;case 3:return(s&16)!==0;case 4:return(s&8)!==0;case 5:return(s&4)!==0;case 6:return(s&2)!==0;case 7:return(s&1)!==0;default:throw new Error("unreachable")}}function Xc(t){const e=[],r=t.length*8;let i=0,s=0;for(let a=0;a<r;a++){const u=Jp(t,a);if(e.push(u),u?s++:i++,s>i){if(a++,a+7<r)throw new Error("Invalid descriptor: too many bytes");for(;a<r;a++)if(Jp(t,a))throw new Error("Invalid descriptor: too many 1 bits");return e}}throw new Error("Invalid descriptor: not enough 1 bits")}kt.descriptorToBitlist=Xc;function Ra(t,e,r){if(e[r])return[t.root];{const i=Ra(t.left,e,r+1),s=Ra(t.right,e,r+i.length*2);return[...i,...s]}}kt.nodeToCompactMultiProof=Ra;function Pa(t,e,r){return t[r.bitIndex++]?Yp.LeafNode.fromRoot(e[r.leafIndex++]):new Yp.BranchNode(Pa(t,e,r),Pa(t,e,r))}kt.compactMultiProofToNode=Pa;function bO(t,e){return Ra(t,Xc(e),0)}kt.createCompactMultiProof=bO;function mO(t,e){const r=Xc(e);if(r.length!==t.length*2-1)throw new Error("Invalid multiproof: invalid number of leaves");return Pa(r,t,{bitIndex:0,leafIndex:0})}kt.createNodeFromCompactMultiProof=mO;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.deserializeTreeOffsetProof=Pt.serializeTreeOffsetProof=Pt.computeTreeOffsetProofSerializedLength=Pt.createNodeFromTreeOffsetProof=Pt.createTreeOffsetProof=Pt.treeOffsetProofToNode=Pt.nodeToTreeOffsetProof=void 0;const Xp=et,vO=uf;function La(t,e,r){if(!r.length||!r[0].startsWith(e))return[[],[]];if(e===r[0])return r.shift(),[[],[t.root]];{const[i,s]=La(t.left,e+"0",r),[a,u]=La(t.right,e+"1",r);return[[s.length].concat(i,a),s.concat(u)]}}Pt.nodeToTreeOffsetProof=La;function $a(t,e){if(e.length){if(e.length===1)return Xp.LeafNode.fromRoot(e[0]);{const r=t[0];return new Xp.BranchNode($a(t.slice(1,r),e.slice(0,r)),$a(t.slice(r),e.slice(r)))}}else throw new Error("Proof must contain gt 0 leaves")}Pt.treeOffsetProofToNode=$a;function EO(t,e){return La(t,"1",vO.computeMultiProofBitstrings(e.map(r=>r.toString(2))))}Pt.createTreeOffsetProof=EO;function SO(t,e){return $a(t,e)}Pt.createNodeFromTreeOffsetProof=SO;function TO(t,e){return(t.length+1)*2+e.length*32}Pt.computeTreeOffsetProofSerializedLength=TO;function AO(t,e,r,i){const s=new DataView(t.buffer,t.byteOffset,t.byteLength);s.setUint16(e,i.length,!0);const a=e+2;for(let l=0;l<r.length;l++)s.setUint16(l*2+a,r[l],!0);const u=a+r.length*2;for(let l=0;l<i.length;l++)t.set(i[l],l*32+u)}Pt.serializeTreeOffsetProof=AO;function BO(t,e){const r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=r.getUint16(e,!0);if(t.length<(i-1)*2+i*32)throw new Error("Unable to deserialize tree offset proof: not enough bytes");const s=e+2,a=Array.from({length:i-1},(c,d)=>r.getUint16(d*2+s,!0)),u=s+a.length*2,l=Array.from({length:i},(c,d)=>t.subarray(d*32+u,(d+1)*32+u));return[a,l]}Pt.deserializeTreeOffsetProof=BO;var Qp;function D_(){return Qp||(Qp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeProof=t.serializeProof=t.createNodeFromProof=t.createProof=t.ProofTypeSerialized=t.ProofType=t.descriptorToBitlist=t.computeDescriptor=void 0;const e=pO(),r=kt,i=Jc,s=Pt;var a=kt;Object.defineProperty(t,"computeDescriptor",{enumerable:!0,get:function(){return a.computeDescriptor}}),Object.defineProperty(t,"descriptorToBitlist",{enumerable:!0,get:function(){return a.descriptorToBitlist}});var u;(function(I){I.single="single",I.treeOffset="treeOffset",I.multi="multi",I.compactMulti="compactMulti"})(u=t.ProofType||(t.ProofType={})),t.ProofTypeSerialized=[u.single,u.treeOffset,u.multi,u.compactMulti];function l(I,D){switch(D.type){case u.single:{const[U,H]=i.createSingleProof(I,D.gindex);return{type:u.single,gindex:D.gindex,leaf:U,witnesses:H}}case u.treeOffset:{const[U,H]=s.createTreeOffsetProof(I,D.gindices);return{type:u.treeOffset,offsets:U,leaves:H}}case u.multi:{const[U,H,ee]=e.createMultiProof(I,D.gindices);return{type:u.multi,leaves:U,witnesses:H,gindices:ee}}case u.compactMulti:{const U=r.createCompactMultiProof(I,D.descriptor);return{type:u.compactMulti,leaves:U,descriptor:D.descriptor}}default:throw new Error("Invalid proof type")}}t.createProof=l;function c(I){switch(I.type){case u.single:return i.createNodeFromSingleProof(I.gindex,I.leaf,I.witnesses);case u.treeOffset:return s.createNodeFromTreeOffsetProof(I.offsets,I.leaves);case u.multi:return e.createNodeFromMultiProof(I.leaves,I.witnesses,I.gindices);case u.compactMulti:return r.createNodeFromCompactMultiProof(I.leaves,I.descriptor);default:throw new Error("Invalid proof type")}}t.createNodeFromProof=c;function d(I){switch(I.type){case u.single:case u.multi:throw new Error("Not implemented");case u.treeOffset:{const D=new Uint8Array(1+s.computeTreeOffsetProofSerializedLength(I.offsets,I.leaves));return D[0]=t.ProofTypeSerialized.indexOf(u.treeOffset),s.serializeTreeOffsetProof(D,1,I.offsets,I.leaves),D}default:throw new Error("Invalid proof type")}}t.serializeProof=d;function T(I){const D=t.ProofTypeSerialized[I[0]];if(!D)throw new Error("Invalid proof type");switch(D){case u.single:case u.multi:throw new Error("Not implemented");case u.treeOffset:{const[U,H]=s.deserializeTreeOffsetProof(I,1);return{type:u.treeOffset,offsets:U,leaves:H}}default:throw new Error("Invalid proof type")}}t.deserializeProof=T}(_l)),_l}(function(t){var e=ut&&ut.__createBinding||(Object.create?function(i,s,a,u){u===void 0&&(u=a),Object.defineProperty(i,u,{enumerable:!0,get:function(){return s[a]}})}:function(i,s,a,u){u===void 0&&(u=a),i[u]=s[a]}),r=ut&&ut.__exportStar||function(i,s){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&e(s,i,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ve,t),r(fs,t),r(et,t),r(qn,t),r(D_(),t),r(pn,t),r($_(),t),r(co,t)})(Ke);var qe={},lf={};Object.defineProperty(lf,"__esModule",{value:!0});lf.zeroHash=void 0;const xO=fs,ji=[new Uint8Array(32)];function NO(t){if(t>=ji.length)for(let e=ji.length;e<=t;e++)ji[e]=xO.hasher.digest64(ji[e-1],ji[e-1]);return ji[t]}lf.zeroHash=NO;Object.defineProperty(qe,"__esModule",{value:!0});qe.nextPowerOf2=qe.maxChunksToDepth=qe.bitLength=qe.mixInLength=qe.splitIntoRootChunks=qe.merkleize=qe.hash64=void 0;const OO=fs,ey=lf;function Qc(t,e){return OO.hasher.digest64(t,e)}qe.hash64=Qc;function IO(t,e){const r=eh(M_(e)-1);if(t.length==0)return ey.zeroHash(r);let i=t.length;for(let s=0;s<r;s++){const a=i%2,u=i+a;for(let l=0;l<a;l++)t[i+l]=ey.zeroHash(s);for(let l=0;l<u;l+=2)t[l/2]=Qc(t[l],t[l+1]);i=u/2}return t[0]}qe.merkleize=IO;function CO(t){const e=Math.ceil(t.length/32),r=new Array(e);for(let i=0;i<e;i++){const s=new Uint8Array(32);s.set(t.slice(i*32,(i+1)*32)),r[i]=s}return r}qe.splitIntoRootChunks=CO;function RO(t,e){const r=Buffer.alloc(32);return r.writeUIntLE(e,0,6),Qc(t,r)}qe.mixInLength=RO;function eh(t){return t===0?0:Math.floor(Math.log2(t))+1}qe.bitLength=eh;function PO(t){return t===0?0:Math.ceil(Math.log2(t))}qe.maxChunksToDepth=PO;function M_(t){return t<=0?1:Math.pow(2,eh(t-1))}qe.nextPowerOf2=M_;var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.namedClass=void 0;function LO(t,e){return new Function("superClass",`return class ${e} extends superClass {}`)(t)}$t.namedClass=LO;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.assertValidArrayLength=Me.value_defaultValueArray=Me.value_equals=Me.value_cloneArray=Me.value_toJsonArray=Me.value_fromJsonArray=Me.tree_deserializeFromBytesArrayBasic=Me.tree_serializeToBytesArrayBasic=Me.value_deserializeFromBytesArrayBasic=Me.value_serializeToBytesArrayBasic=Me.setChunksNode=Me.addLengthNode=Me.getChunksNodeFromRootNode=Me.getLengthFromRootNode=void 0;const mi=Ke;function $O(t){return t.right.getUint(4,0)}Me.getLengthFromRootNode=$O;function DO(t){return t.left}Me.getChunksNodeFromRootNode=DO;function U_(t,e){return new mi.BranchNode(t,mi.LeafNode.fromUint32(e))}Me.addLengthNode=U_;function MO(t,e,r){const i=r!==void 0?mi.LeafNode.fromUint32(r):t.right;return new mi.BranchNode(e,i)}Me.setChunksNode=MO;function UO(t,e,r,i,s){const a=t.byteLength;for(let u=0;u<e;u++)t.value_serializeToBytes(r,i+u*a,s[u]);return i+e*a}Me.value_serializeToBytesArrayBasic=UO;function kO(t,e,r,i,s){const a=t.byteLength,u=(i-r)/a;cf(u,s,!0);const l=new Array(u);for(let c=0;c<u;c++)l[c]=t.value_deserializeFromBytes(e,r+c*a,r+(c+1)*a);return l}Me.value_deserializeFromBytesArrayBasic=kO;function zO(t,e,r,i,s,a){const u=t.byteLength*e,l=Math.ceil(u/32),c=mi.getNodesAtDepth(a,r,0,l);return mi.packedNodeRootsToBytes(i.dataView,s,u,c),s+u}Me.tree_serializeToBytesArrayBasic=zO;function VO(t,e,r,i,s,a){const u=(s-i)/t.byteLength;cf(u,a,!0);const l=mi.packedRootsBytesToNode(e,r.dataView,i,s);return a.isList?U_(l,u):l}Me.tree_deserializeFromBytesArrayBasic=VO;function FO(t,e,r){if(!Array.isArray(e))throw Error("JSON is not an array");cf(e.length,r);const i=new Array(e.length);for(let s=0;s<e.length;s++)i[s]=t.fromJson(e[s]);return i}Me.value_fromJsonArray=FO;function HO(t,e,r){const i=r.isList?e.length:r.length,s=new Array(i);for(let a=0;a<i;a++)s[a]=t.toJson(e[a]);return s}Me.value_toJsonArray=HO;function WO(t,e){const r=new Array(e.length);for(let i=0;i<e.length;i++)r[i]=t.clone(e[i]);return r}Me.value_cloneArray=WO;function jO(t,e,r){if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(!t.equals(e[i],r[i]))return!1;return!0}Me.value_equals=jO;function qO(t,e){const r=new Array(e);for(let i=0;i<e;i++)r[i]=t.defaultValue();return r}Me.value_defaultValueArray=qO;function cf(t,e,r){if(r&&t%1!==0)throw Error("size not multiple of element fixedSize");if(e.isList){if(t>e.limit)throw new Error(`Invalid list length ${t} over limit ${e.limit}`)}else if(t!==e.length)throw new Error(`Incorrect vector length ${t} expected ${e.length}`)}Me.assertValidArrayLength=cf;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.getUint8ByteToBitBooleanArray=Gn.BitArray=void 0;const wl=new Array(256);class Ji{constructor(e,r){if(this.uint8Array=e,this.bitLen=r,e.length!==Math.ceil(r/8))throw Error("BitArray uint8Array length does not match bitLen")}static fromBitLen(e){return new Ji(new Uint8Array(Math.ceil(e/8)),e)}static fromSingleBit(e,r){const i=Ji.fromBitLen(e);return i.set(r,!0),i}static fromBoolArray(e){const r=Ji.fromBitLen(e.length);for(let i=0;i<e.length;i++)e[i]===!0&&r.set(i,!0);return r}clone(){return new Ji(Uint8Array.prototype.slice.call(this.uint8Array,0),this.bitLen)}get(e){const r=Math.floor(e/8),s=1<<e%8;return(this.uint8Array[r]&s)===s}set(e,r){if(e>=this.bitLen)throw Error(`BitArray set bitIndex ${e} beyond bitLen ${this.bitLen}`);const i=Math.floor(e/8),a=1<<e%8;let u=this.uint8Array[i];r?(u|=a,this.uint8Array[i]=u):(u&a)===a&&(u^=a,this.uint8Array[i]=u)}mergeOrWith(e){if(e.bitLen!==this.bitLen)throw Error("Must merge BitArrays of same bitLen");for(let r=0;r<this.uint8Array.length;r++)this.uint8Array[r]=this.uint8Array[r]|e.uint8Array[r]}intersectValues(e){const r=[];if(e.length!==this.bitLen)throw Error(`Must not intersect values of length ${e.length} != bitLen ${this.bitLen}`);const i=Math.floor(this.bitLen/8),s=this.bitLen%8,a=this.uint8Array;for(let u=0;u<i;u++){const l=Go(a[u]);for(let c=0;c<8;c++)l[c]&&r.push(e[u*8+c])}if(s>0){const u=Go(a[i]);for(let l=0;l<s;l++)u[l]&&r.push(e[i*8+l])}return r}getTrueBitIndexes(){const e=[],r=this.uint8Array;for(let i=0,s=r.length;i<s;i++){const a=Go(r[i]);for(let u=0;u<8;u++)a[u]&&e.push(i*8+u)}return e}getSingleTrueBit(){let e=null;const r=this.uint8Array;for(let i=0,s=r.length;i<s;i++){if(r[i]===0)continue;const a=Go(r[i]);for(let u=0;u<8;u++)if(a[u]===!0){if(e!==null)return null;e=i*8+u}}return e===null?null:e}toBoolArray(){const e=new Array(this.bitLen);for(let r=0;r<this.bitLen;r++)e[r]=this.get(r);return e}}Gn.BitArray=Ji;function Go(t){return wl[t]||(wl[t]=GO(t)),wl[t]}Gn.getUint8ByteToBitBooleanArray=Go;function GO(t){const e=t.toString(2),r=e.length,i=new Array(8);for(let s=0;s<8;s++)i[s]=s<r?e[r-s-1]==="1":!1;return i}var ho={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.byteArrayEquals=Nr.fromHexString=Nr.toHexString=void 0;const bl=new Array(256);function KO(t){let e="0x";for(const r of t)bl[r]||(bl[r]=r<16?"0"+r.toString(16):r.toString(16)),e+=bl[r];return e}Nr.toHexString=KO;function ZO(t){if(typeof t!="string")throw new Error(`hex argument type ${typeof t} must be of type string`);if(t.startsWith("0x")&&(t=t.slice(2)),t.length%2!==0)throw new Error(`hex string length ${t.length} must be multiple of 2`);const e=t.length/2,r=new Uint8Array(e);for(let i=0;i<e;i++){const s=parseInt(t.slice(i*2,(i+1)*2),16);r[i]=s}return r}Nr.fromHexString=ZO;function YO(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}Nr.byteArrayEquals=YO;var At={},hf={};Object.defineProperty(hf,"__esModule",{value:!0});hf.treePostProcessFromProofNode=void 0;const JO=Ke;function ty(t){return!t.isBasic}function va(t,e,r="",i=0){if(i===0){const a=e.tree_fromProofNode(t);if(a.done)return a.node;t=a.node}const s=e.depth===i;if(t.isLeaf())if(s){const a=e.getIndexProperty(ry(r));if(a===null)return t;const u=e.getPropertyType(a);return u.maxChunkCount===1&&ty(u)?u.tree_fromProofNode(t).node:t}else return t;else if(s){const a=e.getIndexProperty(ry(r));if(a===null)return t;const u=e.getPropertyType(a);if(!ty(u))throw Error("BranchNode does not map to CompositeType");const l=u.tree_fromProofNode(t);return l.done?l.node:va(l.node,u)}else{const a=va(t.left,e,r+"0",i+1),u=va(t.right,e,r+"1",i+1);return a===t.left&&u===t.right?t:new JO.BranchNode(a,u)}}hf.treePostProcessFromProofNode=va;function ry(t){return t===""?0:parseInt(t,2)}var go={};Object.defineProperty(go,"__esModule",{value:!0});go.Type=void 0;class XO{value_toTree(e){const r=new Uint8Array(this.value_serializedSize(e)),i=new DataView(r.buffer,r.byteOffset,r.byteLength);return this.value_serializeToBytes({uint8Array:r,dataView:i},0,e),this.tree_deserializeFromBytes({uint8Array:r,dataView:i},0,r.length)}tree_toValue(e){const r=new Uint8Array(this.tree_serializedSize(e)),i=new DataView(r.buffer,r.byteOffset,r.byteLength);return this.tree_serializeToBytes({uint8Array:r,dataView:i},0,e),this.value_deserializeFromBytes({uint8Array:r,dataView:i},0,r.length)}serialize(e){const r=new Uint8Array(this.value_serializedSize(e)),i=new DataView(r.buffer,r.byteOffset,r.byteLength);return this.value_serializeToBytes({uint8Array:r,dataView:i},0,e),r}deserialize(e){const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.value_deserializeFromBytes({uint8Array:e,dataView:r},0,e.length)}}go.Type=XO;Object.defineProperty(At,"__esModule",{value:!0});At.isCompositeType=At.CompositeType=At.LENGTH_GINDEX=void 0;const an=Ke,QO=Nr,eI=qe,tI=hf,rI=go;At.LENGTH_GINDEX=BigInt(3);const ml=Symbol("ssz_cached_permanent_root");class nI extends rI.Type{constructor(e){super(),this.cachePermanentRootStruct=e,this.isBasic=!1}defaultView(){return this.toView(this.defaultValue())}defaultViewDU(){return this.toViewDU(this.defaultValue())}deserializeToView(e){const r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=this.tree_deserializeFromBytes({uint8Array:e,dataView:r},0,e.length);return this.getView(new an.Tree(i))}deserializeToViewDU(e){const r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=this.tree_deserializeFromBytes({uint8Array:e,dataView:r},0,e.length);return this.getViewDU(i)}toView(e){const r=this.value_toTree(e);return this.getView(new an.Tree(r))}toViewDU(e){const r=this.value_toTree(e);return this.getViewDU(r)}toValueFromView(e){const r=this.commitView(e);return this.tree_toValue(r)}toValueFromViewDU(e){const r=this.commitViewDU(e);return this.tree_toValue(r)}toViewFromViewDU(e){const r=this.commitViewDU(e);return this.getView(new an.Tree(r))}toViewDUFromView(e){const r=this.commitView(e);return this.getViewDU(r)}hashTreeRoot(e){if(this.cachePermanentRootStruct){const i=e[ml];if(i)return i}const r=eI.merkleize(this.getRoots(e),this.maxChunkCount);return this.cachePermanentRootStruct&&(e[ml]=r),r}getCachedPermanentRoot(e){return e[ml]}createFromProof(e,r){const i=an.Tree.createFromProof(e).rootNode,s=tI.treePostProcessFromProofNode(i,this);if(r!==void 0&&!QO.byteArrayEquals(s.root,r))throw new Error("Proof does not match trusted root");return this.getView(new an.Tree(s))}tree_createProof(e,r){const i=this.tree_createProofGindexes(e,r);return an.createProof(e,{type:an.ProofType.treeOffset,gindices:i})}tree_createProofGindexes(e,r){const i=[];for(const s of r){const{type:a,gindex:u}=this.getPathInfo(s);if(!k_(a))i.push(u);else{const l=a.tree_getLeafGindices(u,a.fixedSize===null?an.getNode(e,u):void 0);for(const c of l)i.push(c)}}return i}getPathInfo(e){const r=[];let i=this;for(const s of e){if(i.isBasic)throw new Error("Invalid path: cannot navigate beyond a basic type");const a=i.getPropertyGindex(s);a!==null&&(r.push(a),i=i.getPropertyType(s))}return{type:i,gindex:an.concatGindices(r)}}tree_fromProofNode(e){return{node:e,done:!1}}}At.CompositeType=nI;function k_(t){return!t.isBasic}At.isCompositeType=k_;var df={},Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.TreeView=void 0;const iI=Ke;class oI{serialize(){const e=new Uint8Array(this.type.tree_serializedSize(this.node)),r=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.type.tree_serializeToBytes({uint8Array:e,dataView:r},0,this.node),e}hashTreeRoot(){return this.node.root}createProof(e){return this.type.tree_createProof(this.node,e)}toValue(){return this.type.tree_toValue(this.node)}clone(){return this.type.getView(new iI.Tree(this.node))}}Zr.TreeView=oI;Object.defineProperty(df,"__esModule",{value:!0});df.BitArrayTreeView=void 0;const sI=Zr;class aI extends sI.TreeView{constructor(e,r){super(),this.type=e,this.tree=r,this.bitArray=e.tree_toValue(r.rootNode)}get node(){return this.tree.rootNode}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,r){this.bitArray.set(e,r),this.tree.rootNode=this.type.value_toTree(this.bitArray)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}}df.BitArrayTreeView=aI;var gf={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.TreeViewDU=void 0;const fI=Zr;class uI extends fI.TreeView{hashTreeRoot(){return this.commit(),super.hashTreeRoot()}serialize(){return this.commit(),super.serialize()}clone(e){if(e)return this.type.getViewDU(this.node);{const r=this.cache;return this.clearCache(),this.type.getViewDU(this.node,r)}}}Sn.TreeViewDU=uI;Object.defineProperty(gf,"__esModule",{value:!0});gf.BitArrayTreeViewDU=void 0;const lI=Sn;class cI extends lI.TreeViewDU{constructor(e,r){super(),this.type=e,this._rootNode=r,this._bitArray=null}get node(){return this._rootNode}get cache(){}commit(){this._bitArray!==null&&(this._rootNode=this.type.value_toTree(this._bitArray))}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,r){this.bitArray.set(e,r)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}get bitArray(){return this._bitArray===null&&(this._bitArray=this.type.tree_toValue(this._rootNode)),this._bitArray}clearCache(){this._bitArray=null}}gf.BitArrayTreeViewDU=cI;Object.defineProperty(ho,"__esModule",{value:!0});ho.BitArrayType=void 0;const vl=Ke,El=Nr,hI=qe,ny=At,dI=df,gI=gf;class pI extends ny.CompositeType{constructor(){super(...arguments),this.isViewMutable=!0}getView(e){return new dI.BitArrayTreeView(this,e)}getViewDU(e){return new gI.BitArrayTreeViewDU(this,e)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}getRoots(e){return hI.splitIntoRootChunks(e.uint8Array)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request BitArray complete data")}getIndexProperty(){throw Error("Must only request BitArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,r){const i=this.tree_getByteLen(r),s=Math.ceil(i/32),a=vl.concatGindices([e,vl.toGindex(this.depth,BigInt(0))]),u=new Array(s);for(let l=0,c=a;l<s;l++,c++)u[l]=c;return this.isList&&u.push(vl.concatGindices([e,ny.LENGTH_GINDEX])),u}fromJson(e){const r=El.fromHexString(e),i=new DataView(r.buffer,r.byteOffset,r.byteLength);return this.value_deserializeFromBytes({uint8Array:r,dataView:i},0,r.length)}toJson(e){return El.toHexString(this.serialize(e))}clone(e){return e.clone()}equals(e,r){return e.bitLen===r.bitLen&&El.byteArrayEquals(e.uint8Array,r.uint8Array)}}ho.BitArrayType=pI;Object.defineProperty(af,"__esModule",{value:!0});af.BitListType=void 0;const Sl=Ke,iy=qe,yI=$t,Vo=Me,oy=Gn,_I=ho;class th extends _I.BitArrayType{constructor(e,r){if(super(),this.limitBits=e,this.fixedSize=null,this.minSize=1,this.isList=!0,e===0)throw Error("List limit must be > 0");this.typeName=(r==null?void 0:r.typeName)??`BitList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBits/8/32),this.chunkDepth=iy.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.maxSize=Math.ceil(e/8)+1}static named(e,r){return new(yI.namedClass(th,r.typeName))(e,r)}defaultValue(){return oy.BitArray.fromBitLen(0)}value_serializedSize(e){return sy(e.bitLen)}value_serializeToBytes(e,r,i){return e.uint8Array.set(i.uint8Array,r),ay(e.uint8Array,r,i.bitLen)}value_deserializeFromBytes(e,r,i){const{uint8Array:s,bitLen:a}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,r,i);return new oy.BitArray(s,a)}tree_serializedSize(e){return sy(Vo.getLengthFromRootNode(e))}tree_serializeToBytes(e,r,i){const s=Vo.getChunksNodeFromRootNode(i),a=Vo.getLengthFromRootNode(i),u=Math.ceil(a/8),l=Math.ceil(u/32),c=Sl.getNodesAtDepth(s,this.chunkDepth,0,l);return Sl.packedNodeRootsToBytes(e.dataView,r,u,c),ay(e.uint8Array,r,a)}tree_deserializeFromBytes(e,r,i){const{uint8Array:s,bitLen:a}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,r,i),u=new DataView(s.buffer,s.byteOffset,s.byteLength),l=Sl.packedRootsBytesToNode(this.chunkDepth,u,0,s.length);return Vo.addLengthNode(l,a)}tree_getByteLen(e){if(!e)throw new Error("BitListType requires a node to get leaves");return Math.ceil(Vo.getLengthFromRootNode(e)/8)}hashTreeRoot(e){return iy.mixInLength(super.hashTreeRoot(e),e.bitLen)}deserializeUint8ArrayBitListFromBytes(e,r,i){const{uint8Array:s,bitLen:a}=wI(e,r,i);if(a>this.limitBits)throw Error(`bitLen over limit ${a} > ${this.limitBits}`);return{uint8Array:s,bitLen:a}}}af.BitListType=th;function wI(t,e,r){if(r>t.length)throw Error(`BitList attempting to read byte ${r} of data length ${t.length}`);const i=t[r-1],s=r-e;if(i===0)throw new Error("Invalid deserialized bitlist, padding bit required");if(i===1){const d=Uint8Array.prototype.slice.call(t,e,r-1),T=(s-1)*8;return{uint8Array:d,bitLen:T}}const a=Uint8Array.prototype.slice.call(t,e,r),u=i.toString(2).length-1,l=(s-1)*8+u,c=255>>8-u;return a[s-1]&=c,{uint8Array:a,bitLen:l}}function sy(t){const e=Math.ceil(t/8);return t%8===0?e+1:e}function ay(t,e,r){const i=Math.ceil(r/8),s=e+i;return r%8===0?(t[s]=1,s+1):(t[s-1]|=1<<r%8,s)}var pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.BitVectorType=void 0;const Tl=Ke,bI=qe,mI=$t,fy=Gn,vI=ho;class rh extends vI.BitArrayType{constructor(e,r){if(super(),this.lengthBits=e,this.isList=!1,e===0)throw Error("Vector length must be > 0");this.typeName=(r==null?void 0:r.typeName)??`BitVector[${e}]`,this.chunkCount=Math.ceil(this.lengthBits/8/32),this.maxChunkCount=this.chunkCount,this.depth=bI.maxChunksToDepth(this.chunkCount),this.fixedSize=Math.ceil(this.lengthBits/8),this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.zeroBitsMask=e%8===0?0:255&255<<e%8}static named(e,r){return new(mI.namedClass(rh,r.typeName))(e,r)}defaultValue(){return fy.BitArray.fromBitLen(this.lengthBits)}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,r,i){return e.uint8Array.set(i.uint8Array,r),r+this.fixedSize}value_deserializeFromBytes(e,r,i){return this.assertValidLength(e.uint8Array,r,i),new fy.BitArray(Uint8Array.prototype.slice.call(e.uint8Array,r,i),this.lengthBits)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,r,i){const s=Tl.getNodesAtDepth(i,this.depth,0,this.chunkCount);return Tl.packedNodeRootsToBytes(e.dataView,r,this.fixedSize,s),r+this.fixedSize}tree_deserializeFromBytes(e,r,i){return this.assertValidLength(e.uint8Array,r,i),Tl.packedRootsBytesToNode(this.depth,e.dataView,r,i)}tree_getByteLen(){return this.fixedSize}assertValidLength(e,r,i){const s=i-r;if(i-r!==this.fixedSize)throw Error(`Invalid BitVector size ${s} != ${this.fixedSize}`);if(this.zeroBitsMask>0&&(e[i-1]&this.zeroBitsMask)>0)throw Error("BitVector: nonzero bits past length")}}pf.BitVectorType=rh;var yf={},Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.isBasicType=Or.BasicType=void 0;const EI=go;class SI extends EI.Type{constructor(){super(...arguments),this.isBasic=!0,this.depth=0,this.maxChunkCount=1}value_serializedSize(){return this.byteLength}tree_serializedSize(){return this.byteLength}assertValidSize(e){if(e!==this.byteLength)throw Error(`BasicType invalid size ${e} expected ${this.byteLength}`)}hashTreeRoot(e){const r=new Uint8Array(32),i=new DataView(r.buffer,r.byteOffset,r.byteLength);return this.value_serializeToBytes({uint8Array:r,dataView:i},0,e),r}clone(e){return e}equals(e,r){return e===r}}Or.BasicType=SI;function TI(t){return t.isBasic}Or.isBasicType=TI;Object.defineProperty(yf,"__esModule",{value:!0});yf.BooleanType=void 0;const AI=Ke,BI=$t,xI=Or;class nh extends xI.BasicType{constructor(e){super(),this.byteLength=1,this.itemsPerChunk=32,this.fixedSize=1,this.minSize=1,this.maxSize=1,this.typeName=(e==null?void 0:e.typeName)??"boolean"}static named(e){return new(BI.namedClass(nh,e.typeName))(e)}defaultValue(){return!1}value_serializeToBytes(e,r,i){return e.uint8Array[r]=i?1:0,r+1}value_deserializeFromBytes(e,r,i){switch(this.assertValidSize(i-r),e.uint8Array[r]){case 1:return!0;case 0:return!1;default:throw new Error(`Boolean: invalid value: ${e.uint8Array[r]}`)}}tree_serializeToBytes(e,r,i){return e.uint8Array[r]=i.getUint(4,0),r+1}tree_deserializeFromBytes(e,r,i){this.assertValidSize(i-r);const s=e.uint8Array[r];if(s>1)throw Error(`Boolean: invalid value ${s}`);return AI.LeafNode.fromUint32(s)}tree_getFromNode(e){return e.getUint(4,0)===1}tree_setToNode(e,r){e.setUint(4,0,r?1:0)}tree_getFromPackedNode(e,r){const i=r%this.itemsPerChunk;return e.getUint(1,i)!==0}tree_setToPackedNode(e,r,i){const s=r%this.itemsPerChunk;e.setUint(1,s,i?1:0)}fromJson(e){if(typeof e!="boolean")throw Error(`JSON invalid type ${typeof e} expected boolean`);return e}toJson(e){return e}}yf.BooleanType=nh;var _f={},po={};Object.defineProperty(po,"__esModule",{value:!0});po.ByteArrayType=void 0;const Al=Ke,Bl=Nr,NI=qe,uy=At;class OI extends uy.CompositeType{constructor(){super(...arguments),this.isViewMutable=!1}defaultValue(){return new Uint8Array(this.minSize)}getView(e){return this.getViewDU(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}commitView(e){return this.commitViewDU(e)}commitViewDU(e){const r=new Uint8Array(this.value_serializedSize(e)),i=new DataView(r.buffer,r.byteOffset,r.byteLength);return this.value_serializeToBytes({uint8Array:r,dataView:i},0,e),this.tree_deserializeFromBytes({uint8Array:r,dataView:i},0,r.length)}cacheOfViewDU(){}toView(e){return e}toViewDU(e){return e}value_serializeToBytes(e,r,i){return e.uint8Array.set(i,r),r+i.length}value_deserializeFromBytes(e,r,i){return this.assertValidSize(i-r),Uint8Array.prototype.slice.call(e.uint8Array,r,i)}getRoots(e){return NI.splitIntoRootChunks(e)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request ByteArray complete data")}getIndexProperty(){throw Error("Must only request ByteArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,r){const i=this.tree_getByteLen(r),s=Math.ceil(i/32),a=Al.concatGindices([e,Al.toGindex(this.depth,BigInt(0))]),u=new Array(s);for(let l=0,c=a;l<s;l++,c++)u[l]=c;return this.isList&&u.push(Al.concatGindices([e,uy.LENGTH_GINDEX])),u}fromJson(e){const r=Bl.fromHexString(e);return this.assertValidSize(r.length),r}toJson(e){return Bl.toHexString(e)}clone(e){return e}equals(e,r){return Bl.byteArrayEquals(e,r)}}po.ByteArrayType=OI;Object.defineProperty(_f,"__esModule",{value:!0});_f.ByteListType=void 0;const xl=Ke,ly=qe,II=$t,Fo=Me,CI=po;class ih extends CI.ByteArrayType{constructor(e,r){if(super(),this.limitBytes=e,this.fixedSize=null,this.isList=!0,e===0)throw Error("List limit must be > 0");this.typeName=(r==null?void 0:r.typeName)??`ByteList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBytes/32),this.chunkDepth=ly.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.minSize=0,this.maxSize=this.limitBytes}static named(e,r){return new(II.namedClass(ih,r.typeName))(e,r)}value_serializedSize(e){return e.length}tree_serializedSize(e){return Fo.getLengthFromRootNode(e)}tree_serializeToBytes(e,r,i){const s=Fo.getChunksNodeFromRootNode(i),a=Fo.getLengthFromRootNode(i),u=Math.ceil(a/32),l=xl.getNodesAtDepth(s,this.chunkDepth,0,u);return xl.packedNodeRootsToBytes(e.dataView,r,a,l),r+a}tree_deserializeFromBytes(e,r,i){this.assertValidSize(i-r);const s=xl.packedRootsBytesToNode(this.chunkDepth,e.dataView,r,i);return Fo.addLengthNode(s,i-r)}tree_getByteLen(e){if(!e)throw new Error("ByteListType requires a node to get leaves");return Fo.getLengthFromRootNode(e)}hashTreeRoot(e){return ly.mixInLength(super.hashTreeRoot(e),e.length)}assertValidSize(e){if(e>this.limitBytes)throw Error(`ByteList invalid size ${e} limit ${this.limitBytes}`)}}_f.ByteListType=ih;var wf={};Object.defineProperty(wf,"__esModule",{value:!0});wf.ByteVectorType=void 0;const Nl=Ke,RI=qe,PI=$t,LI=po;class oh extends LI.ByteArrayType{constructor(e,r){if(super(),this.lengthBytes=e,this.isList=!1,e===0)throw Error("Vector length must be > 0");this.typeName=(r==null?void 0:r.typeName)??`ByteVector[${e}]`,this.maxChunkCount=Math.ceil(this.lengthBytes/32),this.chunkDepth=RI.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=this.lengthBytes,this.minSize=this.fixedSize,this.maxSize=this.fixedSize}static named(e,r){return new(PI.namedClass(oh,r.typeName))(e,r)}value_serializedSize(){return this.fixedSize}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,r,i){const s=Nl.getNodesAtDepth(i,this.chunkDepth,0,this.maxChunkCount);return Nl.packedNodeRootsToBytes(e.dataView,r,this.fixedSize,s),r+this.fixedSize}tree_deserializeFromBytes(e,r,i){return this.assertValidSize(i-r),Nl.packedRootsBytesToNode(this.chunkDepth,e.dataView,r,i)}tree_getByteLen(){return this.lengthBytes}assertValidSize(e){if(e!==this.lengthBytes)throw Error(`ByteVector invalid size ${e} expected ${this.lengthBytes}`)}}wf.ByteVectorType=oh;var yn={},bf={};Object.defineProperty(bf,"__esModule",{value:!0});bf.getContainerTreeViewClass=void 0;const Ol=Ke,$I=Or,DI=At,MI=Zr;let UI=class extends MI.TreeView{constructor(e,r){super(),this.type=e,this.tree=r}get node(){return this.tree.rootNode}};function kI(t){class e extends UI{}for(let r=0;r<t.fieldsEntries.length;r++){const{fieldName:i,fieldType:s}=t.fieldsEntries[r];if($I.isBasicType(s))Object.defineProperty(e.prototype,i,{configurable:!1,enumerable:!0,get:function(){const a=Ol.getNodeAtDepth(this.node,this.type.depth,r);return s.tree_getFromNode(a)},set:function(a){const l=Ol.getNodeAtDepth(this.node,this.type.depth,r).clone();s.tree_setToNode(l,a),this.tree.setNodeAtDepth(this.type.depth,r,l)}});else if(DI.isCompositeType(s))Object.defineProperty(e.prototype,i,{configurable:!1,enumerable:!0,get:function(){const a=Ol.toGindexBitstring(this.type.depth,r);return s.getView(this.tree.getSubtree(a))},set:function(a){const u=s.commitView(a);this.tree.setNodeAtDepth(this.type.depth,r,u)}});else throw Error(`Unknown fieldType ${s.typeName} for fieldName ${i}`)}return Object.defineProperty(e,"name",{value:t.typeName,writable:!1}),e}bf.getContainerTreeViewClass=kI;var mf={};Object.defineProperty(mf,"__esModule",{value:!0});mf.getContainerTreeViewDUClass=void 0;const Ea=Ke,zI=Or,VI=At,FI=Sn;let HI=class extends FI.TreeViewDU{constructor(e,r,i){super(),this.type=e,this._rootNode=r,this.nodes=[],this.nodesChanged=new Set,this.viewsChanged=new Map,i?(this.nodes=i.nodes,this.caches=i.caches,this.nodesPopulated=i.nodesPopulated):(this.nodes=[],this.caches=[],this.nodesPopulated=!1)}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,nodesPopulated:this.nodesPopulated}}commit(){if(this.nodesChanged.size===0&&this.viewsChanged.size===0)return;const e=[];for(const[a,u]of this.viewsChanged){const l=this.type.fieldsEntries[a].fieldType,c=l.commitViewDU(u);this.nodes[a]=c,e.push({index:a,node:c});const d=l.cacheOfViewDU(u);d&&(this.caches[a]=d)}for(const a of this.nodesChanged)e.push({index:a,node:this.nodes[a]});const r=e.sort((a,u)=>a.index-u.index),i=r.map(a=>a.index),s=r.map(a=>a.node);this._rootNode=Ea.setNodesAtDepth(this._rootNode,this.type.depth,i,s),this.nodesChanged.clear(),this.viewsChanged.clear()}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.viewsChanged.clear()}};function WI(t){class e extends HI{}for(let r=0;r<t.fieldsEntries.length;r++){const{fieldName:i,fieldType:s}=t.fieldsEntries[r];if(zI.isBasicType(s))Object.defineProperty(e.prototype,i,{configurable:!1,enumerable:!0,get:function(){let a=this.nodes[r];return a===void 0&&(a=Ea.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=a),s.tree_getFromNode(a)},set:function(a){let u;this.nodesChanged.has(r)?u=this.nodes[r]:(u=(this.nodes[r]??Ea.getNodeAtDepth(this._rootNode,this.type.depth,r)).clone(),this.nodes[r]=u,this.nodesChanged.add(r)),s.tree_setToNode(u,a)}});else if(VI.isCompositeType(s))Object.defineProperty(e.prototype,i,{configurable:!1,enumerable:!0,get:function(){const a=this.viewsChanged.get(r);if(a)return a;let u=this.nodes[r];u===void 0&&(u=Ea.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=u);const l=s.getViewDU(u,this.caches[r]);return s.isViewMutable&&this.viewsChanged.set(r,l),l},set:function(a){this.viewsChanged.set(r,a)}});else throw Error(`Unknown fieldType ${s.typeName} for fieldName ${i}`)}return Object.defineProperty(e,"name",{value:t.typeName,writable:!1}),e}mf.getContainerTreeViewDUClass=WI;var z_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Case=void 0,t.Case={snake:e=>e.replace(/[^0-z]/g,"").replace(/[a-z][A-Z]|[0-9][A-Z]/g,r=>r[0]+"_"+r[1].toLowerCase()),constant:e=>e.replace(/[^0-z]/g,"").replace(/[a-z][A-Z]|[0-9][A-Z]/g,r=>r[0]+"_"+r[1]).toUpperCase(),pascal:e=>(e[0].toUpperCase()+e.slice(1)).replace(/[^0-z]/g,""),camel:e=>e[0].toLowerCase()+e.slice(1),header:e=>e[0].toUpperCase()+e.slice(1).replace(/[^0-z]/g,"").replace(/[a-z][A-Z]|[0-9][A-Z]/g,i=>i[0]+"-"+i[1]),eth2:e=>t.Case.snake(e).replace(/(\d)$/,"_$1")}})(z_);Object.defineProperty(yn,"__esModule",{value:!0});yn.renderContainerTypeName=yn.precomputeJsonKey=yn.ContainerType=void 0;const li=Ke,jI=qe,qI=$t,GI=At,KI=bf,ZI=mf,YI=z_;class sh extends GI.CompositeType{constructor(e,r){var T,I;super(r==null?void 0:r.cachePermanentRootStruct),this.fields=e,this.opts=r,this.isList=!1,this.isViewMutable=!0,this.typeName=(r==null?void 0:r.typeName)??F_(e),this.maxChunkCount=Object.keys(e).length,this.depth=jI.maxChunksToDepth(this.maxChunkCount),this.fieldsEntries=[];for(const D of Object.keys(e))this.fieldsEntries.push({fieldName:D,fieldType:this.fields[D],jsonKey:V_(D,r==null?void 0:r.casingMap,r==null?void 0:r.jsonCase),gindex:li.toGindex(this.depth,BigInt(this.fieldsEntries.length))});if(this.fieldsEntries.length===0)throw Error("Container must have > 0 fields");this.fieldsGindex={};for(let D=0;D<this.fieldsEntries.length;D++)this.fieldsGindex[this.fieldsEntries[D].fieldName]=li.toGindex(this.depth,BigInt(D));this.jsonKeyToFieldName={};for(const{fieldName:D,jsonKey:U}of this.fieldsEntries)this.jsonKeyToFieldName[U]=D;const{minLen:i,maxLen:s,fixedSize:a}=QI(e);this.minSize=i,this.maxSize=s,this.fixedSize=a;const{isFixedLen:u,fieldRangesFixedLen:l,variableOffsetsPosition:c,fixedEnd:d}=XI(e);this.isFixedLen=u,this.fieldRangesFixedLen=l,this.variableOffsetsPosition=c,this.fixedEnd=d,this.TreeView=((T=r==null?void 0:r.getContainerTreeViewClass)==null?void 0:T.call(r,this))??KI.getContainerTreeViewClass(this),this.TreeViewDU=((I=r==null?void 0:r.getContainerTreeViewDUClass)==null?void 0:I.call(r,this))??ZI.getContainerTreeViewDUClass(this)}static named(e,r){return new(qI.namedClass(sh,r.typeName))(e,r)}defaultValue(){const e={};for(const{fieldName:r,fieldType:i}of this.fieldsEntries)e[r]=i.defaultValue();return e}getView(e){return new this.TreeView(this,e)}getViewDU(e,r){return new this.TreeViewDU(this,e,r)}cacheOfViewDU(e){return e.cache}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}value_serializedSize(e){let r=0;for(let i=0;i<this.fieldsEntries.length;i++){const{fieldName:s,fieldType:a}=this.fieldsEntries[i];r+=a.fixedSize===null?4+a.value_serializedSize(e[s]):a.fixedSize}return r}value_serializeToBytes(e,r,i){let s=r,a=r+this.fixedEnd;for(let u=0;u<this.fieldsEntries.length;u++){const{fieldName:l,fieldType:c}=this.fieldsEntries[u];c.fixedSize===null?(e.dataView.setUint32(s,a-r,!0),s+=4,a=c.value_serializeToBytes(e,a,i[l])):s=c.value_serializeToBytes(e,s,i[l])}return a}value_deserializeFromBytes(e,r,i){const s=this.getFieldRanges(e.dataView,r,i),a={};for(let u=0;u<this.fieldsEntries.length;u++){const{fieldName:l,fieldType:c}=this.fieldsEntries[u],d=s[u];a[l]=c.value_deserializeFromBytes(e,r+d.start,r+d.end)}return a}tree_serializedSize(e){let r=0;const i=li.getNodesAtDepth(e,this.depth,0,this.fieldsEntries.length);for(let s=0;s<this.fieldsEntries.length;s++){const{fieldType:a}=this.fieldsEntries[s],u=i[s];r+=a.fixedSize===null?4+a.tree_serializedSize(u):a.fixedSize}return r}tree_serializeToBytes(e,r,i){let s=r,a=r+this.fixedEnd;const u=li.getNodesAtDepth(i,this.depth,0,this.fieldsEntries.length);for(let l=0;l<this.fieldsEntries.length;l++){const{fieldType:c}=this.fieldsEntries[l],d=u[l];c.fixedSize===null?(e.dataView.setUint32(s,a-r,!0),s+=4,a=c.tree_serializeToBytes(e,a,d)):s=c.tree_serializeToBytes(e,s,d)}return a}tree_deserializeFromBytes(e,r,i){const s=this.getFieldRanges(e.dataView,r,i),a=new Array(this.fieldsEntries.length);for(let u=0;u<this.fieldsEntries.length;u++){const{fieldType:l}=this.fieldsEntries[u],c=s[u];a[u]=l.tree_deserializeFromBytes(e,r+c.start,r+c.end)}return li.subtreeFillToContents(a,this.depth)}getRoots(e){const r=new Array(this.fieldsEntries.length);for(let i=0;i<this.fieldsEntries.length;i++){const{fieldName:s,fieldType:a}=this.fieldsEntries[i];r[i]=a.hashTreeRoot(e[s])}return r}getPropertyGindex(e){const r=this.fieldsGindex[e]??this.fieldsGindex[this.jsonKeyToFieldName[e]];if(r===void 0)throw Error(`Unknown container property ${e}`);return r}getPropertyType(e){const r=this.fields[e]??this.fields[this.jsonKeyToFieldName[e]];if(r===void 0)throw Error(`Unknown container property ${e}`);return r}getIndexProperty(e){return e>=this.fieldsEntries.length?null:this.fieldsEntries[e].fieldName}tree_getLeafGindices(e,r){const i=[];for(let s=0;s<this.fieldsEntries.length;s++){const{fieldName:a,fieldType:u}=this.fieldsEntries[s],l=this.fieldsGindex[a],c=li.concatGindices([e,l]);if(u.isBasic)i.push(c);else{const d=u;if(u.fixedSize===null){if(!r)throw new Error("variable type requires tree argument to get leaves");i.push(...d.tree_getLeafGindices(c,li.getNode(r,l)))}else i.push(...d.tree_getLeafGindices(c))}}return i}fromJson(e){if(typeof e!="object")throw Error("JSON must be of type object");if(e===null)throw Error("JSON must not be null");const r={};for(let i=0;i<this.fieldsEntries.length;i++){const{fieldName:s,fieldType:a,jsonKey:u}=this.fieldsEntries[i],l=e[u];if(l===void 0)throw Error(`JSON expected key ${u} is undefined`);r[s]=a.fromJson(l)}return r}toJson(e){const r={};for(let i=0;i<this.fieldsEntries.length;i++){const{fieldName:s,fieldType:a,jsonKey:u}=this.fieldsEntries[i];r[u]=a.toJson(e[s])}return r}clone(e){const r={};for(let i=0;i<this.fieldsEntries.length;i++){const{fieldName:s,fieldType:a}=this.fieldsEntries[i];r[s]=a.clone(e[s])}return r}equals(e,r){for(let i=0;i<this.fieldsEntries.length;i++){const{fieldName:s,fieldType:a}=this.fieldsEntries[i];if(!a.equals(e[s],r[s]))return!1}return!0}getFieldRanges(e,r,i){if(this.variableOffsetsPosition.length===0){const c=i-r;if(c!==this.fixedEnd)throw Error(`${this.typeName} size ${c} not equal fixed size ${this.fixedEnd}`);return this.fieldRangesFixedLen}const s=JI(e,r,i,this.fixedEnd,this.variableOffsetsPosition);s.push(i-r);let a=0,u=0;const l=new Array(this.isFixedLen.length);for(let c=0;c<this.isFixedLen.length;c++)this.isFixedLen[c]?l[c]=this.fieldRangesFixedLen[u++]:(l[c]={start:s[a],end:s[a+1]},a++);return l}}yn.ContainerType=sh;function JI(t,e,r,i,s){const a=r-e,u=new Array(s.length);for(let l=0;l<s.length;l++){const c=t.getUint32(e+s[l],!0);if(c>a)throw new Error(`Offset out of bounds ${c} > ${a}`);if(l===0){if(c!==i)throw new Error(`First offset must equal to fixedEnd ${c} != ${i}`)}else if(c<u[l-1])throw new Error(`Offsets must be increasing ${c} < ${u[l-1]}`);u[l]=c}return u}function XI(t){const e=[],r=[],i=[];let s=0;for(const a of Object.values(t))e.push(a.fixedSize!==null),a.fixedSize===null?(i.push(s),s+=4):(r.push({start:s,end:s+a.fixedSize}),s+=a.fixedSize);return{isFixedLen:e,fieldRangesFixedLen:r,variableOffsetsPosition:i,fixedEnd:s}}function QI(t){let e=0,r=0,i=0;for(const s of Object.values(t))e+=s.minSize,r+=s.maxSize,s.fixedSize===null?(e+=4,r+=4,i=null):i!==null&&(i+=s.fixedSize);return{minLen:e,maxLen:r,fixedSize:i}}function V_(t,e,r){if(e){const i=e[t];if(i===void 0)throw Error(`casingMap[${t}] not defined`);return i}else return r?YI.Case[r](t):t}yn.precomputeJsonKey=V_;function F_(t,e="Container"){const i=Object.keys(t).map(s=>`${s}: ${t[s].typeName}`).join(", ");return`${e}({${i}})`}yn.renderContainerTypeName=F_;var vf={},Ef={},us={};Object.defineProperty(us,"__esModule",{value:!0});us.BranchNodeStruct=void 0;const cy=Ke;class eC extends cy.Node{constructor(e,r){super(null,0,0,0,0,0,0,0),this.valueToNode=e,this.value=r}get rootHashObject(){if(this.h0===null){const e=this.valueToNode(this.value);super.applyHash(e.rootHashObject)}return this}get root(){return cy.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this.valueToNode(this.value).left}get right(){return this.valueToNode(this.value).right}}us.BranchNodeStruct=eC;Object.defineProperty(Ef,"__esModule",{value:!0});Ef.getContainerTreeViewClass=void 0;const tC=At,hy=us,rC=Zr;class nC extends rC.TreeView{constructor(e,r){super(),this.type=e,this.tree=r}get node(){return this.tree.rootNode}}function iC(t){class e extends nC{}for(let r=0;r<t.fieldsEntries.length;r++){const{fieldName:i,fieldType:s}=t.fieldsEntries[r];if(s.isBasic)Object.defineProperty(e.prototype,i,{configurable:!1,enumerable:!0,get:function(){return this.tree.rootNode.value[i]},set:function(a){const u=this.tree.rootNode,l=this.type.clone(u.value);l[i]=a,this.tree.rootNode=new hy.BranchNodeStruct(u.valueToNode,l)}});else if(tC.isCompositeType(s))Object.defineProperty(e.prototype,i,{configurable:!1,enumerable:!0,get:function(){const{value:a}=this.tree.rootNode;return s.toView(a[i])},set:function(a){const u=this.tree.rootNode,l=this.type.clone(u.value);l[i]=s.toValueFromView(a),this.tree.rootNode=new hy.BranchNodeStruct(u.valueToNode,l)}});else throw Error(`Unknown fieldType ${s.typeName} for fieldName ${i}`)}return Object.defineProperty(e,"name",{value:t.typeName,writable:!1}),e}Ef.getContainerTreeViewClass=iC;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.getContainerTreeViewDUClass=void 0;const oC=At,sC=Sn;class aC extends sC.TreeViewDU{constructor(e,r){super(),this.type=e,this.valueChanged=null,this._rootNode=r}get node(){return this._rootNode}get cache(){}commit(){if(this.valueChanged===null)return;const e=this.valueChanged;this.valueChanged=null,this._rootNode=this.type.value_toTree(e)}clearCache(){this.valueChanged=null}}function fC(t){class e extends aC{}for(let r=0;r<t.fieldsEntries.length;r++){const{fieldName:i,fieldType:s}=t.fieldsEntries[r];if(s.isBasic)Object.defineProperty(e.prototype,i,{configurable:!1,enumerable:!0,get:function(){return(this.valueChanged||this._rootNode.value)[i]},set:function(a){this.valueChanged===null&&(this.valueChanged=this.type.clone(this._rootNode.value)),this.valueChanged[i]=a}});else if(oC.isCompositeType(s))Object.defineProperty(e.prototype,i,{configurable:!1,enumerable:!0,get:function(){const a=this.valueChanged||this._rootNode.value;return s.toViewDU(a[i])},set:function(a){this.valueChanged===null&&(this.valueChanged=this.type.clone(this._rootNode.value));const u=s.toValueFromViewDU(a);this.valueChanged[i]=u}});else throw Error(`Unknown fieldType ${s.typeName} for fieldName ${i}`)}return Object.defineProperty(e,"name",{value:t.typeName,writable:!1}),e}Sf.getContainerTreeViewDUClass=fC;Object.defineProperty(vf,"__esModule",{value:!0});vf.ContainerNodeStructType=void 0;const uC=At,Il=yn,lC=$t,cC=Ef,hC=Sf,Cl=us;class dC extends Il.ContainerType{constructor(e,r){super(e,{typeName:(r==null?void 0:r.typeName)??Il.renderContainerTypeName(e,"ContainerNodeStruct"),...r,getContainerTreeViewClass:cC.getContainerTreeViewClass,getContainerTreeViewDUClass:hC.getContainerTreeViewDUClass}),this.fields=e;for(const{fieldName:i,fieldType:s}of this.fieldsEntries)if(uC.isCompositeType(s)&&s.isViewMutable)throw Error(`ContainerNodeStructType field '${i}' ${s.typeName} view is mutable`)}static named(e,r){return new(lC.namedClass(Il.ContainerType,r.typeName))(e,r)}tree_serializedSize(e){return this.value_serializedSize(e.value)}tree_serializeToBytes(e,r,i){const{value:s}=i;return this.value_serializeToBytes(e,r,s)}tree_deserializeFromBytes(e,r,i){const s=this.value_deserializeFromBytes(e,r,i);return new Cl.BranchNodeStruct(this.valueToTree.bind(this),s)}getPropertyGindex(){return null}tree_fromProofNode(e){const r=new Uint8Array(super.tree_serializedSize(e)),i=new DataView(r.buffer,r.byteOffset,r.byteLength);super.tree_serializeToBytes({uint8Array:r,dataView:i},0,e);const s=this.value_deserializeFromBytes({uint8Array:r,dataView:i},0,r.length);return{node:new Cl.BranchNodeStruct(this.valueToTree.bind(this),s),done:!0}}tree_toValue(e){return e.value}value_toTree(e){return new Cl.BranchNodeStruct(this.valueToTree.bind(this),e)}valueToTree(e){const r=new Uint8Array(this.value_serializedSize(e)),i=new DataView(r.buffer,r.byteOffset,r.byteLength);return this.value_serializeToBytes({uint8Array:r,dataView:i},0,e),super.tree_deserializeFromBytes({uint8Array:r,dataView:i},0,r.length)}}vf.ContainerNodeStructType=dC;var Tf={},Af={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.ArrayBasicTreeView=void 0;const gC=Ke,pC=Zr;class yC extends pC.TreeView{constructor(e,r){super(),this.type=e,this.tree=r}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){const r=Math.floor(e/this.type.itemsPerChunk),i=this.tree.getNodeAtDepth(this.type.depth,r);return this.type.elementType.tree_getFromPackedNode(i,e)}set(e,r){const i=this.length;if(e>=i)throw Error(`Error setting index over length ${e} > ${i}`);const s=Math.floor(e/this.type.itemsPerChunk),u=this.tree.getNodeAtDepth(this.type.depth,s).clone();this.type.elementType.tree_setToPackedNode(u,e,r),this.tree.setNodeAtDepth(this.type.depth,s,u)}getAll(){const e=this.length,r=this.type.tree_getChunksNode(this.node),i=Math.ceil(e/this.type.itemsPerChunk),s=gC.getNodesAtDepth(r,this.type.chunkDepth,0,i),a=new Array(e),u=this.type.itemsPerChunk,l=Math.floor(e/u),c=e%u;for(let d=0;d<l;d++){const T=s[d];for(let I=0;I<u;I++)a[d*u+I]=this.type.elementType.tree_getFromPackedNode(T,I)}if(c>0){const d=s[l];for(let T=0;T<c;T++)a[l*u+T]=this.type.elementType.tree_getFromPackedNode(d,T)}return a}}ls.ArrayBasicTreeView=yC;Object.defineProperty(Af,"__esModule",{value:!0});Af.ListBasicTreeView=void 0;const _C=Ke,wC=ls;class bC extends wC.ArrayBasicTreeView{constructor(e,r){super(e,r),this.type=e,this.tree=r}push(e){const r=this.length;if(r>=this.type.limit)throw Error("Error pushing over limit");if(this.type.tree_setLength(this.tree,r+1),r%this.type.itemsPerChunk===0){const i=_C.LeafNode.fromZero();this.type.elementType.tree_setToPackedNode(i,r,e);const s=Math.floor(r/this.type.itemsPerChunk);this.tree.setNodeAtDepth(this.type.depth,s,i)}else this.set(r,e)}}Af.ListBasicTreeView=bC;var Bf={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.ArrayBasicTreeViewDU=void 0;const ua=Ke,mC=Sn;class vC extends mC.TreeViewDU{constructor(e,r,i){super(),this.type=e,this._rootNode=r,this.nodesChanged=new Set,this.dirtyLength=!1,i?(this.nodes=i.nodes,this._length=i.length,this.nodesPopulated=i.nodesPopulated):(this.nodes=[],this._length=this.type.tree_getLength(r),this.nodesPopulated=!1)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){const r=Math.floor(e/this.type.itemsPerChunk);let i=this.nodes[r];return i===void 0&&(i=ua.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=i),this.type.elementType.tree_getFromPackedNode(i,e)}set(e,r){if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);const i=Math.floor(e/this.type.itemsPerChunk);let s;this.nodesChanged.has(i)?s=this.nodes[i]:(s=(this.nodes[i]??ua.getNodeAtDepth(this._rootNode,this.type.depth,i)).clone(),this.nodes[i]=s,this.nodesChanged.add(i)),this.type.elementType.tree_setToPackedNode(s,e,r)}getAll(){if(!this.nodesPopulated){const a=this.nodes,u=this.type.tree_getChunksNode(this.node),l=Math.ceil(this._length/this.type.itemsPerChunk);this.nodes=ua.getNodesAtDepth(u,this.type.chunkDepth,0,l);for(const c of this.nodesChanged)this.nodes[c]=a[c];this.nodesPopulated=!0}const e=new Array(this._length),r=this.type.itemsPerChunk,i=Math.floor(this._length/r),s=this._length%r;for(let a=0;a<i;a++){const u=this.nodes[a];for(let l=0;l<r;l++)e[a*r+l]=this.type.elementType.tree_getFromPackedNode(u,l)}if(s>0){const a=this.nodes[i];for(let u=0;u<s;u++)e[i*r+u]=this.type.elementType.tree_getFromPackedNode(a,u)}return e}commit(){if(this.nodesChanged.size===0)return;const e=Array.from(this.nodesChanged.keys()).sort((a,u)=>a-u),r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=this.nodes[e[a]];const i=this.type.tree_getChunksNode(this._rootNode),s=ua.setNodesAtDepth(i,this.type.chunkDepth,e,r);this._rootNode=this.type.tree_setChunksNode(this._rootNode,s,this.dirtyLength?this._length:void 0),this.nodesChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}}cs.ArrayBasicTreeViewDU=vC;Object.defineProperty(Bf,"__esModule",{value:!0});Bf.ListBasicTreeViewDU=void 0;const EC=Ke,SC=cs;class TC extends SC.ArrayBasicTreeViewDU{constructor(e,r,i){super(e,r,i),this.type=e,this._rootNode=r}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;const r=this._length++;if(r%this.type.itemsPerChunk===0){const i=Math.floor(r/this.type.itemsPerChunk);this.nodes[i]=EC.zeroNode(0)}this.set(r,e)}}Bf.ListBasicTreeViewDU=TC;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.ArrayType=void 0;const ci=Ke,Rl=At,Ho=Me;class AC extends Rl.CompositeType{constructor(e){super(),this.elementType=e}defaultValue(){return Ho.value_defaultValueArray(this.elementType,this.defaultLen)}getPropertyType(){return this.elementType}getPropertyGindex(e){if(typeof e!="number")throw Error(`Invalid array index: ${e}`);const r=Math.floor(e/this.itemsPerChunk);return ci.toGindex(this.depth,BigInt(r))}getIndexProperty(e){return e}tree_getLeafGindices(e,r){let i;if(this.isList){if(!r)throw new Error("List type requires tree argument to get leaves");i=this.tree_getLength(r)}else i=this.tree_getLength(null);const s=[];if(Rl.isCompositeType(this.elementType)){const a=ci.toGindex(this.depth,BigInt(0)),u=a+BigInt(i),l=ci.concatGindices([e,a]);if(this.elementType.fixedSize===null){if(!r)throw new Error("Array of variable size requires tree argument to get leaves");for(let c=a,d=l;c<u;c++,d++)s.push(...this.elementType.tree_getLeafGindices(d,ci.getNode(r,c)))}else for(let c=0,d=l;c<i;c++,d++)s.push(...this.elementType.tree_getLeafGindices(d))}else{const a=Math.ceil(i/this.itemsPerChunk),u=ci.concatGindices([e,ci.toGindex(this.depth,BigInt(0))]),l=u+BigInt(a);for(let c=u;c<l;c++)s.push(c)}return this.isList&&s.push(ci.concatGindices([e,Rl.LENGTH_GINDEX])),s}fromJson(e){return Ho.value_fromJsonArray(this.elementType,e,this)}toJson(e){return Ho.value_toJsonArray(this.elementType,e,this)}clone(e){return Ho.value_cloneArray(this.elementType,e)}equals(e,r){return Ho.value_equals(this.elementType,e,r)}}Jn.ArrayType=AC;Object.defineProperty(Tf,"__esModule",{value:!0});Tf.ListBasicType=void 0;const hi=Me,Pl=qe,BC=$t,xC=Af,NC=Bf,OC=Jn;class ah extends OC.ArrayType{constructor(e,r,i){if(super(e),this.elementType=e,this.limit=r,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,!e.isBasic)throw Error("elementType must be basic");if(r===0)throw Error("List limit must be > 0");this.typeName=(i==null?void 0:i.typeName)??`List[${e.typeName}, ${r}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(this.limit*e.byteLength/32),this.chunkDepth=Pl.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=this.limit*e.maxSize}static named(e,r,i){return new(BC.namedClass(ah,i.typeName))(e,r,i)}getView(e){return new xC.ListBasicTreeView(this,e)}getViewDU(e,r){return new NC.ListBasicTreeViewDU(this,e,r)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return e.length*this.elementType.byteLength}value_serializeToBytes(e,r,i){return hi.value_serializeToBytesArrayBasic(this.elementType,i.length,e,r,i)}value_deserializeFromBytes(e,r,i){return hi.value_deserializeFromBytesArrayBasic(this.elementType,e,r,i,this)}tree_serializedSize(e){return this.tree_getLength(e)*this.elementType.byteLength}tree_serializeToBytes(e,r,i){const s=this.tree_getChunksNode(i),a=this.tree_getLength(i);return hi.tree_serializeToBytesArrayBasic(this.elementType,a,this.chunkDepth,e,r,s)}tree_deserializeFromBytes(e,r,i){return hi.tree_deserializeFromBytesArrayBasic(this.elementType,this.chunkDepth,e,r,i,this)}tree_getLength(e){return e.right.getUint(4,0)}tree_setLength(e,r){e.rootNode=hi.addLengthNode(e.rootNode.left,r)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,r,i){return hi.setChunksNode(e,r,i)}hashTreeRoot(e){return Pl.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){const r=new Uint8Array(this.value_serializedSize(e)),i=new DataView(r.buffer,r.byteOffset,r.byteLength);return hi.value_serializeToBytesArrayBasic(this.elementType,e.length,{uint8Array:r,dataView:i},0,e),Pl.splitIntoRootChunks(r)}}Tf.ListBasicType=ah;var xf={},dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.value_getRootsArrayComposite=dt.tree_deserializeFromBytesArrayComposite=dt.tree_serializeToBytesArrayComposite=dt.tree_serializedSizeArrayComposite=dt.value_deserializeFromBytesArrayComposite=dt.value_serializeToBytesArrayComposite=dt.value_serializedSizeArrayComposite=dt.maxSizeArrayComposite=dt.minSizeArrayComposite=void 0;const fh=Ke,H_=Me;function IC(t,e){return t.fixedSize===null?e*(4+t.minSize):e*t.minSize}dt.minSizeArrayComposite=IC;function CC(t,e){return t.fixedSize===null?e*(4+t.maxSize):e*t.maxSize}dt.maxSizeArrayComposite=CC;function RC(t,e,r){if(t.fixedSize===null){let i=0;for(let s=0;s<e;s++)i+=4+t.value_serializedSize(r[s]);return i}else return e*t.fixedSize}dt.value_serializedSizeArrayComposite=RC;function PC(t,e,r,i,s){if(t.fixedSize===null){let a=i+e*4;for(let u=0;u<e;u++)r.dataView.setUint32(i+u*4,a-i,!0),a=t.value_serializeToBytes(r,a,s[u]);return a}else{for(let a=0;a<e;a++)t.value_serializeToBytes(r,i+a*t.fixedSize,s[a]);return i+e*t.fixedSize}}dt.value_serializeToBytesArrayComposite=PC;function LC(t,e,r,i,s){const a=W_(t.fixedSize,e.dataView,r,i,s),u=a.length,l=new Array(u);for(let c=0;c<u;c++){const d=r+a[c],T=c===u-1?i:r+a[c+1];l[c]=t.value_deserializeFromBytes(e,d,T)}return l}dt.value_deserializeFromBytesArrayComposite=LC;function $C(t,e,r,i){if(t.fixedSize===null){const s=fh.getNodesAtDepth(i,r,0,e);let a=0;for(let u=0;u<s.length;u++)a+=4+t.tree_serializedSize(s[u]);return a}else return e*t.fixedSize}dt.tree_serializedSizeArrayComposite=$C;function DC(t,e,r,i,s,a){const u=fh.getNodesAtDepth(i,r,0,e);if(t.fixedSize===null){let l=a+e*4;const{dataView:c}=s;for(let d=0;d<u.length;d++)c.setUint32(a+d*4,l-a,!0),l=t.tree_serializeToBytes(s,l,u[d]);return l}else{for(let l=0;l<u.length;l++)a=t.tree_serializeToBytes(s,a,u[l]);return a}}dt.tree_serializeToBytesArrayComposite=DC;function MC(t,e,r,i,s,a){const u=W_(t.fixedSize,r.dataView,i,s,a),l=u.length,c=new Array(l);for(let T=0;T<l;T++){const I=i+u[T],D=T===l-1?s:i+u[T+1];c[T]=t.tree_deserializeFromBytes(r,I,D)}const d=fh.subtreeFillToContents(c,e);return a.isList?H_.addLengthNode(d,l):d}dt.tree_deserializeFromBytesArrayComposite=MC;function UC(t,e,r){const i=new Array(e);for(let s=0;s<e;s++)i[s]=t.hashTreeRoot(r[s]);return i}dt.value_getRootsArrayComposite=UC;function W_(t,e,r,i,s){const a=i-r;let u;if(t===null)u=kC(e,r,a);else{if(t===0)throw Error("element fixed length is 0");if(a%t!==0)throw Error(`size ${a} is not multiple of element fixedSize ${t}`);const l=a/t;u=new Uint32Array(l);for(let c=0;c<l;c++)u[c]=c*t}return H_.assertValidArrayLength(u.length,s),u}function kC(t,e,r){if(r===0)return new Uint32Array(0);const i=t.getUint32(e,!0),s=i;if(i===0)throw Error("First offset must be > 0");if(s%4!==0)throw Error("Offset data length not multiple of 4");const a=s/4,u=new Uint32Array(a);u[0]=i;for(let l=1;l<a;l++){const c=t.getUint32(e+l*4,!0);if(u[l]=c,c>r)throw new Error(`Offset out of bounds ${c} > ${r}`);if(c<u[l-1])throw new Error(`Offsets must be increasing ${c} < ${u[l-1]}`)}return u}var Nf={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.ArrayCompositeTreeView=void 0;const qi=Ke,zC=Zr;class VC extends zC.TreeView{constructor(e,r){super(),this.type=e,this.tree=r}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){const r=qi.toGindexBitstring(this.type.depth,e),i=this.tree.getSubtree(r);return this.type.elementType.getView(i)}getReadonly(e){const r=qi.toGindexBitstring(this.type.depth,e),i=new qi.Tree(this.tree.getNode(r));return this.type.elementType.getView(i)}set(e,r){const i=this.length;if(e>=i)throw Error(`Error setting index over length ${e} > ${i}`);const s=this.type.elementType.commitView(r);this.tree.setNodeAtDepth(this.type.depth,e,s)}getAllReadonly(){const e=this.length,r=this.type.tree_getChunksNode(this.node),i=qi.getNodesAtDepth(r,this.type.chunkDepth,0,e),s=new Array(e);for(let a=0;a<e;a++)s[a]=this.type.elementType.getView(new qi.Tree(i[a]));return s}getAllReadonlyValues(){const e=this.length,r=this.type.tree_getChunksNode(this.node),i=qi.getNodesAtDepth(r,this.type.chunkDepth,0,e),s=new Array(e);for(let a=0;a<e;a++)s[a]=this.type.elementType.tree_toValue(i[a]);return s}}hs.ArrayCompositeTreeView=VC;Object.defineProperty(Nf,"__esModule",{value:!0});Nf.ListCompositeTreeView=void 0;const FC=hs;class HC extends FC.ArrayCompositeTreeView{constructor(e,r){super(e,r),this.type=e,this.tree=r}push(e){const r=this.length;if(r>=this.type.limit)throw Error("Error pushing over limit");this.type.tree_setLength(this.tree,r+1),this.set(r,e)}}Nf.ListCompositeTreeView=HC;var Of={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.ArrayCompositeTreeViewDU=void 0;const la=Ke,WC=Sn;class jC extends WC.TreeViewDU{constructor(e,r,i){super(),this.type=e,this._rootNode=r,this.viewsChanged=new Map,this.dirtyLength=!1,i?(this.nodes=i.nodes,this.caches=i.caches,this._length=i.length,this.nodesPopulated=i.nodesPopulated):(this.nodes=[],this.caches=[],this._length=this.type.tree_getLength(r),this.nodesPopulated=this._length===0)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){const r=this.viewsChanged.get(e);if(r)return r;let i=this.nodes[e];i===void 0&&(i=la.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=i);const s=this.type.elementType.getViewDU(i,this.caches[e]);return this.type.elementType.isViewMutable&&this.viewsChanged.set(e,s),s}getReadonly(e){const r=this.viewsChanged.get(e);if(r)return r;let i=this.nodes[e];return i===void 0&&(i=la.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=i),this.type.elementType.getViewDU(i,this.caches[e])}set(e,r){if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);this.viewsChanged.set(e,r)}getAllReadonly(){this.populateAllNodes();const e=new Array(this._length);for(let r=0;r<this._length;r++)e[r]=this.type.elementType.getViewDU(this.nodes[r],this.caches[r]);return e}getAllReadonlyValues(){this.populateAllNodes();const e=new Array(this._length);for(let r=0;r<this._length;r++)e[r]=this.type.elementType.tree_toValue(this.nodes[r]);return e}commit(){if(this.viewsChanged.size===0)return;const e=[];for(const[l,c]of this.viewsChanged){const d=this.type.elementType.commitViewDU(c);this.nodes[l]=d,e.push({index:l,node:d});const T=this.type.elementType.cacheOfViewDU(c);T&&(this.caches[l]=T)}const r=e.sort((l,c)=>l.index-c.index),i=r.map(l=>l.index),s=r.map(l=>l.node),a=this.type.tree_getChunksNode(this._rootNode),u=la.setNodesAtDepth(a,this.type.chunkDepth,i,s);this._rootNode=this.type.tree_setChunksNode(this._rootNode,u,this.dirtyLength?this._length:void 0),this.viewsChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.viewsChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}populateAllNodes(){if(this.viewsChanged.size>0)throw Error("Must commit changes before reading all nodes");this.nodesPopulated||(this.nodes=la.getNodesAtDepth(this._rootNode,this.type.depth,0,this.length),this.nodesPopulated=!0)}}ds.ArrayCompositeTreeViewDU=jC;Object.defineProperty(Of,"__esModule",{value:!0});Of.ListCompositeTreeViewDU=void 0;const qC=Ke,GC=ds;class KC extends GC.ArrayCompositeTreeViewDU{constructor(e,r,i){super(e,r,i),this.type=e,this._rootNode=r}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;const r=this._length++;this.set(r,e)}sliceTo(e){this.commit();const r=this._rootNode,i=this.type.tree_getLength(r);if(e>=i-1)return this;const s=this.type.tree_getChunksNode(r),a=qC.treeZeroAfterIndex(s,this.type.chunkDepth,e),u=e+1,l=this.type.tree_setChunksNode(r,a,u);return this.type.getViewDU(l)}}Of.ListCompositeTreeViewDU=KC;Object.defineProperty(xf,"__esModule",{value:!0});xf.ListCompositeType=void 0;const dy=qe,ZC=$t,Ll=Me,Un=dt,YC=Nf,JC=Of,XC=Jn;class uh extends XC.ArrayType{constructor(e,r,i){if(super(e),this.elementType=e,this.limit=r,this.itemsPerChunk=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,e.isBasic)throw Error("elementType must not be basic");if(r===0)throw Error("List limit must be > 0");this.typeName=(i==null?void 0:i.typeName)??`List[${e.typeName}, ${r}]`,this.maxChunkCount=this.limit,this.chunkDepth=dy.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=Un.maxSizeArrayComposite(e,this.limit)}static named(e,r,i){return new(ZC.namedClass(uh,i.typeName))(e,r,i)}getView(e){return new YC.ListCompositeTreeView(this,e)}getViewDU(e,r){return new JC.ListCompositeTreeViewDU(this,e,r)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return Un.value_serializedSizeArrayComposite(this.elementType,e.length,e)}value_serializeToBytes(e,r,i){return Un.value_serializeToBytesArrayComposite(this.elementType,i.length,e,r,i)}value_deserializeFromBytes(e,r,i){return Un.value_deserializeFromBytesArrayComposite(this.elementType,e,r,i,this)}tree_serializedSize(e){const r=this.tree_getChunksNode(e),i=this.tree_getLength(e);return Un.tree_serializedSizeArrayComposite(this.elementType,i,this.chunkDepth,r)}tree_serializeToBytes(e,r,i){const s=this.tree_getChunksNode(i),a=this.tree_getLength(i);return Un.tree_serializeToBytesArrayComposite(this.elementType,a,this.chunkDepth,s,e,r)}tree_deserializeFromBytes(e,r,i){return Un.tree_deserializeFromBytesArrayComposite(this.elementType,this.chunkDepth,e,r,i,this)}tree_getLength(e){return Ll.getLengthFromRootNode(e)}tree_setLength(e,r){e.rootNode=Ll.addLengthNode(e.rootNode.left,r)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,r,i){return Ll.setChunksNode(e,r,i)}hashTreeRoot(e){return dy.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){return Un.value_getRootsArrayComposite(this.elementType,e.length,e)}}xf.ListCompositeType=uh;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.NoneType=void 0;const QC=Ke,eR=Or;class tR extends eR.BasicType{constructor(){super(...arguments),this.typeName="none",this.byteLength=0,this.itemsPerChunk=32,this.fixedSize=0,this.minSize=0,this.maxSize=0}defaultValue(){return null}value_serializeToBytes(e,r,i){return r}value_deserializeFromBytes(e,r){return null}tree_serializeToBytes(e,r,i){return r}tree_deserializeFromBytes(e,r,i){return QC.zeroNode(0)}tree_getFromNode(e){return null}tree_setToNode(e,r){}tree_getFromPackedNode(e,r){return null}tree_setToPackedNode(e,r,i){}fromJson(e){if(e!==null)throw Error("JSON invalid type none must be null");return null}toJson(e){return null}}gs.NoneType=tR;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.UintBigintType=Wr.UintNumberType=Wr.uintBigintByteLens=Wr.uintNumberByteLens=void 0;const j_=Ke,q_=$t,G_=Or,rR=BigInt(Number.MAX_SAFE_INTEGER),$l=BigInt(2)**BigInt(64),nR=BigInt(2)**BigInt(128),iR=BigInt(2)**BigInt(192),gy=2**32,py=4294967295;Wr.uintNumberByteLens=[1,2,4,8];Wr.uintBigintByteLens=[1,2,4,8,16,32];class lh extends G_.BasicType{constructor(e,r){if(super(),this.byteLength=e,e>8)throw Error("UintNumber byteLength limit is 8");if(Math.log2(e)%1!==0)throw Error("byteLength must be a power of 2");this.typeName=(r==null?void 0:r.typeName)??`uint${e*8}`,r!=null&&r.clipInfinity&&(this.typeName+="Inf"),r!=null&&r.setBitwiseOR&&(this.typeName+="OR"),this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e,this.maxDecimalStr=(BigInt(2)**BigInt(this.byteLength*8)-BigInt(1)).toString(10),this.clipInfinity=(r==null?void 0:r.clipInfinity)===!0,this.setBitwiseOR=(r==null?void 0:r.setBitwiseOR)===!0}static named(e,r){return new(q_.namedClass(lh,r.typeName))(e,r)}defaultValue(){return 0}value_serializeToBytes({dataView:e},r,i){switch(this.byteLength){case 1:e.setInt8(r,i);break;case 2:e.setUint16(r,i,!0);break;case 4:e.setUint32(r,i,!0);break;case 8:i===1/0?(e.setUint32(r,4294967295),e.setUint32(r+4,4294967295)):(e.setUint32(r,i&4294967295,!0),e.setUint32(r+4,i/gy&4294967295,!0));break}return r+this.byteLength}value_deserializeFromBytes({dataView:e},r,i){switch(this.assertValidSize(i-r),this.byteLength){case 1:return e.getUint8(r);case 2:return e.getUint16(r,!0);case 4:return e.getUint32(r,!0);case 8:{const s=e.getUint32(r,!0),a=e.getUint32(r+4,!0);return a===py&&s===py&&this.clipInfinity?1/0:a*gy+s}}}tree_serializeToBytes(e,r,i){const s=i.getUint(this.byteLength,0,this.clipInfinity);return this.value_serializeToBytes(e,r,s),r+this.byteLength}tree_deserializeFromBytes(e,r,i){this.assertValidSize(i-r);const s=this.value_deserializeFromBytes(e,r,i),a=j_.LeafNode.fromZero();return a.setUint(this.byteLength,0,s,this.clipInfinity),a}tree_getFromNode(e){return e.getUint(this.byteLength,0,this.clipInfinity)}tree_setToNode(e,r){this.tree_setToPackedNode(e,0,r)}tree_getFromPackedNode(e,r){const i=this.byteLength*(r%this.itemsPerChunk);return e.getUint(this.byteLength,i,this.clipInfinity)}tree_setToPackedNode(e,r,i){const s=this.byteLength*(r%this.itemsPerChunk);this.setBitwiseOR?e.bitwiseOrUint(this.byteLength,s,i):e.setUint(this.byteLength,s,i,this.clipInfinity)}fromJson(e){if(typeof e=="number")return e;if(typeof e=="string"){if(this.clipInfinity&&e===this.maxDecimalStr)return 1/0;{const r=parseInt(e,10);if(isNaN(r))throw Error("JSON invalid number isNaN");if(r>Number.MAX_SAFE_INTEGER)throw Error("JSON invalid number > MAX_SAFE_INTEGER");return r}}else if(typeof e=="bigint"){if(e>rR)throw Error("JSON invalid number > MAX_SAFE_INTEGER_BN");return Number(e)}else throw Error(`JSON invalid type ${typeof e} expected number`)}toJson(e){return e===1/0?this.maxDecimalStr:e.toString(10)}}Wr.UintNumberType=lh;class ch extends G_.BasicType{constructor(e,r){if(super(),this.byteLength=e,e>32)throw Error("UintBigint byteLength limit is 32");if(Math.log2(e)%1!==0)throw Error("byteLength must be a power of 2");this.typeName=(r==null?void 0:r.typeName)??`uintBigint${e*8}`,this.byteLength=e,this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e}static named(e,r){return new(q_.namedClass(ch,r.typeName))(e,r)}defaultValue(){return BigInt(0)}value_serializeToBytes({dataView:e},r,i){switch(this.byteLength){case 1:e.setInt8(r,Number(i));break;case 2:e.setUint16(r,Number(i),!0);break;case 4:e.setUint32(r,Number(i),!0);break;case 8:e.setBigUint64(r,i,!0);break;default:for(let s=0;s<this.byteLength;s+=8){s>0&&(i=i/$l);const a=BigInt.asUintN(64,i);e.setBigUint64(r+s,a,!0)}}return r+this.byteLength}value_deserializeFromBytes({dataView:e},r,i){const s=i-r;if(s!==this.byteLength)throw Error(`Invalid size ${s} expected ${this.byteLength}`);switch(this.byteLength){case 1:return BigInt(e.getUint8(r));case 2:return BigInt(e.getUint16(r,!0));case 4:return BigInt(e.getUint32(r,!0));case 8:return e.getBigUint64(r,!0);case 16:{const a=e.getBigUint64(r,!0);return e.getBigUint64(r+8,!0)*$l+a}case 32:{const a=e.getBigUint64(r,!0),u=e.getBigUint64(r+8,!0),l=e.getBigUint64(r+16,!0);return e.getBigUint64(r+24,!0)*iR+l*nR+u*$l+a}}}tree_serializeToBytes(e,r,i){const s=i.getUintBigint(this.byteLength,0);return this.value_serializeToBytes(e,r,s),r+this.byteLength}tree_deserializeFromBytes(e,r,i){const s=i-r;if(s!==this.byteLength)throw Error(`Invalid size ${s} expected ${this.byteLength}`);const a=this.value_deserializeFromBytes(e,r,i),u=j_.LeafNode.fromZero();return u.setUintBigint(this.byteLength,0,a),u}tree_getFromNode(e){return e.getUintBigint(this.byteLength,0)}tree_setToNode(e,r){this.tree_setToPackedNode(e,0,r)}tree_getFromPackedNode(e,r){const i=this.byteLength*(r%this.itemsPerChunk);return e.getUintBigint(this.byteLength,i)}tree_setToPackedNode(e,r,i){const s=this.byteLength*(r%this.itemsPerChunk);e.setUintBigint(this.byteLength,s,i)}fromJson(e){if(typeof e=="bigint")return e;if(typeof e=="string"||typeof e=="number")return BigInt(e);throw Error(`JSON invalid type ${typeof e} expected bigint`)}toJson(e){return e.toString(10)}}Wr.UintBigintType=ch;var If={};Object.defineProperty(If,"__esModule",{value:!0});If.UnionType=void 0;const Dl=Ke,oR=qe,sR=$t,yy=At,ca=Me,_y=gs,Ml=BigInt(2),wy=BigInt(3);class hh extends yy.CompositeType{constructor(e,r){if(super(),this.types=e,this.depth=1,this.maxChunkCount=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,e.length>=128)throw Error("Must have less than 128 types");if(e.length===0)throw Error("Must have at least 1 type option");if(e[0]instanceof _y.NoneType&&e.length<2)throw Error("Must have at least 2 type options if the first is None");for(let a=1;a<e.length;a++)if(e[a]instanceof _y.NoneType)throw Error("None may only be the first option");this.typeName=(r==null?void 0:r.typeName)??`Union[${e.map(a=>a.typeName).join(",")}]`;const i=[],s=[];for(const a of e)i.push(a.minSize),s.push(a.maxSize);this.minSize=1+Math.min(...i),this.maxSize=1+Math.max(...s),this.maxSelector=this.types.length-1}static named(e,r){return new(sR.namedClass(hh,r.typeName))(e,r)}defaultValue(){return{selector:0,value:this.types[0].defaultValue()}}getView(e){return this.tree_toValue(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}cacheOfViewDU(){}commitView(e){return this.value_toTree(e)}commitViewDU(e){return this.value_toTree(e)}value_serializedSize(e){return 1+this.types[e.selector].value_serializedSize(e.value)}value_serializeToBytes(e,r,i){return e.uint8Array[r]=i.selector,this.types[i.selector].value_serializeToBytes(e,r+1,i.value)}value_deserializeFromBytes(e,r,i){const s=e.uint8Array[r];if(s>this.maxSelector)throw Error(`Invalid selector ${s}`);return{selector:s,value:this.types[s].value_deserializeFromBytes(e,r+1,i)}}tree_serializedSize(e){const r=ca.getLengthFromRootNode(e),i=e.left;return 1+this.types[r].value_serializedSize(i)}tree_serializeToBytes(e,r,i){const s=ca.getLengthFromRootNode(i),a=i.left;return e.uint8Array[r]=s,this.types[s].tree_serializeToBytes(e,r+1,a)}tree_deserializeFromBytes(e,r,i){const s=e.uint8Array[r];if(s>this.maxSelector)throw Error(`Invalid selector ${s}`);const a=this.types[s].tree_deserializeFromBytes(e,r+1,i);return ca.addLengthNode(a,s)}hashTreeRoot(e){return oR.mixInLength(super.hashTreeRoot(e),e.selector)}getRoots(e){return[this.types[e.selector].hashTreeRoot(e.value)]}getPropertyGindex(e){switch(e){case"value":return Ml;case"selector":return wy;default:throw new Error(`Invalid Union type property ${e}`)}}getPropertyType(){throw new Error("Not applicable for Union type")}getIndexProperty(e){if(e===0)return"value";if(e===1)return"selector";throw Error("Union index of out bounds")}tree_getLeafGindices(e,r){if(!r)throw Error("rootNode required");const i=[Dl.concatGindices([e,wy])],s=ca.getLengthFromRootNode(r),a=this.types[s],u=Dl.concatGindices([e,Ml]);return yy.isCompositeType(a)?i.push(...a.tree_getLeafGindices(u,Dl.getNode(r,Ml))):i.push(u),i}fromJson(e){if(typeof e!="object")throw new Error("JSON must be of type object");const r=e;if(typeof r.selector!="number")throw new Error("Invalid JSON Union selector must be number");const i=this.types[r.selector];if(!i)throw new Error("Invalid JSON Union selector out of range");return{selector:r.selector,value:i.toJson(r.value)}}toJson(e){return{selector:e.selector,value:this.types[e.selector].toJson(e.value)}}clone(e){return{selector:e.selector,value:this.types[e.selector].clone(e.value)}}equals(e,r){return e.selector!==r.selector?!1:this.types[e.selector].equals(e.value,r.value)}}If.UnionType=hh;var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.VectorBasicType=void 0;const by=qe,aR=$t,Wo=Me,fR=ls,uR=cs,lR=Jn;class dh extends lR.ArrayType{constructor(e,r,i){if(super(e),this.elementType=e,this.length=r,this.isList=!1,this.isViewMutable=!0,!e.isBasic)throw Error("elementType must be basic");if(r===0)throw Error("Vector length must be > 0");this.typeName=(i==null?void 0:i.typeName)??`Vector[${e.typeName}, ${r}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(r*e.byteLength/32),this.chunkDepth=by.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=r*e.byteLength,this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.defaultLen=r}static named(e,r,i){return new(aR.namedClass(dh,i.typeName))(e,r,i)}getView(e){return new fR.ArrayBasicTreeView(this,e)}getViewDU(e,r){return new uR.ArrayBasicTreeViewDU(this,e,r)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,r,i){return Wo.value_serializeToBytesArrayBasic(this.elementType,this.length,e,r,i)}value_deserializeFromBytes(e,r,i){return Wo.value_deserializeFromBytesArrayBasic(this.elementType,e,r,i,this)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,r,i){return Wo.tree_serializeToBytesArrayBasic(this.elementType,this.length,this.depth,e,r,i)}tree_deserializeFromBytes(e,r,i){return Wo.tree_deserializeFromBytesArrayBasic(this.elementType,this.depth,e,r,i,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,r){return r}getRoots(e){const r=new Uint8Array(this.fixedSize),i=new DataView(r.buffer,r.byteOffset,r.byteLength);return Wo.value_serializeToBytesArrayBasic(this.elementType,this.length,{uint8Array:r,dataView:i},0,e),by.splitIntoRootChunks(r)}}Cf.VectorBasicType=dh;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.VectorCompositeType=void 0;const cR=qe,hR=$t,fn=dt,dR=hs,gR=ds,pR=Jn;class gh extends pR.ArrayType{constructor(e,r,i){if(super(e),this.elementType=e,this.length=r,this.itemsPerChunk=1,this.isList=!1,this.isViewMutable=!0,e.isBasic)throw Error("elementType must not be basic");if(r===0)throw Error("Vector length must be > 0");this.typeName=(i==null?void 0:i.typeName)??`Vector[${e.typeName}, ${r}]`,this.maxChunkCount=r,this.chunkDepth=cR.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=e.fixedSize===null?null:r*e.fixedSize,this.minSize=fn.minSizeArrayComposite(e,r),this.maxSize=fn.maxSizeArrayComposite(e,r),this.defaultLen=r}static named(e,r,i){return new(hR.namedClass(gh,i.typeName))(e,r,i)}getView(e){return new dR.ArrayCompositeTreeView(this,e)}getViewDU(e,r){return new gR.ArrayCompositeTreeViewDU(this,e,r)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return fn.value_serializedSizeArrayComposite(this.elementType,this.length,e)}value_serializeToBytes(e,r,i){return fn.value_serializeToBytesArrayComposite(this.elementType,this.length,e,r,i)}value_deserializeFromBytes(e,r,i){return fn.value_deserializeFromBytesArrayComposite(this.elementType,e,r,i,this)}tree_serializedSize(e){return fn.tree_serializedSizeArrayComposite(this.elementType,this.length,this.depth,e)}tree_serializeToBytes(e,r,i){return fn.tree_serializeToBytesArrayComposite(this.elementType,this.length,this.depth,i,e,r)}tree_deserializeFromBytes(e,r,i){return fn.tree_deserializeFromBytesArrayComposite(this.elementType,this.depth,e,r,i,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,r){return r}getRoots(e){return fn.value_getRootsArrayComposite(this.elementType,this.length,e)}}Rf.VectorCompositeType=gh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash64=t.byteArrayEquals=t.toHexString=t.fromHexString=t.getUint8ByteToBitBooleanArray=t.BitArray=t.TreeViewDU=t.TreeView=t.isCompositeType=t.CompositeType=t.isBasicType=t.BasicType=t.Type=t.ByteArrayType=t.BitArrayType=t.ArrayType=t.VectorCompositeType=t.VectorBasicType=t.UnionType=t.UintNumberType=t.UintBigintType=t.NoneType=t.ListCompositeType=t.ListBasicType=t.ContainerNodeStructType=t.ContainerType=t.ByteVectorType=t.ByteListType=t.BooleanType=t.BitVectorType=t.BitListType=void 0;var e=af;Object.defineProperty(t,"BitListType",{enumerable:!0,get:function(){return e.BitListType}});var r=pf;Object.defineProperty(t,"BitVectorType",{enumerable:!0,get:function(){return r.BitVectorType}});var i=yf;Object.defineProperty(t,"BooleanType",{enumerable:!0,get:function(){return i.BooleanType}});var s=_f;Object.defineProperty(t,"ByteListType",{enumerable:!0,get:function(){return s.ByteListType}});var a=wf;Object.defineProperty(t,"ByteVectorType",{enumerable:!0,get:function(){return a.ByteVectorType}});var u=yn;Object.defineProperty(t,"ContainerType",{enumerable:!0,get:function(){return u.ContainerType}});var l=vf;Object.defineProperty(t,"ContainerNodeStructType",{enumerable:!0,get:function(){return l.ContainerNodeStructType}});var c=Tf;Object.defineProperty(t,"ListBasicType",{enumerable:!0,get:function(){return c.ListBasicType}});var d=xf;Object.defineProperty(t,"ListCompositeType",{enumerable:!0,get:function(){return d.ListCompositeType}});var T=gs;Object.defineProperty(t,"NoneType",{enumerable:!0,get:function(){return T.NoneType}});var I=Wr;Object.defineProperty(t,"UintBigintType",{enumerable:!0,get:function(){return I.UintBigintType}}),Object.defineProperty(t,"UintNumberType",{enumerable:!0,get:function(){return I.UintNumberType}});var D=If;Object.defineProperty(t,"UnionType",{enumerable:!0,get:function(){return D.UnionType}});var U=Cf;Object.defineProperty(t,"VectorBasicType",{enumerable:!0,get:function(){return U.VectorBasicType}});var H=Rf;Object.defineProperty(t,"VectorCompositeType",{enumerable:!0,get:function(){return H.VectorCompositeType}});var ee=Jn;Object.defineProperty(t,"ArrayType",{enumerable:!0,get:function(){return ee.ArrayType}});var X=ho;Object.defineProperty(t,"BitArrayType",{enumerable:!0,get:function(){return X.BitArrayType}});var J=po;Object.defineProperty(t,"ByteArrayType",{enumerable:!0,get:function(){return J.ByteArrayType}});var S=go;Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return S.Type}});var F=Or;Object.defineProperty(t,"BasicType",{enumerable:!0,get:function(){return F.BasicType}}),Object.defineProperty(t,"isBasicType",{enumerable:!0,get:function(){return F.isBasicType}});var w=At;Object.defineProperty(t,"CompositeType",{enumerable:!0,get:function(){return w.CompositeType}}),Object.defineProperty(t,"isCompositeType",{enumerable:!0,get:function(){return w.isCompositeType}});var V=Zr;Object.defineProperty(t,"TreeView",{enumerable:!0,get:function(){return V.TreeView}});var q=Sn;Object.defineProperty(t,"TreeViewDU",{enumerable:!0,get:function(){return q.TreeViewDU}});var Z=Gn;Object.defineProperty(t,"BitArray",{enumerable:!0,get:function(){return Z.BitArray}}),Object.defineProperty(t,"getUint8ByteToBitBooleanArray",{enumerable:!0,get:function(){return Z.getUint8ByteToBitBooleanArray}});var y=Nr;Object.defineProperty(t,"fromHexString",{enumerable:!0,get:function(){return y.fromHexString}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return y.toHexString}}),Object.defineProperty(t,"byteArrayEquals",{enumerable:!0,get:function(){return y.byteArrayEquals}});var v=qe;Object.defineProperty(t,"hash64",{enumerable:!0,get:function(){return v.hash64}})})(I_);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Withdrawals=t.Withdrawal=t.Bytes20=t.UintBigInt64=t.UintNum64=void 0;const e=I_,r=os;t.UintNum64=new e.UintNumberType(8),t.UintBigInt64=new e.UintBigintType(8),t.Bytes20=new e.ByteVectorType(20),t.Withdrawal=new e.ContainerType({index:t.UintBigInt64,validatorIndex:t.UintBigInt64,address:t.Bytes20,amount:t.UintBigInt64},{typeName:"Withdrawal",jsonCase:"eth2"}),t.Withdrawals=new e.ListCompositeType(t.Withdrawal,r.MAX_WITHDRAWALS_PER_PAYLOAD)})(O_);var K_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.compactBytesToNibbles=t.bytesToNibbles=t.nibblesToCompactBytes=t.nibblesToBytes=t.hasTerminator=void 0;const e=u=>u.length>0&&u[u.length-1]===16;t.hasTerminator=e;const r=(u,l)=>{for(let c=0,d=0;d<u.length;c+=1,d+=2)l[c]=u[d]<<4|u[d+1]};t.nibblesToBytes=r;const i=u=>{let l=0;(0,t.hasTerminator)(u)&&(l=1,u=u.subarray(0,u.length-1));const c=new Uint8Array(u.length/2+1);return c[0]=l<<5,(u.length&1)===1&&(c[0]|=1<<4,c[0]|=u[0],u=u.subarray(1)),(0,t.nibblesToBytes)(u,c.subarray(1)),c};t.nibblesToCompactBytes=i;const s=u=>{const l=u.length*2+1,c=new Uint8Array(l);for(let d=0;d<u.length;d++){const T=u[d];c[d*2]=T/16,c[d*2+1]=T%16}return c[l-1]=16,c};t.bytesToNibbles=s;const a=u=>{if(u.length===0)return u;let l=(0,t.bytesToNibbles)(u);l[0]<2&&(l=l.subarray(0,l.length-1));const c=2-(l[0]&1);return l.subarray(c)};t.compactBytesToNibbles=a})(K_);var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.AsyncEventEmitter=void 0;const yR=za();async function _R(t,e,r){let i;for await(const s of e)try{s.length<2?s.call(t,r):await new Promise((a,u)=>{s.call(t,r,l=>{l?u(l):a()})})}catch(a){i=a}if(i)throw i}class wR extends yR.EventEmitter{emit(e,...r){let[i,s]=r;const a=this;let u=a._events[e]??[];return s===void 0&&typeof i=="function"&&(s=i,i=void 0),(e==="newListener"||e==="removeListener")&&(i={event:i,fn:s},s=void 0),u=Array.isArray(u)?u:[u],_R(a,u.slice(),i).then(s).catch(s),a.listenerCount(e)>0}once(e,r){const i=this;let s;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?s=function(a,u){i.removeListener(e,s),r(a,u)}:s=function(a){i.removeListener(e,s),r(a,s)},i.on(e,s),i}first(e,r){let i=this._events[e]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(i)||(this._events[e]=i=[i]),i.unshift(r),this}before(e,r,i){return this.beforeOrAfter(e,r,i)}after(e,r,i){return this.beforeOrAfter(e,r,i,"after")}beforeOrAfter(e,r,i,s){let a=this._events[e]??[],u,l;const c=s==="after"?1:0;if(typeof i!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(a)||(this._events[e]=a=[a]),l=a.length,u=a.length;u--;)if(a[u]===r){l=u+c;break}return a.splice(l,0,i),this}on(e,r){return super.on(e,r)}addListener(e,r){return super.addListener(e,r)}prependListener(e,r){return super.prependListener(e,r)}prependOnceListener(e,r){return super.prependOnceListener(e,r)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,r){return super.removeListener(e,r)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}Pf.AsyncEventEmitter=wR;var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.Lock=void 0;class bR{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}Lf.Lock=bR;var so={},vi={},yo={},Da={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Da.exports;(function(t,e){(function(r){var i=e&&!e.nodeType&&e,s=t&&!t.nodeType&&t,a=typeof ut=="object"&&ut;(a.global===a||a.window===a||a.self===a)&&(r=a);var u,l=2147483647,c=36,d=1,T=26,I=38,D=700,U=72,H=128,ee="-",X=/^xn--/,J=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-d,V=Math.floor,q=String.fromCharCode,Z;function y(x){throw new RangeError(F[x])}function v(x,j){for(var te=x.length,ie=[];te--;)ie[te]=j(x[te]);return ie}function p(x,j){var te=x.split("@"),ie="";te.length>1&&(ie=te[0]+"@",x=te[1]),x=x.replace(S,".");var oe=x.split("."),re=v(oe,j).join(".");return ie+re}function O(x){for(var j=[],te=0,ie=x.length,oe,re;te<ie;)oe=x.charCodeAt(te++),oe>=55296&&oe<=56319&&te<ie?(re=x.charCodeAt(te++),(re&64512)==56320?j.push(((oe&1023)<<10)+(re&1023)+65536):(j.push(oe),te--)):j.push(oe);return j}function g(x){return v(x,function(j){var te="";return j>65535&&(j-=65536,te+=q(j>>>10&1023|55296),j=56320|j&1023),te+=q(j),te}).join("")}function E(x){return x-48<10?x-22:x-65<26?x-65:x-97<26?x-97:c}function b(x,j){return x+22+75*(x<26)-((j!=0)<<5)}function m(x,j,te){var ie=0;for(x=te?V(x/D):x>>1,x+=V(x/j);x>w*T>>1;ie+=c)x=V(x/w);return V(ie+(w+1)*x/(x+I))}function N(x){var j=[],te=x.length,ie,oe=0,re=H,fe=U,be,ye,ge,Re,ve,Ae,$,M,Y;for(be=x.lastIndexOf(ee),be<0&&(be=0),ye=0;ye<be;++ye)x.charCodeAt(ye)>=128&&y("not-basic"),j.push(x.charCodeAt(ye));for(ge=be>0?be+1:0;ge<te;){for(Re=oe,ve=1,Ae=c;ge>=te&&y("invalid-input"),$=E(x.charCodeAt(ge++)),($>=c||$>V((l-oe)/ve))&&y("overflow"),oe+=$*ve,M=Ae<=fe?d:Ae>=fe+T?T:Ae-fe,!($<M);Ae+=c)Y=c-M,ve>V(l/Y)&&y("overflow"),ve*=Y;ie=j.length+1,fe=m(oe-Re,ie,Re==0),V(oe/ie)>l-re&&y("overflow"),re+=V(oe/ie),oe%=ie,j.splice(oe++,0,re)}return g(j)}function C(x){var j,te,ie,oe,re,fe,be,ye,ge,Re,ve,Ae=[],$,M,Y,de;for(x=O(x),$=x.length,j=H,te=0,re=U,fe=0;fe<$;++fe)ve=x[fe],ve<128&&Ae.push(q(ve));for(ie=oe=Ae.length,oe&&Ae.push(ee);ie<$;){for(be=l,fe=0;fe<$;++fe)ve=x[fe],ve>=j&&ve<be&&(be=ve);for(M=ie+1,be-j>V((l-te)/M)&&y("overflow"),te+=(be-j)*M,j=be,fe=0;fe<$;++fe)if(ve=x[fe],ve<j&&++te>l&&y("overflow"),ve==j){for(ye=te,ge=c;Re=ge<=re?d:ge>=re+T?T:ge-re,!(ye<Re);ge+=c)de=ye-Re,Y=c-Re,Ae.push(q(b(Re+de%Y,0))),ye=V(de/Y);Ae.push(q(b(ye,0))),re=m(te,M,ie==oe),te=0,++ie}++te,++j}return Ae.join("")}function R(x){return p(x,function(j){return X.test(j)?N(j.slice(4).toLowerCase()):j})}function L(x){return p(x,function(j){return J.test(j)?"xn--"+C(j):j})}if(u={version:"1.4.1",ucs2:{decode:O,encode:g},decode:N,encode:C,toASCII:L,toUnicode:R},i&&s)if(t.exports==i)s.exports=u;else for(Z in u)u.hasOwnProperty(Z)&&(i[Z]=u[Z]);else r.punycode=u})(ut)})(Da,Da.exports);var mR=Da.exports,ph=typeof Map=="function"&&Map.prototype,Ul=Object.getOwnPropertyDescriptor&&ph?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ma=ph&&Ul&&typeof Ul.get=="function"?Ul.get:null,my=ph&&Map.prototype.forEach,yh=typeof Set=="function"&&Set.prototype,kl=Object.getOwnPropertyDescriptor&&yh?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ua=yh&&kl&&typeof kl.get=="function"?kl.get:null,vy=yh&&Set.prototype.forEach,vR=typeof WeakMap=="function"&&WeakMap.prototype,Xo=vR?WeakMap.prototype.has:null,ER=typeof WeakSet=="function"&&WeakSet.prototype,Qo=ER?WeakSet.prototype.has:null,SR=typeof WeakRef=="function"&&WeakRef.prototype,Ey=SR?WeakRef.prototype.deref:null,TR=Boolean.prototype.valueOf,AR=Object.prototype.toString,BR=Function.prototype.toString,xR=String.prototype.match,_h=String.prototype.slice,jn=String.prototype.replace,NR=String.prototype.toUpperCase,Sy=String.prototype.toLowerCase,Z_=RegExp.prototype.test,Ty=Array.prototype.concat,Fr=Array.prototype.join,OR=Array.prototype.slice,Ay=Math.floor,pc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,zl=Object.getOwnPropertySymbols,yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ao=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ao||"symbol")?Symbol.toStringTag:null,Y_=Object.prototype.propertyIsEnumerable,By=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function xy(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Z_.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var i=t<0?-Ay(-t):Ay(t);if(i!==t){var s=String(i),a=_h.call(e,s.length+1);return jn.call(s,r,"$&_")+"."+jn.call(jn.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return jn.call(e,r,"$&_")}var _c=_a,Ny=_c.custom,Oy=X_(Ny)?Ny:null,IR=function t(e,r,i,s){var a=r||{};if(Fn(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Fn(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=Fn(a,"customInspect")?a.customInspect:!0;if(typeof u!="boolean"&&u!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Fn(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Fn(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ew(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?xy(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return l?xy(e,d):d}var T=typeof a.depth>"u"?5:a.depth;if(typeof i>"u"&&(i=0),i>=T&&T>0&&typeof e=="object")return wc(e)?"[Array]":"[Object]";var I=KR(a,i);if(typeof s>"u")s=[];else if(Q_(s,e)>=0)return"[Circular]";function D(E,b,m){if(b&&(s=OR.call(s),s.push(b)),m){var N={depth:a.depth};return Fn(a,"quoteStyle")&&(N.quoteStyle=a.quoteStyle),t(E,N,i+1,s)}return t(E,a,i+1,s)}if(typeof e=="function"&&!Iy(e)){var U=kR(e),H=ha(e,D);return"[Function"+(U?": "+U:" (anonymous)")+"]"+(H.length>0?" { "+Fr.call(H,", ")+" }":"")}if(X_(e)){var ee=ao?jn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):yc.call(e);return typeof e=="object"&&!ao?jo(ee):ee}if(jR(e)){for(var X="<"+Sy.call(String(e.nodeName)),J=e.attributes||[],S=0;S<J.length;S++)X+=" "+J[S].name+"="+J_(CR(J[S].value),"double",a);return X+=">",e.childNodes&&e.childNodes.length&&(X+="..."),X+="</"+Sy.call(String(e.nodeName))+">",X}if(wc(e)){if(e.length===0)return"[]";var F=ha(e,D);return I&&!GR(F)?"["+bc(F,I)+"]":"[ "+Fr.call(F,", ")+" ]"}if(PR(e)){var w=ha(e,D);return!("cause"in Error.prototype)&&"cause"in e&&!Y_.call(e,"cause")?"{ ["+String(e)+"] "+Fr.call(Ty.call("[cause]: "+D(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Fr.call(w,", ")+" }"}if(typeof e=="object"&&u){if(Oy&&typeof e[Oy]=="function"&&_c)return _c(e,{depth:T-i});if(u!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(zR(e)){var V=[];return my&&my.call(e,function(E,b){V.push(D(b,e,!0)+" => "+D(E,e))}),Cy("Map",Ma.call(e),V,I)}if(HR(e)){var q=[];return vy&&vy.call(e,function(E){q.push(D(E,e))}),Cy("Set",Ua.call(e),q,I)}if(VR(e))return Vl("WeakMap");if(WR(e))return Vl("WeakSet");if(FR(e))return Vl("WeakRef");if($R(e))return jo(D(Number(e)));if(MR(e))return jo(D(pc.call(e)));if(DR(e))return jo(TR.call(e));if(LR(e))return jo(D(String(e)));if(!RR(e)&&!Iy(e)){var Z=ha(e,D),y=By?By(e)===Object.prototype:e instanceof Object||e.constructor===Object,v=e instanceof Object?"":"null prototype",p=!y&&Lt&&Object(e)===e&&Lt in e?_h.call(Xn(e),8,-1):v?"Object":"",O=y||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",g=O+(p||v?"["+Fr.call(Ty.call([],p||[],v||[]),": ")+"] ":"");return Z.length===0?g+"{}":I?g+"{"+bc(Z,I)+"}":g+"{ "+Fr.call(Z,", ")+" }"}return String(e)};function J_(t,e,r){var i=(r.quoteStyle||e)==="double"?'"':"'";return i+t+i}function CR(t){return jn.call(String(t),/"/g,"&quot;")}function wc(t){return Xn(t)==="[object Array]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function RR(t){return Xn(t)==="[object Date]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function Iy(t){return Xn(t)==="[object RegExp]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function PR(t){return Xn(t)==="[object Error]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function LR(t){return Xn(t)==="[object String]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function $R(t){return Xn(t)==="[object Number]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function DR(t){return Xn(t)==="[object Boolean]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function X_(t){if(ao)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!yc)return!1;try{return yc.call(t),!0}catch{}return!1}function MR(t){if(!t||typeof t!="object"||!pc)return!1;try{return pc.call(t),!0}catch{}return!1}var UR=Object.prototype.hasOwnProperty||function(t){return t in this};function Fn(t,e){return UR.call(t,e)}function Xn(t){return AR.call(t)}function kR(t){if(t.name)return t.name;var e=xR.call(BR.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Q_(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function zR(t){if(!Ma||!t||typeof t!="object")return!1;try{Ma.call(t);try{Ua.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function VR(t){if(!Xo||!t||typeof t!="object")return!1;try{Xo.call(t,Xo);try{Qo.call(t,Qo)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function FR(t){if(!Ey||!t||typeof t!="object")return!1;try{return Ey.call(t),!0}catch{}return!1}function HR(t){if(!Ua||!t||typeof t!="object")return!1;try{Ua.call(t);try{Ma.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function WR(t){if(!Qo||!t||typeof t!="object")return!1;try{Qo.call(t,Qo);try{Xo.call(t,Xo)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function jR(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function ew(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return ew(_h.call(t,0,e.maxStringLength),e)+i}var s=jn.call(jn.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,qR);return J_(s,"single",e)}function qR(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+NR.call(e.toString(16))}function jo(t){return"Object("+t+")"}function Vl(t){return t+" { ? }"}function Cy(t,e,r,i){var s=i?bc(r,i):Fr.call(r,", ");return t+" ("+e+") {"+s+"}"}function GR(t){for(var e=0;e<t.length;e++)if(Q_(t[e],`
`)>=0)return!1;return!0}function KR(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Fr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Fr.call(Array(e+1),r)}}function bc(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Fr.call(t,","+r)+`
`+e.prev}function ha(t,e){var r=wc(t),i=[];if(r){i.length=t.length;for(var s=0;s<t.length;s++)i[s]=Fn(t,s)?e(t[s],t):""}var a=typeof zl=="function"?zl(t):[],u;if(ao){u={};for(var l=0;l<a.length;l++)u["$"+a[l]]=a[l]}for(var c in t)Fn(t,c)&&(r&&String(Number(c))===c&&c<t.length||ao&&u["$"+c]instanceof Symbol||(Z_.call(/[^\w$]/,c)?i.push(e(c,t)+": "+e(t[c],t)):i.push(c+": "+e(t[c],t))));if(typeof zl=="function")for(var d=0;d<a.length;d++)Y_.call(t,a[d])&&i.push("["+e(a[d])+"]: "+e(t[a[d]],t));return i}var wh=qT(),_o=GT,ZR=IR,YR=wh("%TypeError%"),da=wh("%WeakMap%",!0),ga=wh("%Map%",!0),JR=_o("WeakMap.prototype.get",!0),XR=_o("WeakMap.prototype.set",!0),QR=_o("WeakMap.prototype.has",!0),eP=_o("Map.prototype.get",!0),tP=_o("Map.prototype.set",!0),rP=_o("Map.prototype.has",!0),bh=function(t,e){for(var r=t,i;(i=r.next)!==null;r=i)if(i.key===e)return r.next=i.next,i.next=t.next,t.next=i,i},nP=function(t,e){var r=bh(t,e);return r&&r.value},iP=function(t,e,r){var i=bh(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}},oP=function(t,e){return!!bh(t,e)},sP=function(){var e,r,i,s={assert:function(a){if(!s.has(a))throw new YR("Side channel does not contain "+ZR(a))},get:function(a){if(da&&a&&(typeof a=="object"||typeof a=="function")){if(e)return JR(e,a)}else if(ga){if(r)return eP(r,a)}else if(i)return nP(i,a)},has:function(a){if(da&&a&&(typeof a=="object"||typeof a=="function")){if(e)return QR(e,a)}else if(ga){if(r)return rP(r,a)}else if(i)return oP(i,a);return!1},set:function(a,u){da&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new da),XR(e,a,u)):ga?(r||(r=new ga),tP(r,a,u)):(i||(i={key:{},next:null}),iP(i,a,u))}};return s},aP=String.prototype.replace,fP=/%20/g,Fl={RFC1738:"RFC1738",RFC3986:"RFC3986"},mh={default:Fl.RFC3986,formatters:{RFC1738:function(t){return aP.call(t,fP,"+")},RFC3986:function(t){return String(t)}},RFC1738:Fl.RFC1738,RFC3986:Fl.RFC3986},uP=mh,Hl=Object.prototype.hasOwnProperty,gi=Array.isArray,Dr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),lP=function(e){for(;e.length>1;){var r=e.pop(),i=r.obj[r.prop];if(gi(i)){for(var s=[],a=0;a<i.length;++a)typeof i[a]<"u"&&s.push(i[a]);r.obj[r.prop]=s}}},tw=function(e,r){for(var i=r&&r.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(i[s]=e[s]);return i},cP=function t(e,r,i){if(!r)return e;if(typeof r!="object"){if(gi(e))e.push(r);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!Hl.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return gi(e)&&!gi(r)&&(s=tw(e,i)),gi(e)&&gi(r)?(r.forEach(function(a,u){if(Hl.call(e,u)){var l=e[u];l&&typeof l=="object"&&a&&typeof a=="object"?e[u]=t(l,a,i):e.push(a)}else e[u]=a}),e):Object.keys(r).reduce(function(a,u){var l=r[u];return Hl.call(a,u)?a[u]=t(a[u],l,i):a[u]=l,a},s)},hP=function(e,r){return Object.keys(r).reduce(function(i,s){return i[s]=r[s],i},e)},dP=function(t,e,r){var i=t.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},gP=function(e,r,i,s,a){if(e.length===0)return e;var u=e;if(typeof e=="symbol"?u=Symbol.prototype.toString.call(e):typeof e!="string"&&(u=String(e)),i==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(T){return"%26%23"+parseInt(T.slice(2),16)+"%3B"});for(var l="",c=0;c<u.length;++c){var d=u.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||a===uP.RFC1738&&(d===40||d===41)){l+=u.charAt(c);continue}if(d<128){l=l+Dr[d];continue}if(d<2048){l=l+(Dr[192|d>>6]+Dr[128|d&63]);continue}if(d<55296||d>=57344){l=l+(Dr[224|d>>12]+Dr[128|d>>6&63]+Dr[128|d&63]);continue}c+=1,d=65536+((d&1023)<<10|u.charCodeAt(c)&1023),l+=Dr[240|d>>18]+Dr[128|d>>12&63]+Dr[128|d>>6&63]+Dr[128|d&63]}return l},pP=function(e){for(var r=[{obj:{o:e},prop:"o"}],i=[],s=0;s<r.length;++s)for(var a=r[s],u=a.obj[a.prop],l=Object.keys(u),c=0;c<l.length;++c){var d=l[c],T=u[d];typeof T=="object"&&T!==null&&i.indexOf(T)===-1&&(r.push({obj:u,prop:d}),i.push(T))}return lP(r),e},yP=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},_P=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},wP=function(e,r){return[].concat(e,r)},bP=function(e,r){if(gi(e)){for(var i=[],s=0;s<e.length;s+=1)i.push(r(e[s]));return i}return r(e)},rw={arrayToObject:tw,assign:hP,combine:wP,compact:pP,decode:dP,encode:gP,isBuffer:_P,isRegExp:yP,maybeMap:bP,merge:cP},nw=sP,Sa=rw,es=mh,mP=Object.prototype.hasOwnProperty,Ry={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},cn=Array.isArray,vP=Array.prototype.push,iw=function(t,e){vP.apply(t,cn(e)?e:[e])},EP=Date.prototype.toISOString,Py=es.default,Ct={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Sa.encode,encodeValuesOnly:!1,format:Py,formatter:es.formatters[Py],indices:!1,serializeDate:function(e){return EP.call(e)},skipNulls:!1,strictNullHandling:!1},SP=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Wl={},TP=function t(e,r,i,s,a,u,l,c,d,T,I,D,U,H,ee,X){for(var J=e,S=X,F=0,w=!1;(S=S.get(Wl))!==void 0&&!w;){var V=S.get(e);if(F+=1,typeof V<"u"){if(V===F)throw new RangeError("Cyclic object value");w=!0}typeof S.get(Wl)>"u"&&(F=0)}if(typeof c=="function"?J=c(r,J):J instanceof Date?J=I(J):i==="comma"&&cn(J)&&(J=Sa.maybeMap(J,function(N){return N instanceof Date?I(N):N})),J===null){if(a)return l&&!H?l(r,Ct.encoder,ee,"key",D):r;J=""}if(SP(J)||Sa.isBuffer(J)){if(l){var q=H?r:l(r,Ct.encoder,ee,"key",D);return[U(q)+"="+U(l(J,Ct.encoder,ee,"value",D))]}return[U(r)+"="+U(String(J))]}var Z=[];if(typeof J>"u")return Z;var y;if(i==="comma"&&cn(J))H&&l&&(J=Sa.maybeMap(J,l)),y=[{value:J.length>0?J.join(",")||null:void 0}];else if(cn(c))y=c;else{var v=Object.keys(J);y=d?v.sort(d):v}for(var p=s&&cn(J)&&J.length===1?r+"[]":r,O=0;O<y.length;++O){var g=y[O],E=typeof g=="object"&&typeof g.value<"u"?g.value:J[g];if(!(u&&E===null)){var b=cn(J)?typeof i=="function"?i(p,g):p:p+(T?"."+g:"["+g+"]");X.set(e,F);var m=nw();m.set(Wl,X),iw(Z,t(E,b,i,s,a,u,i==="comma"&&H&&cn(J)?null:l,c,d,T,I,D,U,H,ee,m))}}return Z},AP=function(e){if(!e)return Ct;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ct.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=es.default;if(typeof e.format<"u"){if(!mP.call(es.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var s=es.formatters[i],a=Ct.filter;return(typeof e.filter=="function"||cn(e.filter))&&(a=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ct.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ct.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ct.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ct.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ct.encode,encoder:typeof e.encoder=="function"?e.encoder:Ct.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ct.encodeValuesOnly,filter:a,format:i,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ct.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ct.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ct.strictNullHandling}},BP=function(t,e){var r=t,i=AP(e),s,a;typeof i.filter=="function"?(a=i.filter,r=a("",r)):cn(i.filter)&&(a=i.filter,s=a);var u=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in Ry?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=Ry[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=c==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(r)),i.sort&&s.sort(i.sort);for(var T=nw(),I=0;I<s.length;++I){var D=s[I];i.skipNulls&&r[D]===null||iw(u,TP(r[D],D,c,d,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,T))}var U=u.join(i.delimiter),H=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?H+="utf8=%26%2310003%3B&":H+="utf8=%E2%9C%93&"),U.length>0?H+U:""},fo=rw,mc=Object.prototype.hasOwnProperty,xP=Array.isArray,Et={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:fo.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},NP=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},ow=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},OP="utf8=%26%2310003%3B",IP="utf8=%E2%9C%93",CP=function(e,r){var i={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,u=s.split(r.delimiter,a),l=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<u.length;++c)u[c].indexOf("utf8=")===0&&(u[c]===IP?d="utf-8":u[c]===OP&&(d="iso-8859-1"),l=c,c=u.length);for(c=0;c<u.length;++c)if(c!==l){var T=u[c],I=T.indexOf("]="),D=I===-1?T.indexOf("="):I+1,U,H;D===-1?(U=r.decoder(T,Et.decoder,d,"key"),H=r.strictNullHandling?null:""):(U=r.decoder(T.slice(0,D),Et.decoder,d,"key"),H=fo.maybeMap(ow(T.slice(D+1),r),function(ee){return r.decoder(ee,Et.decoder,d,"value")})),H&&r.interpretNumericEntities&&d==="iso-8859-1"&&(H=NP(H)),T.indexOf("[]=")>-1&&(H=xP(H)?[H]:H),mc.call(i,U)?i[U]=fo.combine(i[U],H):i[U]=H}return i},RP=function(t,e,r,i){for(var s=i?e:ow(e,r),a=t.length-1;a>=0;--a){var u,l=t[a];if(l==="[]"&&r.parseArrays)u=[].concat(s);else{u=r.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,d=parseInt(c,10);!r.parseArrays&&c===""?u={0:s}:!isNaN(d)&&l!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(u=[],u[d]=s):c!=="__proto__"&&(u[c]=s)}s=u}return s},PP=function(e,r,i,s){if(e){var a=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,u=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=i.depth>0&&u.exec(a),d=c?a.slice(0,c.index):a,T=[];if(d){if(!i.plainObjects&&mc.call(Object.prototype,d)&&!i.allowPrototypes)return;T.push(d)}for(var I=0;i.depth>0&&(c=l.exec(a))!==null&&I<i.depth;){if(I+=1,!i.plainObjects&&mc.call(Object.prototype,c[1].slice(1,-1))&&!i.allowPrototypes)return;T.push(c[1])}return c&&T.push("["+a.slice(c.index)+"]"),RP(T,r,i,s)}},LP=function(e){if(!e)return Et;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Et.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Et.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Et.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Et.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Et.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Et.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Et.comma,decoder:typeof e.decoder=="function"?e.decoder:Et.decoder,delimiter:typeof e.delimiter=="string"||fo.isRegExp(e.delimiter)?e.delimiter:Et.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Et.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Et.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Et.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Et.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Et.strictNullHandling}},$P=function(t,e){var r=LP(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var i=typeof t=="string"?CP(t,r):t,s=r.plainObjects?Object.create(null):{},a=Object.keys(i),u=0;u<a.length;++u){var l=a[u],c=PP(l,i[l],r,typeof t=="string");s=fo.merge(s,c,r)}return r.allowSparse===!0?s:fo.compact(s)},DP=BP,MP=$P,UP=mh,kP={formats:UP,parse:MP,stringify:DP},zP=mR;function wr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var VP=/^([a-z0-9.+-]+:)/i,FP=/:[0-9]*$/,HP=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,WP=["<",">",'"',"`"," ","\r",`
`,"	"],jP=["{","}","|","\\","^","`"].concat(WP),vc=["'"].concat(jP),Ly=["%","/","?",";","#"].concat(vc),$y=["/","?","#"],qP=255,Dy=/^[+a-z0-9A-Z_-]{0,63}$/,GP=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,KP={javascript:!0,"javascript:":!0},Ec={javascript:!0,"javascript:":!0},Qi={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Sc=kP;function ps(t,e,r){if(t&&typeof t=="object"&&t instanceof wr)return t;var i=new wr;return i.parse(t,e,r),i}wr.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=i!==-1&&i<t.indexOf("#")?"?":"#",a=t.split(s),u=/\\/g;a[0]=a[0].replace(u,"/"),t=a.join(s);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=HP.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Sc.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=VP.exec(l);if(d){d=d[0];var T=d.toLowerCase();this.protocol=T,l=l.substr(d.length)}if(r||d||l.match(/^\/\/[^@/]+@[^@/]+/)){var I=l.substr(0,2)==="//";I&&!(d&&Ec[d])&&(l=l.substr(2),this.slashes=!0)}if(!Ec[d]&&(I||d&&!Qi[d])){for(var D=-1,U=0;U<$y.length;U++){var H=l.indexOf($y[U]);H!==-1&&(D===-1||H<D)&&(D=H)}var ee,X;D===-1?X=l.lastIndexOf("@"):X=l.lastIndexOf("@",D),X!==-1&&(ee=l.slice(0,X),l=l.slice(X+1),this.auth=decodeURIComponent(ee)),D=-1;for(var U=0;U<Ly.length;U++){var H=l.indexOf(Ly[U]);H!==-1&&(D===-1||H<D)&&(D=H)}D===-1&&(D=l.length),this.host=l.slice(0,D),l=l.slice(D),this.parseHost(),this.hostname=this.hostname||"";var J=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!J)for(var S=this.hostname.split(/\./),U=0,F=S.length;U<F;U++){var w=S[U];if(w&&!w.match(Dy)){for(var V="",q=0,Z=w.length;q<Z;q++)w.charCodeAt(q)>127?V+="x":V+=w[q];if(!V.match(Dy)){var y=S.slice(0,U),v=S.slice(U+1),p=w.match(GP);p&&(y.push(p[1]),v.unshift(p[2])),v.length&&(l="/"+v.join(".")+l),this.hostname=y.join(".");break}}}this.hostname.length>qP?this.hostname="":this.hostname=this.hostname.toLowerCase(),J||(this.hostname=zP.toASCII(this.hostname));var O=this.port?":"+this.port:"",g=this.hostname||"";this.host=g+O,this.href+=this.host,J&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!KP[T])for(var U=0,F=vc.length;U<F;U++){var E=vc[U];if(l.indexOf(E)!==-1){var b=encodeURIComponent(E);b===E&&(b=escape(E)),l=l.split(E).join(b)}}var m=l.indexOf("#");m!==-1&&(this.hash=l.substr(m),l=l.slice(0,m));var N=l.indexOf("?");if(N!==-1?(this.search=l.substr(N),this.query=l.substr(N+1),e&&(this.query=Sc.parse(this.query)),l=l.slice(0,N)):e&&(this.search="",this.query={}),l&&(this.pathname=l),Qi[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",C=this.search||"";this.path=O+C}return this.href=this.format(),this};function ZP(t){return typeof t=="string"&&(t=ps(t)),t instanceof wr?t.format():wr.prototype.format.call(t)}wr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",s=!1,a="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=Sc.stringify(this.query));var u=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Qi[e])&&s!==!1?(s="//"+(s||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):s||(s=""),i&&i.charAt(0)!=="#"&&(i="#"+i),u&&u.charAt(0)!=="?"&&(u="?"+u),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),u=u.replace("#","%23"),e+s+r+u+i};function YP(t,e){return ps(t,!1,!0).resolve(e)}wr.prototype.resolve=function(t){return this.resolveObject(ps(t,!1,!0)).format()};function JP(t,e){return t?ps(t,!1,!0).resolveObject(e):e}wr.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new wr;e.parse(t,!1,!0),t=e}for(var r=new wr,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];c!=="protocol"&&(r[c]=t[c])}return Qi[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Qi[t.protocol]){for(var d=Object.keys(t),T=0;T<d.length;T++){var I=d[T];r[I]=t[I]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Ec[t.protocol]){for(var F=(t.pathname||"").split("/");F.length&&!(t.host=F.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),F[0]!==""&&F.unshift(""),F.length<2&&F.unshift(""),r.pathname=F.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var D=r.pathname||"",U=r.search||"";r.path=D+U}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var H=r.pathname&&r.pathname.charAt(0)==="/",ee=t.host||t.pathname&&t.pathname.charAt(0)==="/",X=ee||H||r.host&&t.pathname,J=X,S=r.pathname&&r.pathname.split("/")||[],F=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!Qi[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(F[0]===""?F[0]=t.host:F.unshift(t.host)),t.host=null),X=X&&(F[0]===""||S[0]==="")),ee)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=F;else if(F.length)S||(S=[]),S.pop(),S=S.concat(F),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=S.shift(),r.hostname=r.host;var V=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;V&&(r.auth=V.shift(),r.hostname=V.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var q=S.slice(-1)[0],Z=(r.host||t.host||S.length>1)&&(q==="."||q==="..")||q==="",y=0,v=S.length;v>=0;v--)q=S[v],q==="."?S.splice(v,1):q===".."?(S.splice(v,1),y++):y&&(S.splice(v,1),y--);if(!X&&!J)for(;y--;y)S.unshift("..");X&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),Z&&S.join("/").substr(-1)!=="/"&&S.push("");var p=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(w){r.hostname=p?"":S.length?S.shift():"",r.host=r.hostname;var V=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;V&&(r.auth=V.shift(),r.hostname=V.shift(),r.host=r.hostname)}return X=X||r.host&&S.length,X&&!p&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};wr.prototype.parseHost=function(){var t=this.host,e=FP.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};yo.parse=ps;yo.resolve=YP;yo.resolveObject=JP;yo.format=ZP;yo.Url=wr;Object.defineProperty(vi,"__esModule",{value:!0});vi.InvalidStatusCodeError=vi.InvalidCertError=void 0;const sw=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class Tc extends Error{constructor(e,r){super(e),this.fingerprint256=r}}vi.InvalidCertError=Tc;class vh extends Error{constructor(e){super(`Request Failed. Status Code: ${e}`),this.statusCode=e}}vi.InvalidStatusCodeError=vh;function aw(t,e){if(!e||e==="text"||e==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(t);if(e==="text")return r;try{return JSON.parse(r)}catch(i){if(e==="json")throw i;return r}}catch(r){if(e==="text"||e==="json")throw r}return t}let My={};function Ac(t,e){var D;let r={...sw,...e};const i=_a,s=_a,a=_a,{promisify:u}=KT,{resolve:l}=yo,c=!!/^https/.test(t);let d={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const T=U=>U.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const U={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},H=[c,c&&((D=r.sslPinnedCertificates)==null?void 0:D.map(ee=>T(ee)).sort())].join();d.agent=My[H]||(My[H]=new(c?s:i).Agent(U))}r.type==="json"&&(d.headers["Content-Type"]="application/json"),r.data&&(r.method||(d.method="POST"),d.body=r.type==="json"?JSON.stringify(r.data):r.data),d.headers={...d.headers,...r.headers},r.sslAllowSelfSigned&&(d.rejectUnauthorized=!1);const I=async U=>{const H=U.statusCode;if(r.redirect&&300<=H&&H<400&&U.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await Ac(l(t,U.headers.location),r)}if(r.expectStatusCode&&H!==r.expectStatusCode)throw U.resume(),new vh(H);let ee=[];for await(const F of U)ee.push(F);let X=Buffer.concat(ee);const J=U.headers["content-encoding"];J==="br"&&(X=await u(a.brotliDecompress)(X)),(J==="gzip"||J==="deflate")&&(X=await u(a.unzip)(X));const S=aw(X,r.type);return r.full?{headers:U.headers,status:H,body:S}:S};return new Promise((U,H)=>{var F;const ee=async w=>{if(w&&w.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await Ac(t,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(V){V&&V.fingerprint256&&(w=new Tc(`Self-signed SSL certificate: ${V.fingerprint256}`,V.fingerprint256))}H(w)},X=(c?s:i).request(t,d,w=>{w.on("error",ee),(async()=>{try{U(await I(w))}catch(V){H(V)}})()});X.on("error",ee);const J=(F=r.sslPinnedCertificates)==null?void 0:F.map(w=>T(w)),S=w=>{var q;const V=T(((q=w.getPeerCertificate())==null?void 0:q.fingerprint256)||"");if(!(!V&&w.isSessionReused())&&!J.includes(V))return X.emit("error",new Tc(`Invalid SSL certificate: ${V} Expected: ${J}`,V)),X.abort()};r.sslPinnedCertificates&&X.on("socket",w=>{w.listeners("secureConnect").map(q=>(q.name||"").replace("bound ","")).includes("mfetchSecureConnect")||w.on("secureConnect",S.bind(null,w))}),r.keepAlive&&X.setNoDelay(!0),d.body&&X.write(d.body),X.end()})}const XP=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(t=>t.toLowerCase())),QP=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(t=>t.toLowerCase()));async function eL(t,e){let r={...sw,...e};const i=new Headers;r.type==="json"&&i.set("Content-Type","application/json");let s=new URL(t);if(s.username){const c=btoa(`${s.username}:${s.password}`);i.set("Authorization",`Basic ${c}`),s.username="",s.password=""}t=""+s;for(let c in r.headers){const d=c.toLowerCase();(XP.has(d)||r.cors&&!QP.has(d))&&i.set(c,r.headers[c])}let a={headers:i,redirect:r.redirect?"follow":"manual"};r.referrer||(a.referrerPolicy="no-referrer"),r.cors&&(a.mode="cors"),r.data&&(r.method||(a.method="POST"),a.body=r.type==="json"?JSON.stringify(r.data):r.data);const u=await fetch(t,a);if(r.expectStatusCode&&u.status!==r.expectStatusCode)throw new vh(u.status);const l=aw(new Uint8Array(await u.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(u.headers.entries()),status:u.status,body:l}:l}const tL=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function rL(t,e){return(tL?Ac:eL)(t,e)}vi.default=rL;Object.defineProperty(so,"__esModule",{value:!0});so.getProvider=so.fetchFromProvider=void 0;const nL=vi,iL=async(t,e)=>(await(0,nL.default)(t,{headers:{"content-type":"application/json"},type:"json",data:{method:e.method,params:e.params,jsonrpc:"2.0",id:1}})).result;so.fetchFromProvider=iL;const oL=t=>{var e;if(typeof t=="string")return t;if(((e=t==null?void 0:t.connection)==null?void 0:e.url)!==void 0)return t.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};so.getProvider=oL;(function(t){var e=ut&&ut.__createBinding||(Object.create?function(s,a,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(a,u);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(s,l,c)}:function(s,a,u,l){l===void 0&&(l=u),s[l]=a[u]}),r=ut&&ut.__exportStar||function(s,a){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&e(a,s,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=t.ssz=void 0,r(os,t),r(tf,t),r(qc,t),r(as,t),r(nf,t),r(Rt,t),r(Ai,t),t.ssz=O_,r(Kc,t),r(K_,t),r(Pf,t);var i=Qe;Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return i.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return i.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return i.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return i.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return i.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return i.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return i.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return i.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return i.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return i.toAscii}}),r(Lf,t),r(so,t)})(gr);var sL=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,jl=Math.ceil,kr=Math.floor,qt="[BigNumber Error] ",Uy=qt+"Number primitive has more than 15 significant digits: ",Ar=1e14,Oe=14,ql=9007199254740991,Gl=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],kn=1e7,vt=1e9;function fw(t){var e,r,i,s=S.prototype={constructor:S,toString:null,valueOf:null},a=new S(1),u=20,l=4,c=-7,d=21,T=-1e7,I=1e7,D=!1,U=1,H=0,ee={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},X="0123456789abcdefghijklmnopqrstuvwxyz",J=!0;function S(y,v){var p,O,g,E,b,m,N,C,R=this;if(!(R instanceof S))return new S(y,v);if(v==null){if(y&&y._isBigNumber===!0){R.s=y.s,!y.c||y.e>I?R.c=R.e=null:y.e<T?R.c=[R.e=0]:(R.e=y.e,R.c=y.c.slice());return}if((m=typeof y=="number")&&y*0==0){if(R.s=1/y<0?(y=-y,-1):1,y===~~y){for(E=0,b=y;b>=10;b/=10,E++);E>I?R.c=R.e=null:(R.e=E,R.c=[y]);return}C=String(y)}else{if(!sL.test(C=String(y)))return i(R,C,m);R.s=C.charCodeAt(0)==45?(C=C.slice(1),-1):1}(E=C.indexOf("."))>-1&&(C=C.replace(".","")),(b=C.search(/e/i))>0?(E<0&&(E=b),E+=+C.slice(b+1),C=C.substring(0,b)):E<0&&(E=C.length)}else{if(st(v,2,X.length,"Base"),v==10&&J)return R=new S(y),q(R,u+R.e+1,l);if(C=String(y),m=typeof y=="number"){if(y*0!=0)return i(R,C,m,v);if(R.s=1/y<0?(C=C.slice(1),-1):1,S.DEBUG&&C.replace(/^0\.0*|\./,"").length>15)throw Error(Uy+y)}else R.s=C.charCodeAt(0)===45?(C=C.slice(1),-1):1;for(p=X.slice(0,v),E=b=0,N=C.length;b<N;b++)if(p.indexOf(O=C.charAt(b))<0){if(O=="."){if(b>E){E=N;continue}}else if(!g&&(C==C.toUpperCase()&&(C=C.toLowerCase())||C==C.toLowerCase()&&(C=C.toUpperCase()))){g=!0,b=-1,E=0;continue}return i(R,String(y),m,v)}m=!1,C=r(C,v,10,R.s),(E=C.indexOf("."))>-1?C=C.replace(".",""):E=C.length}for(b=0;C.charCodeAt(b)===48;b++);for(N=C.length;C.charCodeAt(--N)===48;);if(C=C.slice(b,++N)){if(N-=b,m&&S.DEBUG&&N>15&&(y>ql||y!==kr(y)))throw Error(Uy+R.s*y);if((E=E-b-1)>I)R.c=R.e=null;else if(E<T)R.c=[R.e=0];else{if(R.e=E,R.c=[],b=(E+1)%Oe,E<0&&(b+=Oe),b<N){for(b&&R.c.push(+C.slice(0,b)),N-=Oe;b<N;)R.c.push(+C.slice(b,b+=Oe));b=Oe-(C=C.slice(b)).length}else b-=N;for(;b--;C+="0");R.c.push(+C)}}else R.c=[R.e=0]}S.clone=fw,S.ROUND_UP=0,S.ROUND_DOWN=1,S.ROUND_CEIL=2,S.ROUND_FLOOR=3,S.ROUND_HALF_UP=4,S.ROUND_HALF_DOWN=5,S.ROUND_HALF_EVEN=6,S.ROUND_HALF_CEIL=7,S.ROUND_HALF_FLOOR=8,S.EUCLID=9,S.config=S.set=function(y){var v,p;if(y!=null)if(typeof y=="object"){if(y.hasOwnProperty(v="DECIMAL_PLACES")&&(p=y[v],st(p,0,vt,v),u=p),y.hasOwnProperty(v="ROUNDING_MODE")&&(p=y[v],st(p,0,8,v),l=p),y.hasOwnProperty(v="EXPONENTIAL_AT")&&(p=y[v],p&&p.pop?(st(p[0],-vt,0,v),st(p[1],0,vt,v),c=p[0],d=p[1]):(st(p,-vt,vt,v),c=-(d=p<0?-p:p))),y.hasOwnProperty(v="RANGE"))if(p=y[v],p&&p.pop)st(p[0],-vt,-1,v),st(p[1],1,vt,v),T=p[0],I=p[1];else if(st(p,-vt,vt,v),p)T=-(I=p<0?-p:p);else throw Error(qt+v+" cannot be zero: "+p);if(y.hasOwnProperty(v="CRYPTO"))if(p=y[v],p===!!p)if(p)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))D=p;else throw D=!p,Error(qt+"crypto unavailable");else D=p;else throw Error(qt+v+" not true or false: "+p);if(y.hasOwnProperty(v="MODULO_MODE")&&(p=y[v],st(p,0,9,v),U=p),y.hasOwnProperty(v="POW_PRECISION")&&(p=y[v],st(p,0,vt,v),H=p),y.hasOwnProperty(v="FORMAT"))if(p=y[v],typeof p=="object")ee=p;else throw Error(qt+v+" not an object: "+p);if(y.hasOwnProperty(v="ALPHABET"))if(p=y[v],typeof p=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(p))J=p.slice(0,10)=="0123456789",X=p;else throw Error(qt+v+" invalid: "+p)}else throw Error(qt+"Object expected: "+y);return{DECIMAL_PLACES:u,ROUNDING_MODE:l,EXPONENTIAL_AT:[c,d],RANGE:[T,I],CRYPTO:D,MODULO_MODE:U,POW_PRECISION:H,FORMAT:ee,ALPHABET:X}},S.isBigNumber=function(y){if(!y||y._isBigNumber!==!0)return!1;if(!S.DEBUG)return!0;var v,p,O=y.c,g=y.e,E=y.s;e:if({}.toString.call(O)=="[object Array]"){if((E===1||E===-1)&&g>=-vt&&g<=vt&&g===kr(g)){if(O[0]===0){if(g===0&&O.length===1)return!0;break e}if(v=(g+1)%Oe,v<1&&(v+=Oe),String(O[0]).length==v){for(v=0;v<O.length;v++)if(p=O[v],p<0||p>=Ar||p!==kr(p))break e;if(p!==0)return!0}}}else if(O===null&&g===null&&(E===null||E===1||E===-1))return!0;throw Error(qt+"Invalid BigNumber: "+y)},S.maximum=S.max=function(){return w(arguments,s.lt)},S.minimum=S.min=function(){return w(arguments,s.gt)},S.random=function(){var y=9007199254740992,v=Math.random()*y&2097151?function(){return kr(Math.random()*y)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(p){var O,g,E,b,m,N=0,C=[],R=new S(a);if(p==null?p=u:st(p,0,vt),b=jl(p/Oe),D)if(crypto.getRandomValues){for(O=crypto.getRandomValues(new Uint32Array(b*=2));N<b;)m=O[N]*131072+(O[N+1]>>>11),m>=9e15?(g=crypto.getRandomValues(new Uint32Array(2)),O[N]=g[0],O[N+1]=g[1]):(C.push(m%1e14),N+=2);N=b/2}else if(crypto.randomBytes){for(O=crypto.randomBytes(b*=7);N<b;)m=(O[N]&31)*281474976710656+O[N+1]*1099511627776+O[N+2]*4294967296+O[N+3]*16777216+(O[N+4]<<16)+(O[N+5]<<8)+O[N+6],m>=9e15?crypto.randomBytes(7).copy(O,N):(C.push(m%1e14),N+=7);N=b/7}else throw D=!1,Error(qt+"crypto unavailable");if(!D)for(;N<b;)m=v(),m<9e15&&(C[N++]=m%1e14);for(b=C[--N],p%=Oe,b&&p&&(m=Gl[Oe-p],C[N]=kr(b/m)*m);C[N]===0;C.pop(),N--);if(N<0)C=[E=0];else{for(E=-1;C[0]===0;C.splice(0,1),E-=Oe);for(N=1,m=C[0];m>=10;m/=10,N++);N<Oe&&(E-=Oe-N)}return R.e=E,R.c=C,R}}(),S.sum=function(){for(var y=1,v=arguments,p=new S(v[0]);y<v.length;)p=p.plus(v[y++]);return p},r=function(){var y="0123456789";function v(p,O,g,E){for(var b,m=[0],N,C=0,R=p.length;C<R;){for(N=m.length;N--;m[N]*=O);for(m[0]+=E.indexOf(p.charAt(C++)),b=0;b<m.length;b++)m[b]>g-1&&(m[b+1]==null&&(m[b+1]=0),m[b+1]+=m[b]/g|0,m[b]%=g)}return m.reverse()}return function(p,O,g,E,b){var m,N,C,R,L,x,j,te,ie=p.indexOf("."),oe=u,re=l;for(ie>=0&&(R=H,H=0,p=p.replace(".",""),te=new S(O),x=te.pow(p.length-ie),H=R,te.c=v(un(cr(x.c),x.e,"0"),10,g,y),te.e=te.c.length),j=v(p,O,g,b?(m=X,y):(m=y,X)),C=R=j.length;j[--R]==0;j.pop());if(!j[0])return m.charAt(0);if(ie<0?--C:(x.c=j,x.e=C,x.s=E,x=e(x,te,oe,re,g),j=x.c,L=x.r,C=x.e),N=C+oe+1,ie=j[N],R=g/2,L=L||N<0||j[N+1]!=null,L=re<4?(ie!=null||L)&&(re==0||re==(x.s<0?3:2)):ie>R||ie==R&&(re==4||L||re==6&&j[N-1]&1||re==(x.s<0?8:7)),N<1||!j[0])p=L?un(m.charAt(1),-oe,m.charAt(0)):m.charAt(0);else{if(j.length=N,L)for(--g;++j[--N]>g;)j[N]=0,N||(++C,j=[1].concat(j));for(R=j.length;!j[--R];);for(ie=0,p="";ie<=R;p+=m.charAt(j[ie++]));p=un(p,C,m.charAt(0))}return p}}(),e=function(){function y(O,g,E){var b,m,N,C,R=0,L=O.length,x=g%kn,j=g/kn|0;for(O=O.slice();L--;)N=O[L]%kn,C=O[L]/kn|0,b=j*N+C*x,m=x*N+b%kn*kn+R,R=(m/E|0)+(b/kn|0)+j*C,O[L]=m%E;return R&&(O=[R].concat(O)),O}function v(O,g,E,b){var m,N;if(E!=b)N=E>b?1:-1;else for(m=N=0;m<E;m++)if(O[m]!=g[m]){N=O[m]>g[m]?1:-1;break}return N}function p(O,g,E,b){for(var m=0;E--;)O[E]-=m,m=O[E]<g[E]?1:0,O[E]=m*b+O[E]-g[E];for(;!O[0]&&O.length>1;O.splice(0,1));}return function(O,g,E,b,m){var N,C,R,L,x,j,te,ie,oe,re,fe,be,ye,ge,Re,ve,Ae,$=O.s==g.s?1:-1,M=O.c,Y=g.c;if(!M||!M[0]||!Y||!Y[0])return new S(!O.s||!g.s||(M?Y&&M[0]==Y[0]:!Y)?NaN:M&&M[0]==0||!Y?$*0:$/0);for(ie=new S($),oe=ie.c=[],C=O.e-g.e,$=E+C+1,m||(m=Ar,C=hr(O.e/Oe)-hr(g.e/Oe),$=$/Oe|0),R=0;Y[R]==(M[R]||0);R++);if(Y[R]>(M[R]||0)&&C--,$<0)oe.push(1),L=!0;else{for(ge=M.length,ve=Y.length,R=0,$+=2,x=kr(m/(Y[0]+1)),x>1&&(Y=y(Y,x,m),M=y(M,x,m),ve=Y.length,ge=M.length),ye=ve,re=M.slice(0,ve),fe=re.length;fe<ve;re[fe++]=0);Ae=Y.slice(),Ae=[0].concat(Ae),Re=Y[0],Y[1]>=m/2&&Re++;do{if(x=0,N=v(Y,re,ve,fe),N<0){if(be=re[0],ve!=fe&&(be=be*m+(re[1]||0)),x=kr(be/Re),x>1)for(x>=m&&(x=m-1),j=y(Y,x,m),te=j.length,fe=re.length;v(j,re,te,fe)==1;)x--,p(j,ve<te?Ae:Y,te,m),te=j.length,N=1;else x==0&&(N=x=1),j=Y.slice(),te=j.length;if(te<fe&&(j=[0].concat(j)),p(re,j,fe,m),fe=re.length,N==-1)for(;v(Y,re,ve,fe)<1;)x++,p(re,ve<fe?Ae:Y,fe,m),fe=re.length}else N===0&&(x++,re=[0]);oe[R++]=x,re[0]?re[fe++]=M[ye]||0:(re=[M[ye]],fe=1)}while((ye++<ge||re[0]!=null)&&$--);L=re[0]!=null,oe[0]||oe.splice(0,1)}if(m==Ar){for(R=1,$=oe[0];$>=10;$/=10,R++);q(ie,E+(ie.e=R+C*Oe-1)+1,b,L)}else ie.e=C,ie.r=+L;return ie}}();function F(y,v,p,O){var g,E,b,m,N;if(p==null?p=l:st(p,0,8),!y.c)return y.toString();if(g=y.c[0],b=y.e,v==null)N=cr(y.c),N=O==1||O==2&&(b<=c||b>=d)?ya(N,b):un(N,b,"0");else if(y=q(new S(y),v,p),E=y.e,N=cr(y.c),m=N.length,O==1||O==2&&(v<=E||E<=c)){for(;m<v;N+="0",m++);N=ya(N,E)}else if(v-=b,N=un(N,E,"0"),E+1>m){if(--v>0)for(N+=".";v--;N+="0");}else if(v+=E-m,v>0)for(E+1==m&&(N+=".");v--;N+="0");return y.s<0&&g?"-"+N:N}function w(y,v){for(var p,O=1,g=new S(y[0]);O<y.length;O++)if(p=new S(y[O]),p.s)v.call(g,p)&&(g=p);else{g=p;break}return g}function V(y,v,p){for(var O=1,g=v.length;!v[--g];v.pop());for(g=v[0];g>=10;g/=10,O++);return(p=O+p*Oe-1)>I?y.c=y.e=null:p<T?y.c=[y.e=0]:(y.e=p,y.c=v),y}i=function(){var y=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,p=/^\.([^.]+)$/,O=/^-?(Infinity|NaN)$/,g=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(E,b,m,N){var C,R=m?b:b.replace(g,"");if(O.test(R))E.s=isNaN(R)?null:R<0?-1:1;else{if(!m&&(R=R.replace(y,function(L,x,j){return C=(j=j.toLowerCase())=="x"?16:j=="b"?2:8,!N||N==C?x:L}),N&&(C=N,R=R.replace(v,"$1").replace(p,"0.$1")),b!=R))return new S(R,C);if(S.DEBUG)throw Error(qt+"Not a"+(N?" base "+N:"")+" number: "+b);E.s=null}E.c=E.e=null}}();function q(y,v,p,O){var g,E,b,m,N,C,R,L=y.c,x=Gl;if(L){e:{for(g=1,m=L[0];m>=10;m/=10,g++);if(E=v-g,E<0)E+=Oe,b=v,N=L[C=0],R=N/x[g-b-1]%10|0;else if(C=jl((E+1)/Oe),C>=L.length)if(O){for(;L.length<=C;L.push(0));N=R=0,g=1,E%=Oe,b=E-Oe+1}else break e;else{for(N=m=L[C],g=1;m>=10;m/=10,g++);E%=Oe,b=E-Oe+g,R=b<0?0:N/x[g-b-1]%10|0}if(O=O||v<0||L[C+1]!=null||(b<0?N:N%x[g-b-1]),O=p<4?(R||O)&&(p==0||p==(y.s<0?3:2)):R>5||R==5&&(p==4||O||p==6&&(E>0?b>0?N/x[g-b]:0:L[C-1])%10&1||p==(y.s<0?8:7)),v<1||!L[0])return L.length=0,O?(v-=y.e+1,L[0]=x[(Oe-v%Oe)%Oe],y.e=-v||0):L[0]=y.e=0,y;if(E==0?(L.length=C,m=1,C--):(L.length=C+1,m=x[Oe-E],L[C]=b>0?kr(N/x[g-b]%x[b])*m:0),O)for(;;)if(C==0){for(E=1,b=L[0];b>=10;b/=10,E++);for(b=L[0]+=m,m=1;b>=10;b/=10,m++);E!=m&&(y.e++,L[0]==Ar&&(L[0]=1));break}else{if(L[C]+=m,L[C]!=Ar)break;L[C--]=0,m=1}for(E=L.length;L[--E]===0;L.pop());}y.e>I?y.c=y.e=null:y.e<T&&(y.c=[y.e=0])}return y}function Z(y){var v,p=y.e;return p===null?y.toString():(v=cr(y.c),v=p<=c||p>=d?ya(v,p):un(v,p,"0"),y.s<0?"-"+v:v)}return s.absoluteValue=s.abs=function(){var y=new S(this);return y.s<0&&(y.s=1),y},s.comparedTo=function(y,v){return Gi(this,new S(y,v))},s.decimalPlaces=s.dp=function(y,v){var p,O,g,E=this;if(y!=null)return st(y,0,vt),v==null?v=l:st(v,0,8),q(new S(E),y+E.e+1,v);if(!(p=E.c))return null;if(O=((g=p.length-1)-hr(this.e/Oe))*Oe,g=p[g])for(;g%10==0;g/=10,O--);return O<0&&(O=0),O},s.dividedBy=s.div=function(y,v){return e(this,new S(y,v),u,l)},s.dividedToIntegerBy=s.idiv=function(y,v){return e(this,new S(y,v),0,1)},s.exponentiatedBy=s.pow=function(y,v){var p,O,g,E,b,m,N,C,R,L=this;if(y=new S(y),y.c&&!y.isInteger())throw Error(qt+"Exponent not an integer: "+Z(y));if(v!=null&&(v=new S(v)),m=y.e>14,!L.c||!L.c[0]||L.c[0]==1&&!L.e&&L.c.length==1||!y.c||!y.c[0])return R=new S(Math.pow(+Z(L),m?y.s*(2-pa(y)):+Z(y))),v?R.mod(v):R;if(N=y.s<0,v){if(v.c?!v.c[0]:!v.s)return new S(NaN);O=!N&&L.isInteger()&&v.isInteger(),O&&(L=L.mod(v))}else{if(y.e>9&&(L.e>0||L.e<-1||(L.e==0?L.c[0]>1||m&&L.c[1]>=24e7:L.c[0]<8e13||m&&L.c[0]<=9999975e7)))return E=L.s<0&&pa(y)?-0:0,L.e>-1&&(E=1/E),new S(N?1/E:E);H&&(E=jl(H/Oe+2))}for(m?(p=new S(.5),N&&(y.s=1),C=pa(y)):(g=Math.abs(+Z(y)),C=g%2),R=new S(a);;){if(C){if(R=R.times(L),!R.c)break;E?R.c.length>E&&(R.c.length=E):O&&(R=R.mod(v))}if(g){if(g=kr(g/2),g===0)break;C=g%2}else if(y=y.times(p),q(y,y.e+1,1),y.e>14)C=pa(y);else{if(g=+Z(y),g===0)break;C=g%2}L=L.times(L),E?L.c&&L.c.length>E&&(L.c.length=E):O&&(L=L.mod(v))}return O?R:(N&&(R=a.div(R)),v?R.mod(v):E?q(R,H,l,b):R)},s.integerValue=function(y){var v=new S(this);return y==null?y=l:st(y,0,8),q(v,v.e+1,y)},s.isEqualTo=s.eq=function(y,v){return Gi(this,new S(y,v))===0},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(y,v){return Gi(this,new S(y,v))>0},s.isGreaterThanOrEqualTo=s.gte=function(y,v){return(v=Gi(this,new S(y,v)))===1||v===0},s.isInteger=function(){return!!this.c&&hr(this.e/Oe)>this.c.length-2},s.isLessThan=s.lt=function(y,v){return Gi(this,new S(y,v))<0},s.isLessThanOrEqualTo=s.lte=function(y,v){return(v=Gi(this,new S(y,v)))===-1||v===0},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&this.c[0]==0},s.minus=function(y,v){var p,O,g,E,b=this,m=b.s;if(y=new S(y,v),v=y.s,!m||!v)return new S(NaN);if(m!=v)return y.s=-v,b.plus(y);var N=b.e/Oe,C=y.e/Oe,R=b.c,L=y.c;if(!N||!C){if(!R||!L)return R?(y.s=-v,y):new S(L?b:NaN);if(!R[0]||!L[0])return L[0]?(y.s=-v,y):new S(R[0]?b:l==3?-0:0)}if(N=hr(N),C=hr(C),R=R.slice(),m=N-C){for((E=m<0)?(m=-m,g=R):(C=N,g=L),g.reverse(),v=m;v--;g.push(0));g.reverse()}else for(O=(E=(m=R.length)<(v=L.length))?m:v,m=v=0;v<O;v++)if(R[v]!=L[v]){E=R[v]<L[v];break}if(E&&(g=R,R=L,L=g,y.s=-y.s),v=(O=L.length)-(p=R.length),v>0)for(;v--;R[p++]=0);for(v=Ar-1;O>m;){if(R[--O]<L[O]){for(p=O;p&&!R[--p];R[p]=v);--R[p],R[O]+=Ar}R[O]-=L[O]}for(;R[0]==0;R.splice(0,1),--C);return R[0]?V(y,R,C):(y.s=l==3?-1:1,y.c=[y.e=0],y)},s.modulo=s.mod=function(y,v){var p,O,g=this;return y=new S(y,v),!g.c||!y.s||y.c&&!y.c[0]?new S(NaN):!y.c||g.c&&!g.c[0]?new S(g):(U==9?(O=y.s,y.s=1,p=e(g,y,0,3),y.s=O,p.s*=O):p=e(g,y,0,U),y=g.minus(p.times(y)),!y.c[0]&&U==1&&(y.s=g.s),y)},s.multipliedBy=s.times=function(y,v){var p,O,g,E,b,m,N,C,R,L,x,j,te,ie,oe,re=this,fe=re.c,be=(y=new S(y,v)).c;if(!fe||!be||!fe[0]||!be[0])return!re.s||!y.s||fe&&!fe[0]&&!be||be&&!be[0]&&!fe?y.c=y.e=y.s=null:(y.s*=re.s,!fe||!be?y.c=y.e=null:(y.c=[0],y.e=0)),y;for(O=hr(re.e/Oe)+hr(y.e/Oe),y.s*=re.s,N=fe.length,L=be.length,N<L&&(te=fe,fe=be,be=te,g=N,N=L,L=g),g=N+L,te=[];g--;te.push(0));for(ie=Ar,oe=kn,g=L;--g>=0;){for(p=0,x=be[g]%oe,j=be[g]/oe|0,b=N,E=g+b;E>g;)C=fe[--b]%oe,R=fe[b]/oe|0,m=j*C+R*x,C=x*C+m%oe*oe+te[E]+p,p=(C/ie|0)+(m/oe|0)+j*R,te[E--]=C%ie;te[E]=p}return p?++O:te.splice(0,1),V(y,te,O)},s.negated=function(){var y=new S(this);return y.s=-y.s||null,y},s.plus=function(y,v){var p,O=this,g=O.s;if(y=new S(y,v),v=y.s,!g||!v)return new S(NaN);if(g!=v)return y.s=-v,O.minus(y);var E=O.e/Oe,b=y.e/Oe,m=O.c,N=y.c;if(!E||!b){if(!m||!N)return new S(g/0);if(!m[0]||!N[0])return N[0]?y:new S(m[0]?O:g*0)}if(E=hr(E),b=hr(b),m=m.slice(),g=E-b){for(g>0?(b=E,p=N):(g=-g,p=m),p.reverse();g--;p.push(0));p.reverse()}for(g=m.length,v=N.length,g-v<0&&(p=N,N=m,m=p,v=g),g=0;v;)g=(m[--v]=m[v]+N[v]+g)/Ar|0,m[v]=Ar===m[v]?0:m[v]%Ar;return g&&(m=[g].concat(m),++b),V(y,m,b)},s.precision=s.sd=function(y,v){var p,O,g,E=this;if(y!=null&&y!==!!y)return st(y,1,vt),v==null?v=l:st(v,0,8),q(new S(E),y,v);if(!(p=E.c))return null;if(g=p.length-1,O=g*Oe+1,g=p[g]){for(;g%10==0;g/=10,O--);for(g=p[0];g>=10;g/=10,O++);}return y&&E.e+1>O&&(O=E.e+1),O},s.shiftedBy=function(y){return st(y,-ql,ql),this.times("1e"+y)},s.squareRoot=s.sqrt=function(){var y,v,p,O,g,E=this,b=E.c,m=E.s,N=E.e,C=u+4,R=new S("0.5");if(m!==1||!b||!b[0])return new S(!m||m<0&&(!b||b[0])?NaN:b?E:1/0);if(m=Math.sqrt(+Z(E)),m==0||m==1/0?(v=cr(b),(v.length+N)%2==0&&(v+="0"),m=Math.sqrt(+v),N=hr((N+1)/2)-(N<0||N%2),m==1/0?v="5e"+N:(v=m.toExponential(),v=v.slice(0,v.indexOf("e")+1)+N),p=new S(v)):p=new S(m+""),p.c[0]){for(N=p.e,m=N+C,m<3&&(m=0);;)if(g=p,p=R.times(g.plus(e(E,g,C,1))),cr(g.c).slice(0,m)===(v=cr(p.c)).slice(0,m))if(p.e<N&&--m,v=v.slice(m-3,m+1),v=="9999"||!O&&v=="4999"){if(!O&&(q(g,g.e+u+2,0),g.times(g).eq(E))){p=g;break}C+=4,m+=4,O=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(q(p,p.e+u+2,1),y=!p.times(p).eq(E));break}}return q(p,p.e+u+1,l,y)},s.toExponential=function(y,v){return y!=null&&(st(y,0,vt),y++),F(this,y,v,1)},s.toFixed=function(y,v){return y!=null&&(st(y,0,vt),y=y+this.e+1),F(this,y,v)},s.toFormat=function(y,v,p){var O,g=this;if(p==null)y!=null&&v&&typeof v=="object"?(p=v,v=null):y&&typeof y=="object"?(p=y,y=v=null):p=ee;else if(typeof p!="object")throw Error(qt+"Argument not an object: "+p);if(O=g.toFixed(y,v),g.c){var E,b=O.split("."),m=+p.groupSize,N=+p.secondaryGroupSize,C=p.groupSeparator||"",R=b[0],L=b[1],x=g.s<0,j=x?R.slice(1):R,te=j.length;if(N&&(E=m,m=N,N=E,te-=E),m>0&&te>0){for(E=te%m||m,R=j.substr(0,E);E<te;E+=m)R+=C+j.substr(E,m);N>0&&(R+=C+j.slice(E)),x&&(R="-"+R)}O=L?R+(p.decimalSeparator||"")+((N=+p.fractionGroupSize)?L.replace(new RegExp("\\d{"+N+"}\\B","g"),"$&"+(p.fractionGroupSeparator||"")):L):R}return(p.prefix||"")+O+(p.suffix||"")},s.toFraction=function(y){var v,p,O,g,E,b,m,N,C,R,L,x,j=this,te=j.c;if(y!=null&&(m=new S(y),!m.isInteger()&&(m.c||m.s!==1)||m.lt(a)))throw Error(qt+"Argument "+(m.isInteger()?"out of range: ":"not an integer: ")+Z(m));if(!te)return new S(j);for(v=new S(a),C=p=new S(a),O=N=new S(a),x=cr(te),E=v.e=x.length-j.e-1,v.c[0]=Gl[(b=E%Oe)<0?Oe+b:b],y=!y||m.comparedTo(v)>0?E>0?v:C:m,b=I,I=1/0,m=new S(x),N.c[0]=0;R=e(m,v,0,1),g=p.plus(R.times(O)),g.comparedTo(y)!=1;)p=O,O=g,C=N.plus(R.times(g=C)),N=g,v=m.minus(R.times(g=v)),m=g;return g=e(y.minus(p),O,0,1),N=N.plus(g.times(C)),p=p.plus(g.times(O)),N.s=C.s=j.s,E=E*2,L=e(C,O,E,l).minus(j).abs().comparedTo(e(N,p,E,l).minus(j).abs())<1?[C,O]:[N,p],I=b,L},s.toNumber=function(){return+Z(this)},s.toPrecision=function(y,v){return y!=null&&st(y,1,vt),F(this,y,v,2)},s.toString=function(y){var v,p=this,O=p.s,g=p.e;return g===null?O?(v="Infinity",O<0&&(v="-"+v)):v="NaN":(y==null?v=g<=c||g>=d?ya(cr(p.c),g):un(cr(p.c),g,"0"):y===10&&J?(p=q(new S(p),u+g+1,l),v=un(cr(p.c),p.e,"0")):(st(y,2,X.length,"Base"),v=r(un(cr(p.c),g,"0"),10,y,O,!0)),O<0&&p.c[0]&&(v="-"+v)),v},s.valueOf=s.toJSON=function(){return Z(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,t!=null&&S.set(t),S}function hr(t){var e=t|0;return t>0||t===e?e:e-1}function cr(t){for(var e,r,i=1,s=t.length,a=t[0]+"";i<s;){for(e=t[i++]+"",r=Oe-e.length;r--;e="0"+e);a+=e}for(s=a.length;a.charCodeAt(--s)===48;);return a.slice(0,s+1||1)}function Gi(t,e){var r,i,s=t.c,a=e.c,u=t.s,l=e.s,c=t.e,d=e.e;if(!u||!l)return null;if(r=s&&!s[0],i=a&&!a[0],r||i)return r?i?0:-l:u;if(u!=l)return u;if(r=u<0,i=c==d,!s||!a)return i?0:!s^r?1:-1;if(!i)return c>d^r?1:-1;for(l=(c=s.length)<(d=a.length)?c:d,u=0;u<l;u++)if(s[u]!=a[u])return s[u]>a[u]^r?1:-1;return c==d?0:c>d^r?1:-1}function st(t,e,r,i){if(t<e||t>r||t!==kr(t))throw Error(qt+(i||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function pa(t){var e=t.c.length-1;return hr(t.e/Oe)==e&&t.c[e]%2!=0}function ya(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function un(t,e,r){var i,s;if(e<0){for(s=r+".";++e;s+=r);t=s+t}else if(i=t.length,++e>i){for(s=r,e-=i;--e;s+=r);t+=s}else e<i&&(t=t.slice(0,e)+"."+t.slice(e));return t}var LL=fw(),ka={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ka.exports;(function(t,e){(function(){var r,i="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,T="__lodash_placeholder__",I=1,D=2,U=4,H=1,ee=2,X=1,J=2,S=4,F=8,w=16,V=32,q=64,Z=128,y=256,v=512,p=30,O="...",g=800,E=16,b=1,m=2,N=3,C=1/0,R=9007199254740991,L=17976931348623157e292,x=0/0,j=4294967295,te=j-1,ie=j>>>1,oe=[["ary",Z],["bind",X],["bindKey",J],["curry",F],["curryRight",w],["flip",v],["partial",V],["partialRight",q],["rearg",y]],re="[object Arguments]",fe="[object Array]",be="[object AsyncFunction]",ye="[object Boolean]",ge="[object Date]",Re="[object DOMException]",ve="[object Error]",Ae="[object Function]",$="[object GeneratorFunction]",M="[object Map]",Y="[object Number]",de="[object Null]",le="[object Object]",Be="[object Promise]",Ie="[object Proxy]",ze="[object RegExp]",He="[object Set]",yt="[object String]",lt="[object Symbol]",Ir="[object Undefined]",P="[object WeakMap]",k="[object WeakSet]",ce="[object ArrayBuffer]",he="[object DataView]",_e="[object Float32Array]",Ze="[object Float64Array]",Ge="[object Int8Array]",Yt="[object Int16Array]",Vt="[object Int32Array]",Yr="[object Uint8Array]",wo="[object Uint8ClampedArray]",Bi="[object Uint16Array]",xi="[object Uint32Array]",bo=/\b__p \+= '';/g,mo=/\b(__p \+=) '' \+/g,vo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tn=/&(?:amp|lt|gt|quot|#39);/g,Cr=/[&<>"']/g,mr=RegExp(Tn.source),lw=RegExp(Cr.source),cw=/<%-([\s\S]+?)%>/g,hw=/<%([\s\S]+?)%>/g,Eh=/<%=([\s\S]+?)%>/g,dw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gw=/^\w*$/,pw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$f=/[\\^$.*+?()[\]{}|]/g,yw=RegExp($f.source),Df=/^\s+/,_w=/\s/,ww=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bw=/\{\n\/\* \[wrapped with (.+)\] \*/,mw=/,? & /,vw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ew=/[()=,{}\[\]\/\s]/,Sw=/\\(\\)?/g,Tw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sh=/\w*$/,Aw=/^[-+]0x[0-9a-f]+$/i,Bw=/^0b[01]+$/i,xw=/^\[object .+?Constructor\]$/,Nw=/^0o[0-7]+$/i,Ow=/^(?:0|[1-9]\d*)$/,Iw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ys=/($^)/,Cw=/['\n\r\u2028\u2029\\]/g,_s="\\ud800-\\udfff",Rw="\\u0300-\\u036f",Pw="\\ufe20-\\ufe2f",Lw="\\u20d0-\\u20ff",Th=Rw+Pw+Lw,Ah="\\u2700-\\u27bf",Bh="a-z\\xdf-\\xf6\\xf8-\\xff",$w="\\xac\\xb1\\xd7\\xf7",Dw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mw="\\u2000-\\u206f",Uw=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xh="A-Z\\xc0-\\xd6\\xd8-\\xde",Nh="\\ufe0e\\ufe0f",Oh=$w+Dw+Mw+Uw,Mf="[']",kw="["+_s+"]",Ih="["+Oh+"]",ws="["+Th+"]",Ch="\\d+",zw="["+Ah+"]",Rh="["+Bh+"]",Ph="[^"+_s+Oh+Ch+Ah+Bh+xh+"]",Uf="\\ud83c[\\udffb-\\udfff]",Vw="(?:"+ws+"|"+Uf+")",Lh="[^"+_s+"]",kf="(?:\\ud83c[\\udde6-\\uddff]){2}",zf="[\\ud800-\\udbff][\\udc00-\\udfff]",Ni="["+xh+"]",$h="\\u200d",Dh="(?:"+Rh+"|"+Ph+")",Fw="(?:"+Ni+"|"+Ph+")",Mh="(?:"+Mf+"(?:d|ll|m|re|s|t|ve))?",Uh="(?:"+Mf+"(?:D|LL|M|RE|S|T|VE))?",kh=Vw+"?",zh="["+Nh+"]?",Hw="(?:"+$h+"(?:"+[Lh,kf,zf].join("|")+")"+zh+kh+")*",Ww="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jw="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vh=zh+kh+Hw,qw="(?:"+[zw,kf,zf].join("|")+")"+Vh,Gw="(?:"+[Lh+ws+"?",ws,kf,zf,kw].join("|")+")",Kw=RegExp(Mf,"g"),Zw=RegExp(ws,"g"),Vf=RegExp(Uf+"(?="+Uf+")|"+Gw+Vh,"g"),Yw=RegExp([Ni+"?"+Rh+"+"+Mh+"(?="+[Ih,Ni,"$"].join("|")+")",Fw+"+"+Uh+"(?="+[Ih,Ni+Dh,"$"].join("|")+")",Ni+"?"+Dh+"+"+Mh,Ni+"+"+Uh,jw,Ww,Ch,qw].join("|"),"g"),Jw=RegExp("["+$h+_s+Th+Nh+"]"),Xw=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qw=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eb=-1,tt={};tt[_e]=tt[Ze]=tt[Ge]=tt[Yt]=tt[Vt]=tt[Yr]=tt[wo]=tt[Bi]=tt[xi]=!0,tt[re]=tt[fe]=tt[ce]=tt[ye]=tt[he]=tt[ge]=tt[ve]=tt[Ae]=tt[M]=tt[Y]=tt[le]=tt[ze]=tt[He]=tt[yt]=tt[P]=!1;var Je={};Je[re]=Je[fe]=Je[ce]=Je[he]=Je[ye]=Je[ge]=Je[_e]=Je[Ze]=Je[Ge]=Je[Yt]=Je[Vt]=Je[M]=Je[Y]=Je[le]=Je[ze]=Je[He]=Je[yt]=Je[lt]=Je[Yr]=Je[wo]=Je[Bi]=Je[xi]=!0,Je[ve]=Je[Ae]=Je[P]=!1;var tb={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},rb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ib={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ob=parseFloat,sb=parseInt,Fh=typeof ut=="object"&&ut&&ut.Object===Object&&ut,ab=typeof self=="object"&&self&&self.Object===Object&&self,Bt=Fh||ab||Function("return this")(),Ff=e&&!e.nodeType&&e,Qn=Ff&&!0&&t&&!t.nodeType&&t,Hh=Qn&&Qn.exports===Ff,Hf=Hh&&Fh.process,nr=function(){try{var G=Qn&&Qn.require&&Qn.require("util").types;return G||Hf&&Hf.binding&&Hf.binding("util")}catch{}}(),Wh=nr&&nr.isArrayBuffer,jh=nr&&nr.isDate,qh=nr&&nr.isMap,Gh=nr&&nr.isRegExp,Kh=nr&&nr.isSet,Zh=nr&&nr.isTypedArray;function Jt(G,ne,Q){switch(Q.length){case 0:return G.call(ne);case 1:return G.call(ne,Q[0]);case 2:return G.call(ne,Q[0],Q[1]);case 3:return G.call(ne,Q[0],Q[1],Q[2])}return G.apply(ne,Q)}function fb(G,ne,Q,we){for(var xe=-1,Fe=G==null?0:G.length;++xe<Fe;){var _t=G[xe];ne(we,_t,Q(_t),G)}return we}function ir(G,ne){for(var Q=-1,we=G==null?0:G.length;++Q<we&&ne(G[Q],Q,G)!==!1;);return G}function ub(G,ne){for(var Q=G==null?0:G.length;Q--&&ne(G[Q],Q,G)!==!1;);return G}function Yh(G,ne){for(var Q=-1,we=G==null?0:G.length;++Q<we;)if(!ne(G[Q],Q,G))return!1;return!0}function An(G,ne){for(var Q=-1,we=G==null?0:G.length,xe=0,Fe=[];++Q<we;){var _t=G[Q];ne(_t,Q,G)&&(Fe[xe++]=_t)}return Fe}function bs(G,ne){var Q=G==null?0:G.length;return!!Q&&Oi(G,ne,0)>-1}function Wf(G,ne,Q){for(var we=-1,xe=G==null?0:G.length;++we<xe;)if(Q(ne,G[we]))return!0;return!1}function rt(G,ne){for(var Q=-1,we=G==null?0:G.length,xe=Array(we);++Q<we;)xe[Q]=ne(G[Q],Q,G);return xe}function Bn(G,ne){for(var Q=-1,we=ne.length,xe=G.length;++Q<we;)G[xe+Q]=ne[Q];return G}function jf(G,ne,Q,we){var xe=-1,Fe=G==null?0:G.length;for(we&&Fe&&(Q=G[++xe]);++xe<Fe;)Q=ne(Q,G[xe],xe,G);return Q}function lb(G,ne,Q,we){var xe=G==null?0:G.length;for(we&&xe&&(Q=G[--xe]);xe--;)Q=ne(Q,G[xe],xe,G);return Q}function qf(G,ne){for(var Q=-1,we=G==null?0:G.length;++Q<we;)if(ne(G[Q],Q,G))return!0;return!1}var cb=Gf("length");function hb(G){return G.split("")}function db(G){return G.match(vw)||[]}function Jh(G,ne,Q){var we;return Q(G,function(xe,Fe,_t){if(ne(xe,Fe,_t))return we=Fe,!1}),we}function ms(G,ne,Q,we){for(var xe=G.length,Fe=Q+(we?1:-1);we?Fe--:++Fe<xe;)if(ne(G[Fe],Fe,G))return Fe;return-1}function Oi(G,ne,Q){return ne===ne?Ab(G,ne,Q):ms(G,Xh,Q)}function gb(G,ne,Q,we){for(var xe=Q-1,Fe=G.length;++xe<Fe;)if(we(G[xe],ne))return xe;return-1}function Xh(G){return G!==G}function Qh(G,ne){var Q=G==null?0:G.length;return Q?Zf(G,ne)/Q:x}function Gf(G){return function(ne){return ne==null?r:ne[G]}}function Kf(G){return function(ne){return G==null?r:G[ne]}}function ed(G,ne,Q,we,xe){return xe(G,function(Fe,_t,Ye){Q=we?(we=!1,Fe):ne(Q,Fe,_t,Ye)}),Q}function pb(G,ne){var Q=G.length;for(G.sort(ne);Q--;)G[Q]=G[Q].value;return G}function Zf(G,ne){for(var Q,we=-1,xe=G.length;++we<xe;){var Fe=ne(G[we]);Fe!==r&&(Q=Q===r?Fe:Q+Fe)}return Q}function Yf(G,ne){for(var Q=-1,we=Array(G);++Q<G;)we[Q]=ne(Q);return we}function yb(G,ne){return rt(ne,function(Q){return[Q,G[Q]]})}function td(G){return G&&G.slice(0,od(G)+1).replace(Df,"")}function Xt(G){return function(ne){return G(ne)}}function Jf(G,ne){return rt(ne,function(Q){return G[Q]})}function Eo(G,ne){return G.has(ne)}function rd(G,ne){for(var Q=-1,we=G.length;++Q<we&&Oi(ne,G[Q],0)>-1;);return Q}function nd(G,ne){for(var Q=G.length;Q--&&Oi(ne,G[Q],0)>-1;);return Q}function _b(G,ne){for(var Q=G.length,we=0;Q--;)G[Q]===ne&&++we;return we}var wb=Kf(tb),bb=Kf(rb);function mb(G){return"\\"+ib[G]}function vb(G,ne){return G==null?r:G[ne]}function Ii(G){return Jw.test(G)}function Eb(G){return Xw.test(G)}function Sb(G){for(var ne,Q=[];!(ne=G.next()).done;)Q.push(ne.value);return Q}function Xf(G){var ne=-1,Q=Array(G.size);return G.forEach(function(we,xe){Q[++ne]=[xe,we]}),Q}function id(G,ne){return function(Q){return G(ne(Q))}}function xn(G,ne){for(var Q=-1,we=G.length,xe=0,Fe=[];++Q<we;){var _t=G[Q];(_t===ne||_t===T)&&(G[Q]=T,Fe[xe++]=Q)}return Fe}function vs(G){var ne=-1,Q=Array(G.size);return G.forEach(function(we){Q[++ne]=we}),Q}function Tb(G){var ne=-1,Q=Array(G.size);return G.forEach(function(we){Q[++ne]=[we,we]}),Q}function Ab(G,ne,Q){for(var we=Q-1,xe=G.length;++we<xe;)if(G[we]===ne)return we;return-1}function Bb(G,ne,Q){for(var we=Q+1;we--;)if(G[we]===ne)return we;return we}function Ci(G){return Ii(G)?Nb(G):cb(G)}function vr(G){return Ii(G)?Ob(G):hb(G)}function od(G){for(var ne=G.length;ne--&&_w.test(G.charAt(ne)););return ne}var xb=Kf(nb);function Nb(G){for(var ne=Vf.lastIndex=0;Vf.test(G);)++ne;return ne}function Ob(G){return G.match(Vf)||[]}function Ib(G){return G.match(Yw)||[]}var Cb=function G(ne){ne=ne==null?Bt:Ri.defaults(Bt.Object(),ne,Ri.pick(Bt,Qw));var Q=ne.Array,we=ne.Date,xe=ne.Error,Fe=ne.Function,_t=ne.Math,Ye=ne.Object,Qf=ne.RegExp,Rb=ne.String,or=ne.TypeError,Es=Q.prototype,Pb=Fe.prototype,Pi=Ye.prototype,Ss=ne["__core-js_shared__"],Ts=Pb.toString,je=Pi.hasOwnProperty,Lb=0,sd=function(){var n=/[^.]+$/.exec(Ss&&Ss.keys&&Ss.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),As=Pi.toString,$b=Ts.call(Ye),Db=Bt._,Mb=Qf("^"+Ts.call(je).replace($f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bs=Hh?ne.Buffer:r,Nn=ne.Symbol,xs=ne.Uint8Array,ad=Bs?Bs.allocUnsafe:r,Ns=id(Ye.getPrototypeOf,Ye),fd=Ye.create,ud=Pi.propertyIsEnumerable,Os=Es.splice,ld=Nn?Nn.isConcatSpreadable:r,So=Nn?Nn.iterator:r,ei=Nn?Nn.toStringTag:r,Is=function(){try{var n=oi(Ye,"defineProperty");return n({},"",{}),n}catch{}}(),Ub=ne.clearTimeout!==Bt.clearTimeout&&ne.clearTimeout,kb=we&&we.now!==Bt.Date.now&&we.now,zb=ne.setTimeout!==Bt.setTimeout&&ne.setTimeout,Cs=_t.ceil,Rs=_t.floor,eu=Ye.getOwnPropertySymbols,Vb=Bs?Bs.isBuffer:r,cd=ne.isFinite,Fb=Es.join,Hb=id(Ye.keys,Ye),wt=_t.max,Ot=_t.min,Wb=we.now,jb=ne.parseInt,hd=_t.random,qb=Es.reverse,tu=oi(ne,"DataView"),To=oi(ne,"Map"),ru=oi(ne,"Promise"),Li=oi(ne,"Set"),Ao=oi(ne,"WeakMap"),Bo=oi(Ye,"create"),Ps=Ao&&new Ao,$i={},Gb=si(tu),Kb=si(To),Zb=si(ru),Yb=si(Li),Jb=si(Ao),Ls=Nn?Nn.prototype:r,xo=Ls?Ls.valueOf:r,dd=Ls?Ls.toString:r;function A(n){if(at(n)&&!Ne(n)&&!(n instanceof Ue)){if(n instanceof sr)return n;if(je.call(n,"__wrapped__"))return gg(n)}return new sr(n)}var Di=function(){function n(){}return function(o){if(!it(o))return{};if(fd)return fd(o);n.prototype=o;var f=new n;return n.prototype=r,f}}();function $s(){}function sr(n,o){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}A.templateSettings={escape:cw,evaluate:hw,interpolate:Eh,variable:"",imports:{_:A}},A.prototype=$s.prototype,A.prototype.constructor=A,sr.prototype=Di($s.prototype),sr.prototype.constructor=sr;function Ue(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function Xb(){var n=new Ue(this.__wrapped__);return n.__actions__=Ft(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Ft(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Ft(this.__views__),n}function Qb(){if(this.__filtered__){var n=new Ue(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function em(){var n=this.__wrapped__.value(),o=this.__dir__,f=Ne(n),h=o<0,_=f?n.length:0,B=h1(0,_,this.__views__),z=B.start,W=B.end,K=W-z,se=h?W:z-1,ae=this.__iteratees__,ue=ae.length,pe=0,me=Ot(K,this.__takeCount__);if(!f||!h&&_==K&&me==K)return Md(n,this.__actions__);var Se=[];e:for(;K--&&pe<me;){se+=o;for(var Pe=-1,Te=n[se];++Pe<ue;){var De=ae[Pe],ke=De.iteratee,tr=De.type,Ut=ke(Te);if(tr==m)Te=Ut;else if(!Ut){if(tr==b)continue e;break e}}Se[pe++]=Te}return Se}Ue.prototype=Di($s.prototype),Ue.prototype.constructor=Ue;function ti(n){var o=-1,f=n==null?0:n.length;for(this.clear();++o<f;){var h=n[o];this.set(h[0],h[1])}}function tm(){this.__data__=Bo?Bo(null):{},this.size=0}function rm(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o}function nm(n){var o=this.__data__;if(Bo){var f=o[n];return f===c?r:f}return je.call(o,n)?o[n]:r}function im(n){var o=this.__data__;return Bo?o[n]!==r:je.call(o,n)}function om(n,o){var f=this.__data__;return this.size+=this.has(n)?0:1,f[n]=Bo&&o===r?c:o,this}ti.prototype.clear=tm,ti.prototype.delete=rm,ti.prototype.get=nm,ti.prototype.has=im,ti.prototype.set=om;function Jr(n){var o=-1,f=n==null?0:n.length;for(this.clear();++o<f;){var h=n[o];this.set(h[0],h[1])}}function sm(){this.__data__=[],this.size=0}function am(n){var o=this.__data__,f=Ds(o,n);if(f<0)return!1;var h=o.length-1;return f==h?o.pop():Os.call(o,f,1),--this.size,!0}function fm(n){var o=this.__data__,f=Ds(o,n);return f<0?r:o[f][1]}function um(n){return Ds(this.__data__,n)>-1}function lm(n,o){var f=this.__data__,h=Ds(f,n);return h<0?(++this.size,f.push([n,o])):f[h][1]=o,this}Jr.prototype.clear=sm,Jr.prototype.delete=am,Jr.prototype.get=fm,Jr.prototype.has=um,Jr.prototype.set=lm;function Xr(n){var o=-1,f=n==null?0:n.length;for(this.clear();++o<f;){var h=n[o];this.set(h[0],h[1])}}function cm(){this.size=0,this.__data__={hash:new ti,map:new(To||Jr),string:new ti}}function hm(n){var o=Ks(this,n).delete(n);return this.size-=o?1:0,o}function dm(n){return Ks(this,n).get(n)}function gm(n){return Ks(this,n).has(n)}function pm(n,o){var f=Ks(this,n),h=f.size;return f.set(n,o),this.size+=f.size==h?0:1,this}Xr.prototype.clear=cm,Xr.prototype.delete=hm,Xr.prototype.get=dm,Xr.prototype.has=gm,Xr.prototype.set=pm;function ri(n){var o=-1,f=n==null?0:n.length;for(this.__data__=new Xr;++o<f;)this.add(n[o])}function ym(n){return this.__data__.set(n,c),this}function _m(n){return this.__data__.has(n)}ri.prototype.add=ri.prototype.push=ym,ri.prototype.has=_m;function Er(n){var o=this.__data__=new Jr(n);this.size=o.size}function wm(){this.__data__=new Jr,this.size=0}function bm(n){var o=this.__data__,f=o.delete(n);return this.size=o.size,f}function mm(n){return this.__data__.get(n)}function vm(n){return this.__data__.has(n)}function Em(n,o){var f=this.__data__;if(f instanceof Jr){var h=f.__data__;if(!To||h.length<s-1)return h.push([n,o]),this.size=++f.size,this;f=this.__data__=new Xr(h)}return f.set(n,o),this.size=f.size,this}Er.prototype.clear=wm,Er.prototype.delete=bm,Er.prototype.get=mm,Er.prototype.has=vm,Er.prototype.set=Em;function gd(n,o){var f=Ne(n),h=!f&&ai(n),_=!f&&!h&&Pn(n),B=!f&&!h&&!_&&zi(n),z=f||h||_||B,W=z?Yf(n.length,Rb):[],K=W.length;for(var se in n)(o||je.call(n,se))&&!(z&&(se=="length"||_&&(se=="offset"||se=="parent")||B&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||rn(se,K)))&&W.push(se);return W}function pd(n){var o=n.length;return o?n[du(0,o-1)]:r}function Sm(n,o){return Zs(Ft(n),ni(o,0,n.length))}function Tm(n){return Zs(Ft(n))}function nu(n,o,f){(f!==r&&!Sr(n[o],f)||f===r&&!(o in n))&&Qr(n,o,f)}function No(n,o,f){var h=n[o];(!(je.call(n,o)&&Sr(h,f))||f===r&&!(o in n))&&Qr(n,o,f)}function Ds(n,o){for(var f=n.length;f--;)if(Sr(n[f][0],o))return f;return-1}function Am(n,o,f,h){return On(n,function(_,B,z){o(h,_,f(_),z)}),h}function yd(n,o){return n&&Pr(o,mt(o),n)}function Bm(n,o){return n&&Pr(o,Wt(o),n)}function Qr(n,o,f){o=="__proto__"&&Is?Is(n,o,{configurable:!0,enumerable:!0,value:f,writable:!0}):n[o]=f}function iu(n,o){for(var f=-1,h=o.length,_=Q(h),B=n==null;++f<h;)_[f]=B?r:Uu(n,o[f]);return _}function ni(n,o,f){return n===n&&(f!==r&&(n=n<=f?n:f),o!==r&&(n=n>=o?n:o)),n}function ar(n,o,f,h,_,B){var z,W=o&I,K=o&D,se=o&U;if(f&&(z=_?f(n,h,_,B):f(n)),z!==r)return z;if(!it(n))return n;var ae=Ne(n);if(ae){if(z=g1(n),!W)return Ft(n,z)}else{var ue=It(n),pe=ue==Ae||ue==$;if(Pn(n))return zd(n,W);if(ue==le||ue==re||pe&&!_){if(z=K||pe?{}:og(n),!W)return K?n1(n,Bm(z,n)):r1(n,yd(z,n))}else{if(!Je[ue])return _?n:{};z=p1(n,ue,W)}}B||(B=new Er);var me=B.get(n);if(me)return me;B.set(n,z),Lg(n)?n.forEach(function(Te){z.add(ar(Te,o,f,Te,n,B))}):Rg(n)&&n.forEach(function(Te,De){z.set(De,ar(Te,o,f,De,n,B))});var Se=se?K?Tu:Su:K?Wt:mt,Pe=ae?r:Se(n);return ir(Pe||n,function(Te,De){Pe&&(De=Te,Te=n[De]),No(z,De,ar(Te,o,f,De,n,B))}),z}function xm(n){var o=mt(n);return function(f){return _d(f,n,o)}}function _d(n,o,f){var h=f.length;if(n==null)return!h;for(n=Ye(n);h--;){var _=f[h],B=o[_],z=n[_];if(z===r&&!(_ in n)||!B(z))return!1}return!0}function wd(n,o,f){if(typeof n!="function")throw new or(u);return $o(function(){n.apply(r,f)},o)}function Oo(n,o,f,h){var _=-1,B=bs,z=!0,W=n.length,K=[],se=o.length;if(!W)return K;f&&(o=rt(o,Xt(f))),h?(B=Wf,z=!1):o.length>=s&&(B=Eo,z=!1,o=new ri(o));e:for(;++_<W;){var ae=n[_],ue=f==null?ae:f(ae);if(ae=h||ae!==0?ae:0,z&&ue===ue){for(var pe=se;pe--;)if(o[pe]===ue)continue e;K.push(ae)}else B(o,ue,h)||K.push(ae)}return K}var On=jd(Rr),bd=jd(su,!0);function Nm(n,o){var f=!0;return On(n,function(h,_,B){return f=!!o(h,_,B),f}),f}function Ms(n,o,f){for(var h=-1,_=n.length;++h<_;){var B=n[h],z=o(B);if(z!=null&&(W===r?z===z&&!er(z):f(z,W)))var W=z,K=B}return K}function Om(n,o,f,h){var _=n.length;for(f=Ce(f),f<0&&(f=-f>_?0:_+f),h=h===r||h>_?_:Ce(h),h<0&&(h+=_),h=f>h?0:Dg(h);f<h;)n[f++]=o;return n}function md(n,o){var f=[];return On(n,function(h,_,B){o(h,_,B)&&f.push(h)}),f}function xt(n,o,f,h,_){var B=-1,z=n.length;for(f||(f=_1),_||(_=[]);++B<z;){var W=n[B];o>0&&f(W)?o>1?xt(W,o-1,f,h,_):Bn(_,W):h||(_[_.length]=W)}return _}var ou=qd(),vd=qd(!0);function Rr(n,o){return n&&ou(n,o,mt)}function su(n,o){return n&&vd(n,o,mt)}function Us(n,o){return An(o,function(f){return nn(n[f])})}function ii(n,o){o=Cn(o,n);for(var f=0,h=o.length;n!=null&&f<h;)n=n[Lr(o[f++])];return f&&f==h?n:r}function Ed(n,o,f){var h=o(n);return Ne(n)?h:Bn(h,f(n))}function Dt(n){return n==null?n===r?Ir:de:ei&&ei in Ye(n)?c1(n):T1(n)}function au(n,o){return n>o}function Im(n,o){return n!=null&&je.call(n,o)}function Cm(n,o){return n!=null&&o in Ye(n)}function Rm(n,o,f){return n>=Ot(o,f)&&n<wt(o,f)}function fu(n,o,f){for(var h=f?Wf:bs,_=n[0].length,B=n.length,z=B,W=Q(B),K=1/0,se=[];z--;){var ae=n[z];z&&o&&(ae=rt(ae,Xt(o))),K=Ot(ae.length,K),W[z]=!f&&(o||_>=120&&ae.length>=120)?new ri(z&&ae):r}ae=n[0];var ue=-1,pe=W[0];e:for(;++ue<_&&se.length<K;){var me=ae[ue],Se=o?o(me):me;if(me=f||me!==0?me:0,!(pe?Eo(pe,Se):h(se,Se,f))){for(z=B;--z;){var Pe=W[z];if(!(Pe?Eo(Pe,Se):h(n[z],Se,f)))continue e}pe&&pe.push(Se),se.push(me)}}return se}function Pm(n,o,f,h){return Rr(n,function(_,B,z){o(h,f(_),B,z)}),h}function Io(n,o,f){o=Cn(o,n),n=ug(n,o);var h=n==null?n:n[Lr(ur(o))];return h==null?r:Jt(h,n,f)}function Sd(n){return at(n)&&Dt(n)==re}function Lm(n){return at(n)&&Dt(n)==ce}function $m(n){return at(n)&&Dt(n)==ge}function Co(n,o,f,h,_){return n===o?!0:n==null||o==null||!at(n)&&!at(o)?n!==n&&o!==o:Dm(n,o,f,h,Co,_)}function Dm(n,o,f,h,_,B){var z=Ne(n),W=Ne(o),K=z?fe:It(n),se=W?fe:It(o);K=K==re?le:K,se=se==re?le:se;var ae=K==le,ue=se==le,pe=K==se;if(pe&&Pn(n)){if(!Pn(o))return!1;z=!0,ae=!1}if(pe&&!ae)return B||(B=new Er),z||zi(n)?rg(n,o,f,h,_,B):u1(n,o,K,f,h,_,B);if(!(f&H)){var me=ae&&je.call(n,"__wrapped__"),Se=ue&&je.call(o,"__wrapped__");if(me||Se){var Pe=me?n.value():n,Te=Se?o.value():o;return B||(B=new Er),_(Pe,Te,f,h,B)}}return pe?(B||(B=new Er),l1(n,o,f,h,_,B)):!1}function Mm(n){return at(n)&&It(n)==M}function uu(n,o,f,h){var _=f.length,B=_,z=!h;if(n==null)return!B;for(n=Ye(n);_--;){var W=f[_];if(z&&W[2]?W[1]!==n[W[0]]:!(W[0]in n))return!1}for(;++_<B;){W=f[_];var K=W[0],se=n[K],ae=W[1];if(z&&W[2]){if(se===r&&!(K in n))return!1}else{var ue=new Er;if(h)var pe=h(se,ae,K,n,o,ue);if(!(pe===r?Co(ae,se,H|ee,h,ue):pe))return!1}}return!0}function Td(n){if(!it(n)||b1(n))return!1;var o=nn(n)?Mb:xw;return o.test(si(n))}function Um(n){return at(n)&&Dt(n)==ze}function km(n){return at(n)&&It(n)==He}function zm(n){return at(n)&&ta(n.length)&&!!tt[Dt(n)]}function Ad(n){return typeof n=="function"?n:n==null?jt:typeof n=="object"?Ne(n)?Nd(n[0],n[1]):xd(n):Gg(n)}function lu(n){if(!Lo(n))return Hb(n);var o=[];for(var f in Ye(n))je.call(n,f)&&f!="constructor"&&o.push(f);return o}function Vm(n){if(!it(n))return S1(n);var o=Lo(n),f=[];for(var h in n)h=="constructor"&&(o||!je.call(n,h))||f.push(h);return f}function cu(n,o){return n<o}function Bd(n,o){var f=-1,h=Ht(n)?Q(n.length):[];return On(n,function(_,B,z){h[++f]=o(_,B,z)}),h}function xd(n){var o=Bu(n);return o.length==1&&o[0][2]?ag(o[0][0],o[0][1]):function(f){return f===n||uu(f,n,o)}}function Nd(n,o){return Nu(n)&&sg(o)?ag(Lr(n),o):function(f){var h=Uu(f,n);return h===r&&h===o?ku(f,n):Co(o,h,H|ee)}}function ks(n,o,f,h,_){n!==o&&ou(o,function(B,z){if(_||(_=new Er),it(B))Fm(n,o,z,f,ks,h,_);else{var W=h?h(Iu(n,z),B,z+"",n,o,_):r;W===r&&(W=B),nu(n,z,W)}},Wt)}function Fm(n,o,f,h,_,B,z){var W=Iu(n,f),K=Iu(o,f),se=z.get(K);if(se){nu(n,f,se);return}var ae=B?B(W,K,f+"",n,o,z):r,ue=ae===r;if(ue){var pe=Ne(K),me=!pe&&Pn(K),Se=!pe&&!me&&zi(K);ae=K,pe||me||Se?Ne(W)?ae=W:ct(W)?ae=Ft(W):me?(ue=!1,ae=zd(K,!0)):Se?(ue=!1,ae=Vd(K,!0)):ae=[]:Do(K)||ai(K)?(ae=W,ai(W)?ae=Mg(W):(!it(W)||nn(W))&&(ae=og(K))):ue=!1}ue&&(z.set(K,ae),_(ae,K,h,B,z),z.delete(K)),nu(n,f,ae)}function Od(n,o){var f=n.length;if(f)return o+=o<0?f:0,rn(o,f)?n[o]:r}function Id(n,o,f){o.length?o=rt(o,function(B){return Ne(B)?function(z){return ii(z,B.length===1?B[0]:B)}:B}):o=[jt];var h=-1;o=rt(o,Xt(Ee()));var _=Bd(n,function(B,z,W){var K=rt(o,function(se){return se(B)});return{criteria:K,index:++h,value:B}});return pb(_,function(B,z){return t1(B,z,f)})}function Hm(n,o){return Cd(n,o,function(f,h){return ku(n,h)})}function Cd(n,o,f){for(var h=-1,_=o.length,B={};++h<_;){var z=o[h],W=ii(n,z);f(W,z)&&Ro(B,Cn(z,n),W)}return B}function Wm(n){return function(o){return ii(o,n)}}function hu(n,o,f,h){var _=h?gb:Oi,B=-1,z=o.length,W=n;for(n===o&&(o=Ft(o)),f&&(W=rt(n,Xt(f)));++B<z;)for(var K=0,se=o[B],ae=f?f(se):se;(K=_(W,ae,K,h))>-1;)W!==n&&Os.call(W,K,1),Os.call(n,K,1);return n}function Rd(n,o){for(var f=n?o.length:0,h=f-1;f--;){var _=o[f];if(f==h||_!==B){var B=_;rn(_)?Os.call(n,_,1):yu(n,_)}}return n}function du(n,o){return n+Rs(hd()*(o-n+1))}function jm(n,o,f,h){for(var _=-1,B=wt(Cs((o-n)/(f||1)),0),z=Q(B);B--;)z[h?B:++_]=n,n+=f;return z}function gu(n,o){var f="";if(!n||o<1||o>R)return f;do o%2&&(f+=n),o=Rs(o/2),o&&(n+=n);while(o);return f}function Le(n,o){return Cu(fg(n,o,jt),n+"")}function qm(n){return pd(Vi(n))}function Gm(n,o){var f=Vi(n);return Zs(f,ni(o,0,f.length))}function Ro(n,o,f,h){if(!it(n))return n;o=Cn(o,n);for(var _=-1,B=o.length,z=B-1,W=n;W!=null&&++_<B;){var K=Lr(o[_]),se=f;if(K==="__proto__"||K==="constructor"||K==="prototype")return n;if(_!=z){var ae=W[K];se=h?h(ae,K,W):r,se===r&&(se=it(ae)?ae:rn(o[_+1])?[]:{})}No(W,K,se),W=W[K]}return n}var Pd=Ps?function(n,o){return Ps.set(n,o),n}:jt,Km=Is?function(n,o){return Is(n,"toString",{configurable:!0,enumerable:!1,value:Vu(o),writable:!0})}:jt;function Zm(n){return Zs(Vi(n))}function fr(n,o,f){var h=-1,_=n.length;o<0&&(o=-o>_?0:_+o),f=f>_?_:f,f<0&&(f+=_),_=o>f?0:f-o>>>0,o>>>=0;for(var B=Q(_);++h<_;)B[h]=n[h+o];return B}function Ym(n,o){var f;return On(n,function(h,_,B){return f=o(h,_,B),!f}),!!f}function zs(n,o,f){var h=0,_=n==null?h:n.length;if(typeof o=="number"&&o===o&&_<=ie){for(;h<_;){var B=h+_>>>1,z=n[B];z!==null&&!er(z)&&(f?z<=o:z<o)?h=B+1:_=B}return _}return pu(n,o,jt,f)}function pu(n,o,f,h){var _=0,B=n==null?0:n.length;if(B===0)return 0;o=f(o);for(var z=o!==o,W=o===null,K=er(o),se=o===r;_<B;){var ae=Rs((_+B)/2),ue=f(n[ae]),pe=ue!==r,me=ue===null,Se=ue===ue,Pe=er(ue);if(z)var Te=h||Se;else se?Te=Se&&(h||pe):W?Te=Se&&pe&&(h||!me):K?Te=Se&&pe&&!me&&(h||!Pe):me||Pe?Te=!1:Te=h?ue<=o:ue<o;Te?_=ae+1:B=ae}return Ot(B,te)}function Ld(n,o){for(var f=-1,h=n.length,_=0,B=[];++f<h;){var z=n[f],W=o?o(z):z;if(!f||!Sr(W,K)){var K=W;B[_++]=z===0?0:z}}return B}function $d(n){return typeof n=="number"?n:er(n)?x:+n}function Qt(n){if(typeof n=="string")return n;if(Ne(n))return rt(n,Qt)+"";if(er(n))return dd?dd.call(n):"";var o=n+"";return o=="0"&&1/n==-C?"-0":o}function In(n,o,f){var h=-1,_=bs,B=n.length,z=!0,W=[],K=W;if(f)z=!1,_=Wf;else if(B>=s){var se=o?null:a1(n);if(se)return vs(se);z=!1,_=Eo,K=new ri}else K=o?[]:W;e:for(;++h<B;){var ae=n[h],ue=o?o(ae):ae;if(ae=f||ae!==0?ae:0,z&&ue===ue){for(var pe=K.length;pe--;)if(K[pe]===ue)continue e;o&&K.push(ue),W.push(ae)}else _(K,ue,f)||(K!==W&&K.push(ue),W.push(ae))}return W}function yu(n,o){return o=Cn(o,n),n=ug(n,o),n==null||delete n[Lr(ur(o))]}function Dd(n,o,f,h){return Ro(n,o,f(ii(n,o)),h)}function Vs(n,o,f,h){for(var _=n.length,B=h?_:-1;(h?B--:++B<_)&&o(n[B],B,n););return f?fr(n,h?0:B,h?B+1:_):fr(n,h?B+1:0,h?_:B)}function Md(n,o){var f=n;return f instanceof Ue&&(f=f.value()),jf(o,function(h,_){return _.func.apply(_.thisArg,Bn([h],_.args))},f)}function _u(n,o,f){var h=n.length;if(h<2)return h?In(n[0]):[];for(var _=-1,B=Q(h);++_<h;)for(var z=n[_],W=-1;++W<h;)W!=_&&(B[_]=Oo(B[_]||z,n[W],o,f));return In(xt(B,1),o,f)}function Ud(n,o,f){for(var h=-1,_=n.length,B=o.length,z={};++h<_;){var W=h<B?o[h]:r;f(z,n[h],W)}return z}function wu(n){return ct(n)?n:[]}function bu(n){return typeof n=="function"?n:jt}function Cn(n,o){return Ne(n)?n:Nu(n,o)?[n]:dg(We(n))}var Jm=Le;function Rn(n,o,f){var h=n.length;return f=f===r?h:f,!o&&f>=h?n:fr(n,o,f)}var kd=Ub||function(n){return Bt.clearTimeout(n)};function zd(n,o){if(o)return n.slice();var f=n.length,h=ad?ad(f):new n.constructor(f);return n.copy(h),h}function mu(n){var o=new n.constructor(n.byteLength);return new xs(o).set(new xs(n)),o}function Xm(n,o){var f=o?mu(n.buffer):n.buffer;return new n.constructor(f,n.byteOffset,n.byteLength)}function Qm(n){var o=new n.constructor(n.source,Sh.exec(n));return o.lastIndex=n.lastIndex,o}function e1(n){return xo?Ye(xo.call(n)):{}}function Vd(n,o){var f=o?mu(n.buffer):n.buffer;return new n.constructor(f,n.byteOffset,n.length)}function Fd(n,o){if(n!==o){var f=n!==r,h=n===null,_=n===n,B=er(n),z=o!==r,W=o===null,K=o===o,se=er(o);if(!W&&!se&&!B&&n>o||B&&z&&K&&!W&&!se||h&&z&&K||!f&&K||!_)return 1;if(!h&&!B&&!se&&n<o||se&&f&&_&&!h&&!B||W&&f&&_||!z&&_||!K)return-1}return 0}function t1(n,o,f){for(var h=-1,_=n.criteria,B=o.criteria,z=_.length,W=f.length;++h<z;){var K=Fd(_[h],B[h]);if(K){if(h>=W)return K;var se=f[h];return K*(se=="desc"?-1:1)}}return n.index-o.index}function Hd(n,o,f,h){for(var _=-1,B=n.length,z=f.length,W=-1,K=o.length,se=wt(B-z,0),ae=Q(K+se),ue=!h;++W<K;)ae[W]=o[W];for(;++_<z;)(ue||_<B)&&(ae[f[_]]=n[_]);for(;se--;)ae[W++]=n[_++];return ae}function Wd(n,o,f,h){for(var _=-1,B=n.length,z=-1,W=f.length,K=-1,se=o.length,ae=wt(B-W,0),ue=Q(ae+se),pe=!h;++_<ae;)ue[_]=n[_];for(var me=_;++K<se;)ue[me+K]=o[K];for(;++z<W;)(pe||_<B)&&(ue[me+f[z]]=n[_++]);return ue}function Ft(n,o){var f=-1,h=n.length;for(o||(o=Q(h));++f<h;)o[f]=n[f];return o}function Pr(n,o,f,h){var _=!f;f||(f={});for(var B=-1,z=o.length;++B<z;){var W=o[B],K=h?h(f[W],n[W],W,f,n):r;K===r&&(K=n[W]),_?Qr(f,W,K):No(f,W,K)}return f}function r1(n,o){return Pr(n,xu(n),o)}function n1(n,o){return Pr(n,ng(n),o)}function Fs(n,o){return function(f,h){var _=Ne(f)?fb:Am,B=o?o():{};return _(f,n,Ee(h,2),B)}}function Mi(n){return Le(function(o,f){var h=-1,_=f.length,B=_>1?f[_-1]:r,z=_>2?f[2]:r;for(B=n.length>3&&typeof B=="function"?(_--,B):r,z&&Mt(f[0],f[1],z)&&(B=_<3?r:B,_=1),o=Ye(o);++h<_;){var W=f[h];W&&n(o,W,h,B)}return o})}function jd(n,o){return function(f,h){if(f==null)return f;if(!Ht(f))return n(f,h);for(var _=f.length,B=o?_:-1,z=Ye(f);(o?B--:++B<_)&&h(z[B],B,z)!==!1;);return f}}function qd(n){return function(o,f,h){for(var _=-1,B=Ye(o),z=h(o),W=z.length;W--;){var K=z[n?W:++_];if(f(B[K],K,B)===!1)break}return o}}function i1(n,o,f){var h=o&X,_=Po(n);function B(){var z=this&&this!==Bt&&this instanceof B?_:n;return z.apply(h?f:this,arguments)}return B}function Gd(n){return function(o){o=We(o);var f=Ii(o)?vr(o):r,h=f?f[0]:o.charAt(0),_=f?Rn(f,1).join(""):o.slice(1);return h[n]()+_}}function Ui(n){return function(o){return jf(jg(Wg(o).replace(Kw,"")),n,"")}}function Po(n){return function(){var o=arguments;switch(o.length){case 0:return new n;case 1:return new n(o[0]);case 2:return new n(o[0],o[1]);case 3:return new n(o[0],o[1],o[2]);case 4:return new n(o[0],o[1],o[2],o[3]);case 5:return new n(o[0],o[1],o[2],o[3],o[4]);case 6:return new n(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new n(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var f=Di(n.prototype),h=n.apply(f,o);return it(h)?h:f}}function o1(n,o,f){var h=Po(n);function _(){for(var B=arguments.length,z=Q(B),W=B,K=ki(_);W--;)z[W]=arguments[W];var se=B<3&&z[0]!==K&&z[B-1]!==K?[]:xn(z,K);if(B-=se.length,B<f)return Xd(n,o,Hs,_.placeholder,r,z,se,r,r,f-B);var ae=this&&this!==Bt&&this instanceof _?h:n;return Jt(ae,this,z)}return _}function Kd(n){return function(o,f,h){var _=Ye(o);if(!Ht(o)){var B=Ee(f,3);o=mt(o),f=function(W){return B(_[W],W,_)}}var z=n(o,f,h);return z>-1?_[B?o[z]:z]:r}}function Zd(n){return tn(function(o){var f=o.length,h=f,_=sr.prototype.thru;for(n&&o.reverse();h--;){var B=o[h];if(typeof B!="function")throw new or(u);if(_&&!z&&Gs(B)=="wrapper")var z=new sr([],!0)}for(h=z?h:f;++h<f;){B=o[h];var W=Gs(B),K=W=="wrapper"?Au(B):r;K&&Ou(K[0])&&K[1]==(Z|F|V|y)&&!K[4].length&&K[9]==1?z=z[Gs(K[0])].apply(z,K[3]):z=B.length==1&&Ou(B)?z[W]():z.thru(B)}return function(){var se=arguments,ae=se[0];if(z&&se.length==1&&Ne(ae))return z.plant(ae).value();for(var ue=0,pe=f?o[ue].apply(this,se):ae;++ue<f;)pe=o[ue].call(this,pe);return pe}})}function Hs(n,o,f,h,_,B,z,W,K,se){var ae=o&Z,ue=o&X,pe=o&J,me=o&(F|w),Se=o&v,Pe=pe?r:Po(n);function Te(){for(var De=arguments.length,ke=Q(De),tr=De;tr--;)ke[tr]=arguments[tr];if(me)var Ut=ki(Te),rr=_b(ke,Ut);if(h&&(ke=Hd(ke,h,_,me)),B&&(ke=Wd(ke,B,z,me)),De-=rr,me&&De<se){var ht=xn(ke,Ut);return Xd(n,o,Hs,Te.placeholder,f,ke,ht,W,K,se-De)}var Tr=ue?f:this,sn=pe?Tr[n]:n;return De=ke.length,W?ke=A1(ke,W):Se&&De>1&&ke.reverse(),ae&&K<De&&(ke.length=K),this&&this!==Bt&&this instanceof Te&&(sn=Pe||Po(sn)),sn.apply(Tr,ke)}return Te}function Yd(n,o){return function(f,h){return Pm(f,n,o(h),{})}}function Ws(n,o){return function(f,h){var _;if(f===r&&h===r)return o;if(f!==r&&(_=f),h!==r){if(_===r)return h;typeof f=="string"||typeof h=="string"?(f=Qt(f),h=Qt(h)):(f=$d(f),h=$d(h)),_=n(f,h)}return _}}function vu(n){return tn(function(o){return o=rt(o,Xt(Ee())),Le(function(f){var h=this;return n(o,function(_){return Jt(_,h,f)})})})}function js(n,o){o=o===r?" ":Qt(o);var f=o.length;if(f<2)return f?gu(o,n):o;var h=gu(o,Cs(n/Ci(o)));return Ii(o)?Rn(vr(h),0,n).join(""):h.slice(0,n)}function s1(n,o,f,h){var _=o&X,B=Po(n);function z(){for(var W=-1,K=arguments.length,se=-1,ae=h.length,ue=Q(ae+K),pe=this&&this!==Bt&&this instanceof z?B:n;++se<ae;)ue[se]=h[se];for(;K--;)ue[se++]=arguments[++W];return Jt(pe,_?f:this,ue)}return z}function Jd(n){return function(o,f,h){return h&&typeof h!="number"&&Mt(o,f,h)&&(f=h=r),o=on(o),f===r?(f=o,o=0):f=on(f),h=h===r?o<f?1:-1:on(h),jm(o,f,h,n)}}function qs(n){return function(o,f){return typeof o=="string"&&typeof f=="string"||(o=lr(o),f=lr(f)),n(o,f)}}function Xd(n,o,f,h,_,B,z,W,K,se){var ae=o&F,ue=ae?z:r,pe=ae?r:z,me=ae?B:r,Se=ae?r:B;o|=ae?V:q,o&=~(ae?q:V),o&S||(o&=~(X|J));var Pe=[n,o,_,me,ue,Se,pe,W,K,se],Te=f.apply(r,Pe);return Ou(n)&&lg(Te,Pe),Te.placeholder=h,cg(Te,n,o)}function Eu(n){var o=_t[n];return function(f,h){if(f=lr(f),h=h==null?0:Ot(Ce(h),292),h&&cd(f)){var _=(We(f)+"e").split("e"),B=o(_[0]+"e"+(+_[1]+h));return _=(We(B)+"e").split("e"),+(_[0]+"e"+(+_[1]-h))}return o(f)}}var a1=Li&&1/vs(new Li([,-0]))[1]==C?function(n){return new Li(n)}:Wu;function Qd(n){return function(o){var f=It(o);return f==M?Xf(o):f==He?Tb(o):yb(o,n(o))}}function en(n,o,f,h,_,B,z,W){var K=o&J;if(!K&&typeof n!="function")throw new or(u);var se=h?h.length:0;if(se||(o&=~(V|q),h=_=r),z=z===r?z:wt(Ce(z),0),W=W===r?W:Ce(W),se-=_?_.length:0,o&q){var ae=h,ue=_;h=_=r}var pe=K?r:Au(n),me=[n,o,f,h,_,ae,ue,B,z,W];if(pe&&E1(me,pe),n=me[0],o=me[1],f=me[2],h=me[3],_=me[4],W=me[9]=me[9]===r?K?0:n.length:wt(me[9]-se,0),!W&&o&(F|w)&&(o&=~(F|w)),!o||o==X)var Se=i1(n,o,f);else o==F||o==w?Se=o1(n,o,W):(o==V||o==(X|V))&&!_.length?Se=s1(n,o,f,h):Se=Hs.apply(r,me);var Pe=pe?Pd:lg;return cg(Pe(Se,me),n,o)}function eg(n,o,f,h){return n===r||Sr(n,Pi[f])&&!je.call(h,f)?o:n}function tg(n,o,f,h,_,B){return it(n)&&it(o)&&(B.set(o,n),ks(n,o,r,tg,B),B.delete(o)),n}function f1(n){return Do(n)?r:n}function rg(n,o,f,h,_,B){var z=f&H,W=n.length,K=o.length;if(W!=K&&!(z&&K>W))return!1;var se=B.get(n),ae=B.get(o);if(se&&ae)return se==o&&ae==n;var ue=-1,pe=!0,me=f&ee?new ri:r;for(B.set(n,o),B.set(o,n);++ue<W;){var Se=n[ue],Pe=o[ue];if(h)var Te=z?h(Pe,Se,ue,o,n,B):h(Se,Pe,ue,n,o,B);if(Te!==r){if(Te)continue;pe=!1;break}if(me){if(!qf(o,function(De,ke){if(!Eo(me,ke)&&(Se===De||_(Se,De,f,h,B)))return me.push(ke)})){pe=!1;break}}else if(!(Se===Pe||_(Se,Pe,f,h,B))){pe=!1;break}}return B.delete(n),B.delete(o),pe}function u1(n,o,f,h,_,B,z){switch(f){case he:if(n.byteLength!=o.byteLength||n.byteOffset!=o.byteOffset)return!1;n=n.buffer,o=o.buffer;case ce:return!(n.byteLength!=o.byteLength||!B(new xs(n),new xs(o)));case ye:case ge:case Y:return Sr(+n,+o);case ve:return n.name==o.name&&n.message==o.message;case ze:case yt:return n==o+"";case M:var W=Xf;case He:var K=h&H;if(W||(W=vs),n.size!=o.size&&!K)return!1;var se=z.get(n);if(se)return se==o;h|=ee,z.set(n,o);var ae=rg(W(n),W(o),h,_,B,z);return z.delete(n),ae;case lt:if(xo)return xo.call(n)==xo.call(o)}return!1}function l1(n,o,f,h,_,B){var z=f&H,W=Su(n),K=W.length,se=Su(o),ae=se.length;if(K!=ae&&!z)return!1;for(var ue=K;ue--;){var pe=W[ue];if(!(z?pe in o:je.call(o,pe)))return!1}var me=B.get(n),Se=B.get(o);if(me&&Se)return me==o&&Se==n;var Pe=!0;B.set(n,o),B.set(o,n);for(var Te=z;++ue<K;){pe=W[ue];var De=n[pe],ke=o[pe];if(h)var tr=z?h(ke,De,pe,o,n,B):h(De,ke,pe,n,o,B);if(!(tr===r?De===ke||_(De,ke,f,h,B):tr)){Pe=!1;break}Te||(Te=pe=="constructor")}if(Pe&&!Te){var Ut=n.constructor,rr=o.constructor;Ut!=rr&&"constructor"in n&&"constructor"in o&&!(typeof Ut=="function"&&Ut instanceof Ut&&typeof rr=="function"&&rr instanceof rr)&&(Pe=!1)}return B.delete(n),B.delete(o),Pe}function tn(n){return Cu(fg(n,r,_g),n+"")}function Su(n){return Ed(n,mt,xu)}function Tu(n){return Ed(n,Wt,ng)}var Au=Ps?function(n){return Ps.get(n)}:Wu;function Gs(n){for(var o=n.name+"",f=$i[o],h=je.call($i,o)?f.length:0;h--;){var _=f[h],B=_.func;if(B==null||B==n)return _.name}return o}function ki(n){var o=je.call(A,"placeholder")?A:n;return o.placeholder}function Ee(){var n=A.iteratee||Fu;return n=n===Fu?Ad:n,arguments.length?n(arguments[0],arguments[1]):n}function Ks(n,o){var f=n.__data__;return w1(o)?f[typeof o=="string"?"string":"hash"]:f.map}function Bu(n){for(var o=mt(n),f=o.length;f--;){var h=o[f],_=n[h];o[f]=[h,_,sg(_)]}return o}function oi(n,o){var f=vb(n,o);return Td(f)?f:r}function c1(n){var o=je.call(n,ei),f=n[ei];try{n[ei]=r;var h=!0}catch{}var _=As.call(n);return h&&(o?n[ei]=f:delete n[ei]),_}var xu=eu?function(n){return n==null?[]:(n=Ye(n),An(eu(n),function(o){return ud.call(n,o)}))}:ju,ng=eu?function(n){for(var o=[];n;)Bn(o,xu(n)),n=Ns(n);return o}:ju,It=Dt;(tu&&It(new tu(new ArrayBuffer(1)))!=he||To&&It(new To)!=M||ru&&It(ru.resolve())!=Be||Li&&It(new Li)!=He||Ao&&It(new Ao)!=P)&&(It=function(n){var o=Dt(n),f=o==le?n.constructor:r,h=f?si(f):"";if(h)switch(h){case Gb:return he;case Kb:return M;case Zb:return Be;case Yb:return He;case Jb:return P}return o});function h1(n,o,f){for(var h=-1,_=f.length;++h<_;){var B=f[h],z=B.size;switch(B.type){case"drop":n+=z;break;case"dropRight":o-=z;break;case"take":o=Ot(o,n+z);break;case"takeRight":n=wt(n,o-z);break}}return{start:n,end:o}}function d1(n){var o=n.match(bw);return o?o[1].split(mw):[]}function ig(n,o,f){o=Cn(o,n);for(var h=-1,_=o.length,B=!1;++h<_;){var z=Lr(o[h]);if(!(B=n!=null&&f(n,z)))break;n=n[z]}return B||++h!=_?B:(_=n==null?0:n.length,!!_&&ta(_)&&rn(z,_)&&(Ne(n)||ai(n)))}function g1(n){var o=n.length,f=new n.constructor(o);return o&&typeof n[0]=="string"&&je.call(n,"index")&&(f.index=n.index,f.input=n.input),f}function og(n){return typeof n.constructor=="function"&&!Lo(n)?Di(Ns(n)):{}}function p1(n,o,f){var h=n.constructor;switch(o){case ce:return mu(n);case ye:case ge:return new h(+n);case he:return Xm(n,f);case _e:case Ze:case Ge:case Yt:case Vt:case Yr:case wo:case Bi:case xi:return Vd(n,f);case M:return new h;case Y:case yt:return new h(n);case ze:return Qm(n);case He:return new h;case lt:return e1(n)}}function y1(n,o){var f=o.length;if(!f)return n;var h=f-1;return o[h]=(f>1?"& ":"")+o[h],o=o.join(f>2?", ":" "),n.replace(ww,`{
/* [wrapped with `+o+`] */
`)}function _1(n){return Ne(n)||ai(n)||!!(ld&&n&&n[ld])}function rn(n,o){var f=typeof n;return o=o??R,!!o&&(f=="number"||f!="symbol"&&Ow.test(n))&&n>-1&&n%1==0&&n<o}function Mt(n,o,f){if(!it(f))return!1;var h=typeof o;return(h=="number"?Ht(f)&&rn(o,f.length):h=="string"&&o in f)?Sr(f[o],n):!1}function Nu(n,o){if(Ne(n))return!1;var f=typeof n;return f=="number"||f=="symbol"||f=="boolean"||n==null||er(n)?!0:gw.test(n)||!dw.test(n)||o!=null&&n in Ye(o)}function w1(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}function Ou(n){var o=Gs(n),f=A[o];if(typeof f!="function"||!(o in Ue.prototype))return!1;if(n===f)return!0;var h=Au(f);return!!h&&n===h[0]}function b1(n){return!!sd&&sd in n}var m1=Ss?nn:qu;function Lo(n){var o=n&&n.constructor,f=typeof o=="function"&&o.prototype||Pi;return n===f}function sg(n){return n===n&&!it(n)}function ag(n,o){return function(f){return f==null?!1:f[n]===o&&(o!==r||n in Ye(f))}}function v1(n){var o=Qs(n,function(h){return f.size===d&&f.clear(),h}),f=o.cache;return o}function E1(n,o){var f=n[1],h=o[1],_=f|h,B=_<(X|J|Z),z=h==Z&&f==F||h==Z&&f==y&&n[7].length<=o[8]||h==(Z|y)&&o[7].length<=o[8]&&f==F;if(!(B||z))return n;h&X&&(n[2]=o[2],_|=f&X?0:S);var W=o[3];if(W){var K=n[3];n[3]=K?Hd(K,W,o[4]):W,n[4]=K?xn(n[3],T):o[4]}return W=o[5],W&&(K=n[5],n[5]=K?Wd(K,W,o[6]):W,n[6]=K?xn(n[5],T):o[6]),W=o[7],W&&(n[7]=W),h&Z&&(n[8]=n[8]==null?o[8]:Ot(n[8],o[8])),n[9]==null&&(n[9]=o[9]),n[0]=o[0],n[1]=_,n}function S1(n){var o=[];if(n!=null)for(var f in Ye(n))o.push(f);return o}function T1(n){return As.call(n)}function fg(n,o,f){return o=wt(o===r?n.length-1:o,0),function(){for(var h=arguments,_=-1,B=wt(h.length-o,0),z=Q(B);++_<B;)z[_]=h[o+_];_=-1;for(var W=Q(o+1);++_<o;)W[_]=h[_];return W[o]=f(z),Jt(n,this,W)}}function ug(n,o){return o.length<2?n:ii(n,fr(o,0,-1))}function A1(n,o){for(var f=n.length,h=Ot(o.length,f),_=Ft(n);h--;){var B=o[h];n[h]=rn(B,f)?_[B]:r}return n}function Iu(n,o){if(!(o==="constructor"&&typeof n[o]=="function")&&o!="__proto__")return n[o]}var lg=hg(Pd),$o=zb||function(n,o){return Bt.setTimeout(n,o)},Cu=hg(Km);function cg(n,o,f){var h=o+"";return Cu(n,y1(h,B1(d1(h),f)))}function hg(n){var o=0,f=0;return function(){var h=Wb(),_=E-(h-f);if(f=h,_>0){if(++o>=g)return arguments[0]}else o=0;return n.apply(r,arguments)}}function Zs(n,o){var f=-1,h=n.length,_=h-1;for(o=o===r?h:o;++f<o;){var B=du(f,_),z=n[B];n[B]=n[f],n[f]=z}return n.length=o,n}var dg=v1(function(n){var o=[];return n.charCodeAt(0)===46&&o.push(""),n.replace(pw,function(f,h,_,B){o.push(_?B.replace(Sw,"$1"):h||f)}),o});function Lr(n){if(typeof n=="string"||er(n))return n;var o=n+"";return o=="0"&&1/n==-C?"-0":o}function si(n){if(n!=null){try{return Ts.call(n)}catch{}try{return n+""}catch{}}return""}function B1(n,o){return ir(oe,function(f){var h="_."+f[0];o&f[1]&&!bs(n,h)&&n.push(h)}),n.sort()}function gg(n){if(n instanceof Ue)return n.clone();var o=new sr(n.__wrapped__,n.__chain__);return o.__actions__=Ft(n.__actions__),o.__index__=n.__index__,o.__values__=n.__values__,o}function x1(n,o,f){(f?Mt(n,o,f):o===r)?o=1:o=wt(Ce(o),0);var h=n==null?0:n.length;if(!h||o<1)return[];for(var _=0,B=0,z=Q(Cs(h/o));_<h;)z[B++]=fr(n,_,_+=o);return z}function N1(n){for(var o=-1,f=n==null?0:n.length,h=0,_=[];++o<f;){var B=n[o];B&&(_[h++]=B)}return _}function O1(){var n=arguments.length;if(!n)return[];for(var o=Q(n-1),f=arguments[0],h=n;h--;)o[h-1]=arguments[h];return Bn(Ne(f)?Ft(f):[f],xt(o,1))}var I1=Le(function(n,o){return ct(n)?Oo(n,xt(o,1,ct,!0)):[]}),C1=Le(function(n,o){var f=ur(o);return ct(f)&&(f=r),ct(n)?Oo(n,xt(o,1,ct,!0),Ee(f,2)):[]}),R1=Le(function(n,o){var f=ur(o);return ct(f)&&(f=r),ct(n)?Oo(n,xt(o,1,ct,!0),r,f):[]});function P1(n,o,f){var h=n==null?0:n.length;return h?(o=f||o===r?1:Ce(o),fr(n,o<0?0:o,h)):[]}function L1(n,o,f){var h=n==null?0:n.length;return h?(o=f||o===r?1:Ce(o),o=h-o,fr(n,0,o<0?0:o)):[]}function $1(n,o){return n&&n.length?Vs(n,Ee(o,3),!0,!0):[]}function D1(n,o){return n&&n.length?Vs(n,Ee(o,3),!0):[]}function M1(n,o,f,h){var _=n==null?0:n.length;return _?(f&&typeof f!="number"&&Mt(n,o,f)&&(f=0,h=_),Om(n,o,f,h)):[]}function pg(n,o,f){var h=n==null?0:n.length;if(!h)return-1;var _=f==null?0:Ce(f);return _<0&&(_=wt(h+_,0)),ms(n,Ee(o,3),_)}function yg(n,o,f){var h=n==null?0:n.length;if(!h)return-1;var _=h-1;return f!==r&&(_=Ce(f),_=f<0?wt(h+_,0):Ot(_,h-1)),ms(n,Ee(o,3),_,!0)}function _g(n){var o=n==null?0:n.length;return o?xt(n,1):[]}function U1(n){var o=n==null?0:n.length;return o?xt(n,C):[]}function k1(n,o){var f=n==null?0:n.length;return f?(o=o===r?1:Ce(o),xt(n,o)):[]}function z1(n){for(var o=-1,f=n==null?0:n.length,h={};++o<f;){var _=n[o];h[_[0]]=_[1]}return h}function wg(n){return n&&n.length?n[0]:r}function V1(n,o,f){var h=n==null?0:n.length;if(!h)return-1;var _=f==null?0:Ce(f);return _<0&&(_=wt(h+_,0)),Oi(n,o,_)}function F1(n){var o=n==null?0:n.length;return o?fr(n,0,-1):[]}var H1=Le(function(n){var o=rt(n,wu);return o.length&&o[0]===n[0]?fu(o):[]}),W1=Le(function(n){var o=ur(n),f=rt(n,wu);return o===ur(f)?o=r:f.pop(),f.length&&f[0]===n[0]?fu(f,Ee(o,2)):[]}),j1=Le(function(n){var o=ur(n),f=rt(n,wu);return o=typeof o=="function"?o:r,o&&f.pop(),f.length&&f[0]===n[0]?fu(f,r,o):[]});function q1(n,o){return n==null?"":Fb.call(n,o)}function ur(n){var o=n==null?0:n.length;return o?n[o-1]:r}function G1(n,o,f){var h=n==null?0:n.length;if(!h)return-1;var _=h;return f!==r&&(_=Ce(f),_=_<0?wt(h+_,0):Ot(_,h-1)),o===o?Bb(n,o,_):ms(n,Xh,_,!0)}function K1(n,o){return n&&n.length?Od(n,Ce(o)):r}var Z1=Le(bg);function bg(n,o){return n&&n.length&&o&&o.length?hu(n,o):n}function Y1(n,o,f){return n&&n.length&&o&&o.length?hu(n,o,Ee(f,2)):n}function J1(n,o,f){return n&&n.length&&o&&o.length?hu(n,o,r,f):n}var X1=tn(function(n,o){var f=n==null?0:n.length,h=iu(n,o);return Rd(n,rt(o,function(_){return rn(_,f)?+_:_}).sort(Fd)),h});function Q1(n,o){var f=[];if(!(n&&n.length))return f;var h=-1,_=[],B=n.length;for(o=Ee(o,3);++h<B;){var z=n[h];o(z,h,n)&&(f.push(z),_.push(h))}return Rd(n,_),f}function Ru(n){return n==null?n:qb.call(n)}function ev(n,o,f){var h=n==null?0:n.length;return h?(f&&typeof f!="number"&&Mt(n,o,f)?(o=0,f=h):(o=o==null?0:Ce(o),f=f===r?h:Ce(f)),fr(n,o,f)):[]}function tv(n,o){return zs(n,o)}function rv(n,o,f){return pu(n,o,Ee(f,2))}function nv(n,o){var f=n==null?0:n.length;if(f){var h=zs(n,o);if(h<f&&Sr(n[h],o))return h}return-1}function iv(n,o){return zs(n,o,!0)}function ov(n,o,f){return pu(n,o,Ee(f,2),!0)}function sv(n,o){var f=n==null?0:n.length;if(f){var h=zs(n,o,!0)-1;if(Sr(n[h],o))return h}return-1}function av(n){return n&&n.length?Ld(n):[]}function fv(n,o){return n&&n.length?Ld(n,Ee(o,2)):[]}function uv(n){var o=n==null?0:n.length;return o?fr(n,1,o):[]}function lv(n,o,f){return n&&n.length?(o=f||o===r?1:Ce(o),fr(n,0,o<0?0:o)):[]}function cv(n,o,f){var h=n==null?0:n.length;return h?(o=f||o===r?1:Ce(o),o=h-o,fr(n,o<0?0:o,h)):[]}function hv(n,o){return n&&n.length?Vs(n,Ee(o,3),!1,!0):[]}function dv(n,o){return n&&n.length?Vs(n,Ee(o,3)):[]}var gv=Le(function(n){return In(xt(n,1,ct,!0))}),pv=Le(function(n){var o=ur(n);return ct(o)&&(o=r),In(xt(n,1,ct,!0),Ee(o,2))}),yv=Le(function(n){var o=ur(n);return o=typeof o=="function"?o:r,In(xt(n,1,ct,!0),r,o)});function _v(n){return n&&n.length?In(n):[]}function wv(n,o){return n&&n.length?In(n,Ee(o,2)):[]}function bv(n,o){return o=typeof o=="function"?o:r,n&&n.length?In(n,r,o):[]}function Pu(n){if(!(n&&n.length))return[];var o=0;return n=An(n,function(f){if(ct(f))return o=wt(f.length,o),!0}),Yf(o,function(f){return rt(n,Gf(f))})}function mg(n,o){if(!(n&&n.length))return[];var f=Pu(n);return o==null?f:rt(f,function(h){return Jt(o,r,h)})}var mv=Le(function(n,o){return ct(n)?Oo(n,o):[]}),vv=Le(function(n){return _u(An(n,ct))}),Ev=Le(function(n){var o=ur(n);return ct(o)&&(o=r),_u(An(n,ct),Ee(o,2))}),Sv=Le(function(n){var o=ur(n);return o=typeof o=="function"?o:r,_u(An(n,ct),r,o)}),Tv=Le(Pu);function Av(n,o){return Ud(n||[],o||[],No)}function Bv(n,o){return Ud(n||[],o||[],Ro)}var xv=Le(function(n){var o=n.length,f=o>1?n[o-1]:r;return f=typeof f=="function"?(n.pop(),f):r,mg(n,f)});function vg(n){var o=A(n);return o.__chain__=!0,o}function Nv(n,o){return o(n),n}function Ys(n,o){return o(n)}var Ov=tn(function(n){var o=n.length,f=o?n[0]:0,h=this.__wrapped__,_=function(B){return iu(B,n)};return o>1||this.__actions__.length||!(h instanceof Ue)||!rn(f)?this.thru(_):(h=h.slice(f,+f+(o?1:0)),h.__actions__.push({func:Ys,args:[_],thisArg:r}),new sr(h,this.__chain__).thru(function(B){return o&&!B.length&&B.push(r),B}))});function Iv(){return vg(this)}function Cv(){return new sr(this.value(),this.__chain__)}function Rv(){this.__values__===r&&(this.__values__=$g(this.value()));var n=this.__index__>=this.__values__.length,o=n?r:this.__values__[this.__index__++];return{done:n,value:o}}function Pv(){return this}function Lv(n){for(var o,f=this;f instanceof $s;){var h=gg(f);h.__index__=0,h.__values__=r,o?_.__wrapped__=h:o=h;var _=h;f=f.__wrapped__}return _.__wrapped__=n,o}function $v(){var n=this.__wrapped__;if(n instanceof Ue){var o=n;return this.__actions__.length&&(o=new Ue(this)),o=o.reverse(),o.__actions__.push({func:Ys,args:[Ru],thisArg:r}),new sr(o,this.__chain__)}return this.thru(Ru)}function Dv(){return Md(this.__wrapped__,this.__actions__)}var Mv=Fs(function(n,o,f){je.call(n,f)?++n[f]:Qr(n,f,1)});function Uv(n,o,f){var h=Ne(n)?Yh:Nm;return f&&Mt(n,o,f)&&(o=r),h(n,Ee(o,3))}function kv(n,o){var f=Ne(n)?An:md;return f(n,Ee(o,3))}var zv=Kd(pg),Vv=Kd(yg);function Fv(n,o){return xt(Js(n,o),1)}function Hv(n,o){return xt(Js(n,o),C)}function Wv(n,o,f){return f=f===r?1:Ce(f),xt(Js(n,o),f)}function Eg(n,o){var f=Ne(n)?ir:On;return f(n,Ee(o,3))}function Sg(n,o){var f=Ne(n)?ub:bd;return f(n,Ee(o,3))}var jv=Fs(function(n,o,f){je.call(n,f)?n[f].push(o):Qr(n,f,[o])});function qv(n,o,f,h){n=Ht(n)?n:Vi(n),f=f&&!h?Ce(f):0;var _=n.length;return f<0&&(f=wt(_+f,0)),ra(n)?f<=_&&n.indexOf(o,f)>-1:!!_&&Oi(n,o,f)>-1}var Gv=Le(function(n,o,f){var h=-1,_=typeof o=="function",B=Ht(n)?Q(n.length):[];return On(n,function(z){B[++h]=_?Jt(o,z,f):Io(z,o,f)}),B}),Kv=Fs(function(n,o,f){Qr(n,f,o)});function Js(n,o){var f=Ne(n)?rt:Bd;return f(n,Ee(o,3))}function Zv(n,o,f,h){return n==null?[]:(Ne(o)||(o=o==null?[]:[o]),f=h?r:f,Ne(f)||(f=f==null?[]:[f]),Id(n,o,f))}var Yv=Fs(function(n,o,f){n[f?0:1].push(o)},function(){return[[],[]]});function Jv(n,o,f){var h=Ne(n)?jf:ed,_=arguments.length<3;return h(n,Ee(o,4),f,_,On)}function Xv(n,o,f){var h=Ne(n)?lb:ed,_=arguments.length<3;return h(n,Ee(o,4),f,_,bd)}function Qv(n,o){var f=Ne(n)?An:md;return f(n,ea(Ee(o,3)))}function eE(n){var o=Ne(n)?pd:qm;return o(n)}function tE(n,o,f){(f?Mt(n,o,f):o===r)?o=1:o=Ce(o);var h=Ne(n)?Sm:Gm;return h(n,o)}function rE(n){var o=Ne(n)?Tm:Zm;return o(n)}function nE(n){if(n==null)return 0;if(Ht(n))return ra(n)?Ci(n):n.length;var o=It(n);return o==M||o==He?n.size:lu(n).length}function iE(n,o,f){var h=Ne(n)?qf:Ym;return f&&Mt(n,o,f)&&(o=r),h(n,Ee(o,3))}var oE=Le(function(n,o){if(n==null)return[];var f=o.length;return f>1&&Mt(n,o[0],o[1])?o=[]:f>2&&Mt(o[0],o[1],o[2])&&(o=[o[0]]),Id(n,xt(o,1),[])}),Xs=kb||function(){return Bt.Date.now()};function sE(n,o){if(typeof o!="function")throw new or(u);return n=Ce(n),function(){if(--n<1)return o.apply(this,arguments)}}function Tg(n,o,f){return o=f?r:o,o=n&&o==null?n.length:o,en(n,Z,r,r,r,r,o)}function Ag(n,o){var f;if(typeof o!="function")throw new or(u);return n=Ce(n),function(){return--n>0&&(f=o.apply(this,arguments)),n<=1&&(o=r),f}}var Lu=Le(function(n,o,f){var h=X;if(f.length){var _=xn(f,ki(Lu));h|=V}return en(n,h,o,f,_)}),Bg=Le(function(n,o,f){var h=X|J;if(f.length){var _=xn(f,ki(Bg));h|=V}return en(o,h,n,f,_)});function xg(n,o,f){o=f?r:o;var h=en(n,F,r,r,r,r,r,o);return h.placeholder=xg.placeholder,h}function Ng(n,o,f){o=f?r:o;var h=en(n,w,r,r,r,r,r,o);return h.placeholder=Ng.placeholder,h}function Og(n,o,f){var h,_,B,z,W,K,se=0,ae=!1,ue=!1,pe=!0;if(typeof n!="function")throw new or(u);o=lr(o)||0,it(f)&&(ae=!!f.leading,ue="maxWait"in f,B=ue?wt(lr(f.maxWait)||0,o):B,pe="trailing"in f?!!f.trailing:pe);function me(ht){var Tr=h,sn=_;return h=_=r,se=ht,z=n.apply(sn,Tr),z}function Se(ht){return se=ht,W=$o(De,o),ae?me(ht):z}function Pe(ht){var Tr=ht-K,sn=ht-se,Kg=o-Tr;return ue?Ot(Kg,B-sn):Kg}function Te(ht){var Tr=ht-K,sn=ht-se;return K===r||Tr>=o||Tr<0||ue&&sn>=B}function De(){var ht=Xs();if(Te(ht))return ke(ht);W=$o(De,Pe(ht))}function ke(ht){return W=r,pe&&h?me(ht):(h=_=r,z)}function tr(){W!==r&&kd(W),se=0,h=K=_=W=r}function Ut(){return W===r?z:ke(Xs())}function rr(){var ht=Xs(),Tr=Te(ht);if(h=arguments,_=this,K=ht,Tr){if(W===r)return Se(K);if(ue)return kd(W),W=$o(De,o),me(K)}return W===r&&(W=$o(De,o)),z}return rr.cancel=tr,rr.flush=Ut,rr}var aE=Le(function(n,o){return wd(n,1,o)}),fE=Le(function(n,o,f){return wd(n,lr(o)||0,f)});function uE(n){return en(n,v)}function Qs(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new or(u);var f=function(){var h=arguments,_=o?o.apply(this,h):h[0],B=f.cache;if(B.has(_))return B.get(_);var z=n.apply(this,h);return f.cache=B.set(_,z)||B,z};return f.cache=new(Qs.Cache||Xr),f}Qs.Cache=Xr;function ea(n){if(typeof n!="function")throw new or(u);return function(){var o=arguments;switch(o.length){case 0:return!n.call(this);case 1:return!n.call(this,o[0]);case 2:return!n.call(this,o[0],o[1]);case 3:return!n.call(this,o[0],o[1],o[2])}return!n.apply(this,o)}}function lE(n){return Ag(2,n)}var cE=Jm(function(n,o){o=o.length==1&&Ne(o[0])?rt(o[0],Xt(Ee())):rt(xt(o,1),Xt(Ee()));var f=o.length;return Le(function(h){for(var _=-1,B=Ot(h.length,f);++_<B;)h[_]=o[_].call(this,h[_]);return Jt(n,this,h)})}),$u=Le(function(n,o){var f=xn(o,ki($u));return en(n,V,r,o,f)}),Ig=Le(function(n,o){var f=xn(o,ki(Ig));return en(n,q,r,o,f)}),hE=tn(function(n,o){return en(n,y,r,r,r,o)});function dE(n,o){if(typeof n!="function")throw new or(u);return o=o===r?o:Ce(o),Le(n,o)}function gE(n,o){if(typeof n!="function")throw new or(u);return o=o==null?0:wt(Ce(o),0),Le(function(f){var h=f[o],_=Rn(f,0,o);return h&&Bn(_,h),Jt(n,this,_)})}function pE(n,o,f){var h=!0,_=!0;if(typeof n!="function")throw new or(u);return it(f)&&(h="leading"in f?!!f.leading:h,_="trailing"in f?!!f.trailing:_),Og(n,o,{leading:h,maxWait:o,trailing:_})}function yE(n){return Tg(n,1)}function _E(n,o){return $u(bu(o),n)}function wE(){if(!arguments.length)return[];var n=arguments[0];return Ne(n)?n:[n]}function bE(n){return ar(n,U)}function mE(n,o){return o=typeof o=="function"?o:r,ar(n,U,o)}function vE(n){return ar(n,I|U)}function EE(n,o){return o=typeof o=="function"?o:r,ar(n,I|U,o)}function SE(n,o){return o==null||_d(n,o,mt(o))}function Sr(n,o){return n===o||n!==n&&o!==o}var TE=qs(au),AE=qs(function(n,o){return n>=o}),ai=Sd(function(){return arguments}())?Sd:function(n){return at(n)&&je.call(n,"callee")&&!ud.call(n,"callee")},Ne=Q.isArray,BE=Wh?Xt(Wh):Lm;function Ht(n){return n!=null&&ta(n.length)&&!nn(n)}function ct(n){return at(n)&&Ht(n)}function xE(n){return n===!0||n===!1||at(n)&&Dt(n)==ye}var Pn=Vb||qu,NE=jh?Xt(jh):$m;function OE(n){return at(n)&&n.nodeType===1&&!Do(n)}function IE(n){if(n==null)return!0;if(Ht(n)&&(Ne(n)||typeof n=="string"||typeof n.splice=="function"||Pn(n)||zi(n)||ai(n)))return!n.length;var o=It(n);if(o==M||o==He)return!n.size;if(Lo(n))return!lu(n).length;for(var f in n)if(je.call(n,f))return!1;return!0}function CE(n,o){return Co(n,o)}function RE(n,o,f){f=typeof f=="function"?f:r;var h=f?f(n,o):r;return h===r?Co(n,o,r,f):!!h}function Du(n){if(!at(n))return!1;var o=Dt(n);return o==ve||o==Re||typeof n.message=="string"&&typeof n.name=="string"&&!Do(n)}function PE(n){return typeof n=="number"&&cd(n)}function nn(n){if(!it(n))return!1;var o=Dt(n);return o==Ae||o==$||o==be||o==Ie}function Cg(n){return typeof n=="number"&&n==Ce(n)}function ta(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=R}function it(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}function at(n){return n!=null&&typeof n=="object"}var Rg=qh?Xt(qh):Mm;function LE(n,o){return n===o||uu(n,o,Bu(o))}function $E(n,o,f){return f=typeof f=="function"?f:r,uu(n,o,Bu(o),f)}function DE(n){return Pg(n)&&n!=+n}function ME(n){if(m1(n))throw new xe(a);return Td(n)}function UE(n){return n===null}function kE(n){return n==null}function Pg(n){return typeof n=="number"||at(n)&&Dt(n)==Y}function Do(n){if(!at(n)||Dt(n)!=le)return!1;var o=Ns(n);if(o===null)return!0;var f=je.call(o,"constructor")&&o.constructor;return typeof f=="function"&&f instanceof f&&Ts.call(f)==$b}var Mu=Gh?Xt(Gh):Um;function zE(n){return Cg(n)&&n>=-R&&n<=R}var Lg=Kh?Xt(Kh):km;function ra(n){return typeof n=="string"||!Ne(n)&&at(n)&&Dt(n)==yt}function er(n){return typeof n=="symbol"||at(n)&&Dt(n)==lt}var zi=Zh?Xt(Zh):zm;function VE(n){return n===r}function FE(n){return at(n)&&It(n)==P}function HE(n){return at(n)&&Dt(n)==k}var WE=qs(cu),jE=qs(function(n,o){return n<=o});function $g(n){if(!n)return[];if(Ht(n))return ra(n)?vr(n):Ft(n);if(So&&n[So])return Sb(n[So]());var o=It(n),f=o==M?Xf:o==He?vs:Vi;return f(n)}function on(n){if(!n)return n===0?n:0;if(n=lr(n),n===C||n===-C){var o=n<0?-1:1;return o*L}return n===n?n:0}function Ce(n){var o=on(n),f=o%1;return o===o?f?o-f:o:0}function Dg(n){return n?ni(Ce(n),0,j):0}function lr(n){if(typeof n=="number")return n;if(er(n))return x;if(it(n)){var o=typeof n.valueOf=="function"?n.valueOf():n;n=it(o)?o+"":o}if(typeof n!="string")return n===0?n:+n;n=td(n);var f=Bw.test(n);return f||Nw.test(n)?sb(n.slice(2),f?2:8):Aw.test(n)?x:+n}function Mg(n){return Pr(n,Wt(n))}function qE(n){return n?ni(Ce(n),-R,R):n===0?n:0}function We(n){return n==null?"":Qt(n)}var GE=Mi(function(n,o){if(Lo(o)||Ht(o)){Pr(o,mt(o),n);return}for(var f in o)je.call(o,f)&&No(n,f,o[f])}),Ug=Mi(function(n,o){Pr(o,Wt(o),n)}),na=Mi(function(n,o,f,h){Pr(o,Wt(o),n,h)}),KE=Mi(function(n,o,f,h){Pr(o,mt(o),n,h)}),ZE=tn(iu);function YE(n,o){var f=Di(n);return o==null?f:yd(f,o)}var JE=Le(function(n,o){n=Ye(n);var f=-1,h=o.length,_=h>2?o[2]:r;for(_&&Mt(o[0],o[1],_)&&(h=1);++f<h;)for(var B=o[f],z=Wt(B),W=-1,K=z.length;++W<K;){var se=z[W],ae=n[se];(ae===r||Sr(ae,Pi[se])&&!je.call(n,se))&&(n[se]=B[se])}return n}),XE=Le(function(n){return n.push(r,tg),Jt(kg,r,n)});function QE(n,o){return Jh(n,Ee(o,3),Rr)}function eS(n,o){return Jh(n,Ee(o,3),su)}function tS(n,o){return n==null?n:ou(n,Ee(o,3),Wt)}function rS(n,o){return n==null?n:vd(n,Ee(o,3),Wt)}function nS(n,o){return n&&Rr(n,Ee(o,3))}function iS(n,o){return n&&su(n,Ee(o,3))}function oS(n){return n==null?[]:Us(n,mt(n))}function sS(n){return n==null?[]:Us(n,Wt(n))}function Uu(n,o,f){var h=n==null?r:ii(n,o);return h===r?f:h}function aS(n,o){return n!=null&&ig(n,o,Im)}function ku(n,o){return n!=null&&ig(n,o,Cm)}var fS=Yd(function(n,o,f){o!=null&&typeof o.toString!="function"&&(o=As.call(o)),n[o]=f},Vu(jt)),uS=Yd(function(n,o,f){o!=null&&typeof o.toString!="function"&&(o=As.call(o)),je.call(n,o)?n[o].push(f):n[o]=[f]},Ee),lS=Le(Io);function mt(n){return Ht(n)?gd(n):lu(n)}function Wt(n){return Ht(n)?gd(n,!0):Vm(n)}function cS(n,o){var f={};return o=Ee(o,3),Rr(n,function(h,_,B){Qr(f,o(h,_,B),h)}),f}function hS(n,o){var f={};return o=Ee(o,3),Rr(n,function(h,_,B){Qr(f,_,o(h,_,B))}),f}var dS=Mi(function(n,o,f){ks(n,o,f)}),kg=Mi(function(n,o,f,h){ks(n,o,f,h)}),gS=tn(function(n,o){var f={};if(n==null)return f;var h=!1;o=rt(o,function(B){return B=Cn(B,n),h||(h=B.length>1),B}),Pr(n,Tu(n),f),h&&(f=ar(f,I|D|U,f1));for(var _=o.length;_--;)yu(f,o[_]);return f});function pS(n,o){return zg(n,ea(Ee(o)))}var yS=tn(function(n,o){return n==null?{}:Hm(n,o)});function zg(n,o){if(n==null)return{};var f=rt(Tu(n),function(h){return[h]});return o=Ee(o),Cd(n,f,function(h,_){return o(h,_[0])})}function _S(n,o,f){o=Cn(o,n);var h=-1,_=o.length;for(_||(_=1,n=r);++h<_;){var B=n==null?r:n[Lr(o[h])];B===r&&(h=_,B=f),n=nn(B)?B.call(n):B}return n}function wS(n,o,f){return n==null?n:Ro(n,o,f)}function bS(n,o,f,h){return h=typeof h=="function"?h:r,n==null?n:Ro(n,o,f,h)}var Vg=Qd(mt),Fg=Qd(Wt);function mS(n,o,f){var h=Ne(n),_=h||Pn(n)||zi(n);if(o=Ee(o,4),f==null){var B=n&&n.constructor;_?f=h?new B:[]:it(n)?f=nn(B)?Di(Ns(n)):{}:f={}}return(_?ir:Rr)(n,function(z,W,K){return o(f,z,W,K)}),f}function vS(n,o){return n==null?!0:yu(n,o)}function ES(n,o,f){return n==null?n:Dd(n,o,bu(f))}function SS(n,o,f,h){return h=typeof h=="function"?h:r,n==null?n:Dd(n,o,bu(f),h)}function Vi(n){return n==null?[]:Jf(n,mt(n))}function TS(n){return n==null?[]:Jf(n,Wt(n))}function AS(n,o,f){return f===r&&(f=o,o=r),f!==r&&(f=lr(f),f=f===f?f:0),o!==r&&(o=lr(o),o=o===o?o:0),ni(lr(n),o,f)}function BS(n,o,f){return o=on(o),f===r?(f=o,o=0):f=on(f),n=lr(n),Rm(n,o,f)}function xS(n,o,f){if(f&&typeof f!="boolean"&&Mt(n,o,f)&&(o=f=r),f===r&&(typeof o=="boolean"?(f=o,o=r):typeof n=="boolean"&&(f=n,n=r)),n===r&&o===r?(n=0,o=1):(n=on(n),o===r?(o=n,n=0):o=on(o)),n>o){var h=n;n=o,o=h}if(f||n%1||o%1){var _=hd();return Ot(n+_*(o-n+ob("1e-"+((_+"").length-1))),o)}return du(n,o)}var NS=Ui(function(n,o,f){return o=o.toLowerCase(),n+(f?Hg(o):o)});function Hg(n){return zu(We(n).toLowerCase())}function Wg(n){return n=We(n),n&&n.replace(Iw,wb).replace(Zw,"")}function OS(n,o,f){n=We(n),o=Qt(o);var h=n.length;f=f===r?h:ni(Ce(f),0,h);var _=f;return f-=o.length,f>=0&&n.slice(f,_)==o}function IS(n){return n=We(n),n&&lw.test(n)?n.replace(Cr,bb):n}function CS(n){return n=We(n),n&&yw.test(n)?n.replace($f,"\\$&"):n}var RS=Ui(function(n,o,f){return n+(f?"-":"")+o.toLowerCase()}),PS=Ui(function(n,o,f){return n+(f?" ":"")+o.toLowerCase()}),LS=Gd("toLowerCase");function $S(n,o,f){n=We(n),o=Ce(o);var h=o?Ci(n):0;if(!o||h>=o)return n;var _=(o-h)/2;return js(Rs(_),f)+n+js(Cs(_),f)}function DS(n,o,f){n=We(n),o=Ce(o);var h=o?Ci(n):0;return o&&h<o?n+js(o-h,f):n}function MS(n,o,f){n=We(n),o=Ce(o);var h=o?Ci(n):0;return o&&h<o?js(o-h,f)+n:n}function US(n,o,f){return f||o==null?o=0:o&&(o=+o),jb(We(n).replace(Df,""),o||0)}function kS(n,o,f){return(f?Mt(n,o,f):o===r)?o=1:o=Ce(o),gu(We(n),o)}function zS(){var n=arguments,o=We(n[0]);return n.length<3?o:o.replace(n[1],n[2])}var VS=Ui(function(n,o,f){return n+(f?"_":"")+o.toLowerCase()});function FS(n,o,f){return f&&typeof f!="number"&&Mt(n,o,f)&&(o=f=r),f=f===r?j:f>>>0,f?(n=We(n),n&&(typeof o=="string"||o!=null&&!Mu(o))&&(o=Qt(o),!o&&Ii(n))?Rn(vr(n),0,f):n.split(o,f)):[]}var HS=Ui(function(n,o,f){return n+(f?" ":"")+zu(o)});function WS(n,o,f){return n=We(n),f=f==null?0:ni(Ce(f),0,n.length),o=Qt(o),n.slice(f,f+o.length)==o}function jS(n,o,f){var h=A.templateSettings;f&&Mt(n,o,f)&&(o=r),n=We(n),o=na({},o,h,eg);var _=na({},o.imports,h.imports,eg),B=mt(_),z=Jf(_,B),W,K,se=0,ae=o.interpolate||ys,ue="__p += '",pe=Qf((o.escape||ys).source+"|"+ae.source+"|"+(ae===Eh?Tw:ys).source+"|"+(o.evaluate||ys).source+"|$","g"),me="//# sourceURL="+(je.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eb+"]")+`
`;n.replace(pe,function(Te,De,ke,tr,Ut,rr){return ke||(ke=tr),ue+=n.slice(se,rr).replace(Cw,mb),De&&(W=!0,ue+=`' +
__e(`+De+`) +
'`),Ut&&(K=!0,ue+=`';
`+Ut+`;
__p += '`),ke&&(ue+=`' +
((__t = (`+ke+`)) == null ? '' : __t) +
'`),se=rr+Te.length,Te}),ue+=`';
`;var Se=je.call(o,"variable")&&o.variable;if(!Se)ue=`with (obj) {
`+ue+`
}
`;else if(Ew.test(Se))throw new xe(l);ue=(K?ue.replace(bo,""):ue).replace(mo,"$1").replace(vo,"$1;"),ue="function("+(Se||"obj")+`) {
`+(Se?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(W?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ue+`return __p
}`;var Pe=qg(function(){return Fe(B,me+"return "+ue).apply(r,z)});if(Pe.source=ue,Du(Pe))throw Pe;return Pe}function qS(n){return We(n).toLowerCase()}function GS(n){return We(n).toUpperCase()}function KS(n,o,f){if(n=We(n),n&&(f||o===r))return td(n);if(!n||!(o=Qt(o)))return n;var h=vr(n),_=vr(o),B=rd(h,_),z=nd(h,_)+1;return Rn(h,B,z).join("")}function ZS(n,o,f){if(n=We(n),n&&(f||o===r))return n.slice(0,od(n)+1);if(!n||!(o=Qt(o)))return n;var h=vr(n),_=nd(h,vr(o))+1;return Rn(h,0,_).join("")}function YS(n,o,f){if(n=We(n),n&&(f||o===r))return n.replace(Df,"");if(!n||!(o=Qt(o)))return n;var h=vr(n),_=rd(h,vr(o));return Rn(h,_).join("")}function JS(n,o){var f=p,h=O;if(it(o)){var _="separator"in o?o.separator:_;f="length"in o?Ce(o.length):f,h="omission"in o?Qt(o.omission):h}n=We(n);var B=n.length;if(Ii(n)){var z=vr(n);B=z.length}if(f>=B)return n;var W=f-Ci(h);if(W<1)return h;var K=z?Rn(z,0,W).join(""):n.slice(0,W);if(_===r)return K+h;if(z&&(W+=K.length-W),Mu(_)){if(n.slice(W).search(_)){var se,ae=K;for(_.global||(_=Qf(_.source,We(Sh.exec(_))+"g")),_.lastIndex=0;se=_.exec(ae);)var ue=se.index;K=K.slice(0,ue===r?W:ue)}}else if(n.indexOf(Qt(_),W)!=W){var pe=K.lastIndexOf(_);pe>-1&&(K=K.slice(0,pe))}return K+h}function XS(n){return n=We(n),n&&mr.test(n)?n.replace(Tn,xb):n}var QS=Ui(function(n,o,f){return n+(f?" ":"")+o.toUpperCase()}),zu=Gd("toUpperCase");function jg(n,o,f){return n=We(n),o=f?r:o,o===r?Eb(n)?Ib(n):db(n):n.match(o)||[]}var qg=Le(function(n,o){try{return Jt(n,r,o)}catch(f){return Du(f)?f:new xe(f)}}),eT=tn(function(n,o){return ir(o,function(f){f=Lr(f),Qr(n,f,Lu(n[f],n))}),n});function tT(n){var o=n==null?0:n.length,f=Ee();return n=o?rt(n,function(h){if(typeof h[1]!="function")throw new or(u);return[f(h[0]),h[1]]}):[],Le(function(h){for(var _=-1;++_<o;){var B=n[_];if(Jt(B[0],this,h))return Jt(B[1],this,h)}})}function rT(n){return xm(ar(n,I))}function Vu(n){return function(){return n}}function nT(n,o){return n==null||n!==n?o:n}var iT=Zd(),oT=Zd(!0);function jt(n){return n}function Fu(n){return Ad(typeof n=="function"?n:ar(n,I))}function sT(n){return xd(ar(n,I))}function aT(n,o){return Nd(n,ar(o,I))}var fT=Le(function(n,o){return function(f){return Io(f,n,o)}}),uT=Le(function(n,o){return function(f){return Io(n,f,o)}});function Hu(n,o,f){var h=mt(o),_=Us(o,h);f==null&&!(it(o)&&(_.length||!h.length))&&(f=o,o=n,n=this,_=Us(o,mt(o)));var B=!(it(f)&&"chain"in f)||!!f.chain,z=nn(n);return ir(_,function(W){var K=o[W];n[W]=K,z&&(n.prototype[W]=function(){var se=this.__chain__;if(B||se){var ae=n(this.__wrapped__),ue=ae.__actions__=Ft(this.__actions__);return ue.push({func:K,args:arguments,thisArg:n}),ae.__chain__=se,ae}return K.apply(n,Bn([this.value()],arguments))})}),n}function lT(){return Bt._===this&&(Bt._=Db),this}function Wu(){}function cT(n){return n=Ce(n),Le(function(o){return Od(o,n)})}var hT=vu(rt),dT=vu(Yh),gT=vu(qf);function Gg(n){return Nu(n)?Gf(Lr(n)):Wm(n)}function pT(n){return function(o){return n==null?r:ii(n,o)}}var yT=Jd(),_T=Jd(!0);function ju(){return[]}function qu(){return!1}function wT(){return{}}function bT(){return""}function mT(){return!0}function vT(n,o){if(n=Ce(n),n<1||n>R)return[];var f=j,h=Ot(n,j);o=Ee(o),n-=j;for(var _=Yf(h,o);++f<n;)o(f);return _}function ET(n){return Ne(n)?rt(n,Lr):er(n)?[n]:Ft(dg(We(n)))}function ST(n){var o=++Lb;return We(n)+o}var TT=Ws(function(n,o){return n+o},0),AT=Eu("ceil"),BT=Ws(function(n,o){return n/o},1),xT=Eu("floor");function NT(n){return n&&n.length?Ms(n,jt,au):r}function OT(n,o){return n&&n.length?Ms(n,Ee(o,2),au):r}function IT(n){return Qh(n,jt)}function CT(n,o){return Qh(n,Ee(o,2))}function RT(n){return n&&n.length?Ms(n,jt,cu):r}function PT(n,o){return n&&n.length?Ms(n,Ee(o,2),cu):r}var LT=Ws(function(n,o){return n*o},1),$T=Eu("round"),DT=Ws(function(n,o){return n-o},0);function MT(n){return n&&n.length?Zf(n,jt):0}function UT(n,o){return n&&n.length?Zf(n,Ee(o,2)):0}return A.after=sE,A.ary=Tg,A.assign=GE,A.assignIn=Ug,A.assignInWith=na,A.assignWith=KE,A.at=ZE,A.before=Ag,A.bind=Lu,A.bindAll=eT,A.bindKey=Bg,A.castArray=wE,A.chain=vg,A.chunk=x1,A.compact=N1,A.concat=O1,A.cond=tT,A.conforms=rT,A.constant=Vu,A.countBy=Mv,A.create=YE,A.curry=xg,A.curryRight=Ng,A.debounce=Og,A.defaults=JE,A.defaultsDeep=XE,A.defer=aE,A.delay=fE,A.difference=I1,A.differenceBy=C1,A.differenceWith=R1,A.drop=P1,A.dropRight=L1,A.dropRightWhile=$1,A.dropWhile=D1,A.fill=M1,A.filter=kv,A.flatMap=Fv,A.flatMapDeep=Hv,A.flatMapDepth=Wv,A.flatten=_g,A.flattenDeep=U1,A.flattenDepth=k1,A.flip=uE,A.flow=iT,A.flowRight=oT,A.fromPairs=z1,A.functions=oS,A.functionsIn=sS,A.groupBy=jv,A.initial=F1,A.intersection=H1,A.intersectionBy=W1,A.intersectionWith=j1,A.invert=fS,A.invertBy=uS,A.invokeMap=Gv,A.iteratee=Fu,A.keyBy=Kv,A.keys=mt,A.keysIn=Wt,A.map=Js,A.mapKeys=cS,A.mapValues=hS,A.matches=sT,A.matchesProperty=aT,A.memoize=Qs,A.merge=dS,A.mergeWith=kg,A.method=fT,A.methodOf=uT,A.mixin=Hu,A.negate=ea,A.nthArg=cT,A.omit=gS,A.omitBy=pS,A.once=lE,A.orderBy=Zv,A.over=hT,A.overArgs=cE,A.overEvery=dT,A.overSome=gT,A.partial=$u,A.partialRight=Ig,A.partition=Yv,A.pick=yS,A.pickBy=zg,A.property=Gg,A.propertyOf=pT,A.pull=Z1,A.pullAll=bg,A.pullAllBy=Y1,A.pullAllWith=J1,A.pullAt=X1,A.range=yT,A.rangeRight=_T,A.rearg=hE,A.reject=Qv,A.remove=Q1,A.rest=dE,A.reverse=Ru,A.sampleSize=tE,A.set=wS,A.setWith=bS,A.shuffle=rE,A.slice=ev,A.sortBy=oE,A.sortedUniq=av,A.sortedUniqBy=fv,A.split=FS,A.spread=gE,A.tail=uv,A.take=lv,A.takeRight=cv,A.takeRightWhile=hv,A.takeWhile=dv,A.tap=Nv,A.throttle=pE,A.thru=Ys,A.toArray=$g,A.toPairs=Vg,A.toPairsIn=Fg,A.toPath=ET,A.toPlainObject=Mg,A.transform=mS,A.unary=yE,A.union=gv,A.unionBy=pv,A.unionWith=yv,A.uniq=_v,A.uniqBy=wv,A.uniqWith=bv,A.unset=vS,A.unzip=Pu,A.unzipWith=mg,A.update=ES,A.updateWith=SS,A.values=Vi,A.valuesIn=TS,A.without=mv,A.words=jg,A.wrap=_E,A.xor=vv,A.xorBy=Ev,A.xorWith=Sv,A.zip=Tv,A.zipObject=Av,A.zipObjectDeep=Bv,A.zipWith=xv,A.entries=Vg,A.entriesIn=Fg,A.extend=Ug,A.extendWith=na,Hu(A,A),A.add=TT,A.attempt=qg,A.camelCase=NS,A.capitalize=Hg,A.ceil=AT,A.clamp=AS,A.clone=bE,A.cloneDeep=vE,A.cloneDeepWith=EE,A.cloneWith=mE,A.conformsTo=SE,A.deburr=Wg,A.defaultTo=nT,A.divide=BT,A.endsWith=OS,A.eq=Sr,A.escape=IS,A.escapeRegExp=CS,A.every=Uv,A.find=zv,A.findIndex=pg,A.findKey=QE,A.findLast=Vv,A.findLastIndex=yg,A.findLastKey=eS,A.floor=xT,A.forEach=Eg,A.forEachRight=Sg,A.forIn=tS,A.forInRight=rS,A.forOwn=nS,A.forOwnRight=iS,A.get=Uu,A.gt=TE,A.gte=AE,A.has=aS,A.hasIn=ku,A.head=wg,A.identity=jt,A.includes=qv,A.indexOf=V1,A.inRange=BS,A.invoke=lS,A.isArguments=ai,A.isArray=Ne,A.isArrayBuffer=BE,A.isArrayLike=Ht,A.isArrayLikeObject=ct,A.isBoolean=xE,A.isBuffer=Pn,A.isDate=NE,A.isElement=OE,A.isEmpty=IE,A.isEqual=CE,A.isEqualWith=RE,A.isError=Du,A.isFinite=PE,A.isFunction=nn,A.isInteger=Cg,A.isLength=ta,A.isMap=Rg,A.isMatch=LE,A.isMatchWith=$E,A.isNaN=DE,A.isNative=ME,A.isNil=kE,A.isNull=UE,A.isNumber=Pg,A.isObject=it,A.isObjectLike=at,A.isPlainObject=Do,A.isRegExp=Mu,A.isSafeInteger=zE,A.isSet=Lg,A.isString=ra,A.isSymbol=er,A.isTypedArray=zi,A.isUndefined=VE,A.isWeakMap=FE,A.isWeakSet=HE,A.join=q1,A.kebabCase=RS,A.last=ur,A.lastIndexOf=G1,A.lowerCase=PS,A.lowerFirst=LS,A.lt=WE,A.lte=jE,A.max=NT,A.maxBy=OT,A.mean=IT,A.meanBy=CT,A.min=RT,A.minBy=PT,A.stubArray=ju,A.stubFalse=qu,A.stubObject=wT,A.stubString=bT,A.stubTrue=mT,A.multiply=LT,A.nth=K1,A.noConflict=lT,A.noop=Wu,A.now=Xs,A.pad=$S,A.padEnd=DS,A.padStart=MS,A.parseInt=US,A.random=xS,A.reduce=Jv,A.reduceRight=Xv,A.repeat=kS,A.replace=zS,A.result=_S,A.round=$T,A.runInContext=G,A.sample=eE,A.size=nE,A.snakeCase=VS,A.some=iE,A.sortedIndex=tv,A.sortedIndexBy=rv,A.sortedIndexOf=nv,A.sortedLastIndex=iv,A.sortedLastIndexBy=ov,A.sortedLastIndexOf=sv,A.startCase=HS,A.startsWith=WS,A.subtract=DT,A.sum=MT,A.sumBy=UT,A.template=jS,A.times=vT,A.toFinite=on,A.toInteger=Ce,A.toLength=Dg,A.toLower=qS,A.toNumber=lr,A.toSafeInteger=qE,A.toString=We,A.toUpper=GS,A.trim=KS,A.trimEnd=ZS,A.trimStart=YS,A.truncate=JS,A.unescape=XS,A.uniqueId=ST,A.upperCase=QS,A.upperFirst=zu,A.each=Eg,A.eachRight=Sg,A.first=wg,Hu(A,function(){var n={};return Rr(A,function(o,f){je.call(A.prototype,f)||(n[f]=o)}),n}(),{chain:!1}),A.VERSION=i,ir(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){A[n].placeholder=A}),ir(["drop","take"],function(n,o){Ue.prototype[n]=function(f){f=f===r?1:wt(Ce(f),0);var h=this.__filtered__&&!o?new Ue(this):this.clone();return h.__filtered__?h.__takeCount__=Ot(f,h.__takeCount__):h.__views__.push({size:Ot(f,j),type:n+(h.__dir__<0?"Right":"")}),h},Ue.prototype[n+"Right"]=function(f){return this.reverse()[n](f).reverse()}}),ir(["filter","map","takeWhile"],function(n,o){var f=o+1,h=f==b||f==N;Ue.prototype[n]=function(_){var B=this.clone();return B.__iteratees__.push({iteratee:Ee(_,3),type:f}),B.__filtered__=B.__filtered__||h,B}}),ir(["head","last"],function(n,o){var f="take"+(o?"Right":"");Ue.prototype[n]=function(){return this[f](1).value()[0]}}),ir(["initial","tail"],function(n,o){var f="drop"+(o?"":"Right");Ue.prototype[n]=function(){return this.__filtered__?new Ue(this):this[f](1)}}),Ue.prototype.compact=function(){return this.filter(jt)},Ue.prototype.find=function(n){return this.filter(n).head()},Ue.prototype.findLast=function(n){return this.reverse().find(n)},Ue.prototype.invokeMap=Le(function(n,o){return typeof n=="function"?new Ue(this):this.map(function(f){return Io(f,n,o)})}),Ue.prototype.reject=function(n){return this.filter(ea(Ee(n)))},Ue.prototype.slice=function(n,o){n=Ce(n);var f=this;return f.__filtered__&&(n>0||o<0)?new Ue(f):(n<0?f=f.takeRight(-n):n&&(f=f.drop(n)),o!==r&&(o=Ce(o),f=o<0?f.dropRight(-o):f.take(o-n)),f)},Ue.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Ue.prototype.toArray=function(){return this.take(j)},Rr(Ue.prototype,function(n,o){var f=/^(?:filter|find|map|reject)|While$/.test(o),h=/^(?:head|last)$/.test(o),_=A[h?"take"+(o=="last"?"Right":""):o],B=h||/^find/.test(o);_&&(A.prototype[o]=function(){var z=this.__wrapped__,W=h?[1]:arguments,K=z instanceof Ue,se=W[0],ae=K||Ne(z),ue=function(De){var ke=_.apply(A,Bn([De],W));return h&&pe?ke[0]:ke};ae&&f&&typeof se=="function"&&se.length!=1&&(K=ae=!1);var pe=this.__chain__,me=!!this.__actions__.length,Se=B&&!pe,Pe=K&&!me;if(!B&&ae){z=Pe?z:new Ue(this);var Te=n.apply(z,W);return Te.__actions__.push({func:Ys,args:[ue],thisArg:r}),new sr(Te,pe)}return Se&&Pe?n.apply(this,W):(Te=this.thru(ue),Se?h?Te.value()[0]:Te.value():Te)})}),ir(["pop","push","shift","sort","splice","unshift"],function(n){var o=Es[n],f=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",h=/^(?:pop|shift)$/.test(n);A.prototype[n]=function(){var _=arguments;if(h&&!this.__chain__){var B=this.value();return o.apply(Ne(B)?B:[],_)}return this[f](function(z){return o.apply(Ne(z)?z:[],_)})}}),Rr(Ue.prototype,function(n,o){var f=A[o];if(f){var h=f.name+"";je.call($i,h)||($i[h]=[]),$i[h].push({name:o,func:f})}}),$i[Hs(r,J).name]=[{name:"wrapper",func:r}],Ue.prototype.clone=Xb,Ue.prototype.reverse=Qb,Ue.prototype.value=em,A.prototype.at=Ov,A.prototype.chain=Iv,A.prototype.commit=Cv,A.prototype.next=Rv,A.prototype.plant=Lv,A.prototype.reverse=$v,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=Dv,A.prototype.first=A.prototype.head,So&&(A.prototype[So]=Pv),A},Ri=Cb();Qn?((Qn.exports=Ri)._=Ri,Ff._=Ri):Bt._=Ri}).call(ut)})(ka,ka.exports);ka.exports;function ky(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,i)}return r}function Kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ky(Object(r),!0).forEach(function(i){Gt(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}class aL extends Y0{constructor(e){let{config:r={},state:i={}}=e;super(),Gt(this,"defaultConfig",{}),Gt(this,"defaultState",{}),Gt(this,"disabled",!1),Gt(this,"name","BaseController"),Gt(this,"initialConfig",void 0),Gt(this,"initialState",void 0),Gt(this,"internalConfig",this.defaultConfig),Gt(this,"internalState",this.defaultState),this.initialState=i,this.initialConfig=r}get config(){return this.internalConfig}get state(){return this.internalState}configure(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0){this.internalConfig=r?e:Object.assign(this.internalConfig,e);for(const s in this.internalConfig)typeof this.internalConfig[s]<"u"&&(this[s]=this.internalConfig[s])}else for(const s in e)typeof this.internalConfig[s]<"u"&&(this.internalConfig[s]=e[s],this[s]=e[s])}update(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.internalState=Kl(r?{}:Kl({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const fL=()=>!0,uL=["newListener","removeListener"],lL=t=>!uL.includes(t);function cL(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function uw(t,e){let i=(e||{}).eventFilter||fL;if(typeof i=="string"&&i==="skipInternal"&&(i=lL),typeof i!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let s=t,a=l=>{const c=s;s=l,c.eventNames().filter(i).forEach(d=>{cL(c,d).forEach(T=>l.on(d,T))}),c.removeAllListeners()};return new Proxy({},{get:(l,c)=>c==="setTarget"?a:s[c],set:(l,c,d)=>c==="setTarget"?(a=d,!0):(s[c]=d,!0)})}function zy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,i)}return r}function Vy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zy(Object(r),!0).forEach(function(i){Gt(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zy(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const hL=J0();function dL(t){const e=new Y0;return e.sendAsync=async r=>{const i=await t.handle(r);if(i.error){var s,a;const u=jr.serializeError(i.error,{fallbackError:{message:((s=i.error)===null||s===void 0?void 0:s.message)||i.error.toString(),code:((a=i.error)===null||a===void 0?void 0:a.code)||-32603}});throw jr.ethErrors.rpc.internal(u)}return i.result},e.send=(r,i)=>{if(typeof i!="function")throw new Error('Must provide callback to "send" method.');t.handle(r,i)},t.on&&t.on("notification",r=>{e.emit("data",null,r)}),e.request=async r=>{const i=Vy(Vy({},r),{},{id:hL(),jsonrpc:"2.0"});return await e.sendAsync(i)},e}const $L={IFRAME_STATUS:"iframe_status",CREATE_WINDOW:"create_window",CLOSE_WINDOW:"close_window",USER_LOGGED_IN:"user_logged_in",USER_LOGGED_OUT:"user_logged_out"},DL={LOGOUT:"logout",WALLET_INSTANCE_ID:"wallet_instance_id",USER_INFO:"user_info",SET_PROVIDER:"set_provider",TOPUP:"topup",IFRAME_STATUS:"iframe_status",OPENED_WINDOW:"opened_window",CLOSED_WINDOW:"closed_window",GET_PROVIDER_STATE:"get_provider_state",LOGIN_WITH_PRIVATE_KEY:"login_with_private_key"},ML={GET_PROVIDER_STATE:"wallet_get_provider_state"},UL={ACCOUNTS_CHANGED:"wallet_accounts_changed",CHAIN_CHANGED:"wallet_chain_changed",UNLOCK_STATE_CHANGED:"wallet_unlock_state_changed"};function Fy(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}function gL(t,e,r){const i=gr.fromSigned(e),s=gr.fromSigned(r),a=gr.bufferToBigInt(t),u=Fy(gr.toUnsigned(i).toString("hex"),64),l=Fy(gr.toUnsigned(s).toString("hex"),64),c=gr.stripHexPrefix(gr.bigIntToHex(a));return gr.addHexPrefix(u.concat(l,c))}const kL=(t,e)=>{const r=Buffer.from(t,"hex"),i=gr.stripHexPrefix(e),s=gr.ecsign(Buffer.from(i,"hex"),r);return gL(gr.bigIntToBuffer(s.v),s.r,s.s)},pL=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function yL(t){switch(t.status){case 405:throw jr.ethErrors.rpc.methodNotFound();case 418:throw jr.ethErrors.rpc.internal({message:"Request is being rate limited."});case 503:case 504:throw jr.ethErrors.rpc.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range."})}}function _L(t){return new Promise(e=>{setTimeout(e,t)})}function wL(t,e){if(t.status!==200)throw jr.ethErrors.rpc.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error)throw jr.ethErrors.rpc.internal({data:e.error});return e.result}function bL(t){let{req:e,rpcTarget:r,originHttpHeaderKey:i}=t;const s=new URL(r),a={id:e.id,jsonrpc:e.jsonrpc,method:e.method,params:e.params},u=e.origin,l=JSON.stringify(a),c={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:l};return i&&u&&(c.headers[i]=u),{fetchUrl:s.href,fetchParams:c}}function zL(t){let{rpcTarget:e,originHttpHeaderKey:r}=t;return Ix(async(i,s,a)=>{const{fetchUrl:u,fetchParams:l}=bL({req:i,rpcTarget:e,originHttpHeaderKey:r}),c=5,d=1e3;for(let T=0;T<c;T++){try{const I=await fetch(u,l);yL(I);const D=await I.json(),U=wL(I,D);s.result=U;return}catch(I){const D=I.toString();if(!pL.some(H=>D.includes(H)))throw I}await _L(d)}})}function VL(t){return function(r,i,s){s(a=>{i.error&&Yg.warn(`Error in RPC response:
`,i),!r.isTorusInternal&&(Yg.info(`RPC (${t.origin}):`,r,"->",i),a())})}}var Hy;(function(t){t.approved="approved",t.cancelled="cancelled",t.confirmed="confirmed",t.failed="failed",t.finalized="finalized",t.processed="processed",t.rejected="rejected",t.signed="signed",t.submitted="submitted",t.unapproved="unapproved",t.dropped="dropped",t.expired="expired"})(Hy||(Hy={}));function Wy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,i)}return r}function jy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wy(Object(r),!0).forEach(function(i){Gt(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wy(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}class FL extends aL{constructor(e){let{config:r,state:i}=e;if(super({config:r,state:i}),Gt(this,"_providerEngineProxy",null),!r.chainConfig)throw Gu.invalidProviderConfigError("Please provide chainConfig");if(!r.chainConfig.chainId)throw Gu.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!r.chainConfig.rpcTarget)throw Gu.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");this.defaultState={chainId:"loading"},this.defaultConfig={chainConfig:r.chainConfig,networks:{[r.chainConfig.chainId]:r.chainConfig}},super.initialize()}get provider(){return this._providerEngineProxy}set provider(e){throw new Error("Method not implemented.")}addChain(e){if(!e.chainId)throw jr.ethErrors.rpc.invalidParams("chainId is required");if(!e.rpcTarget)throw jr.ethErrors.rpc.invalidParams("chainId is required");this.configure({networks:jy(jy({},this.config.networks),{},{[e.chainId]:e})})}getChainConfig(e){var r;const i=(r=this.config.networks)===null||r===void 0?void 0:r[e];if(!i)throw jr.ethErrors.rpc.invalidRequest("Chain ".concat(e," is not supported, please add chainConfig for it"));return i}getProviderEngineProxy(){return this._providerEngineProxy}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=uw(e)}}class qy{constructor(){Gt(this,"_providerEngineProxy",null)}get provider(){return this._providerEngineProxy}set provider(e){throw new Error("Method not implemented.")}addChain(e){throw new Error("Method not implemented.")}async setupProvider(e){const r=this.getPrivKeyMiddleware(e),i=new HT;i.push(r);const s=dL(i);this.updateProviderEngineProxy(s)}async switchChain(e){return Promise.resolve()}getProviderEngineProxy(){return this._providerEngineProxy}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=uw(e)}getPrivKeyMiddleware(e){const r={getPrivatekey:async()=>e};return this.createPrivKeyMiddleware(r)}createPrivKeyMiddleware(e){let{getPrivatekey:r}=e;async function i(s,a){a.result=await r()}return WT({private_key:jT(i)})}}Gt(qy,"getProviderInstance",async t=>{const e=new qy;return await e.setupProvider(t.privKey),e});J0();export{FL as B,DL as C,tA as H,ML as P,nA as S,$L as a,UL as b,VL as c,qy as d,SL as e,TL as f,Ku as g,EL as h,zL as i,yo as j,LL as k,kL as l,dL as p,AL as r,fA as s,Bc as t,eA as u,Zy as w};
